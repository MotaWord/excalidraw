/*! For license information please see build-node.js.LICENSE.txt */
(()=>{var e={5783:(e,t,n)=>{"use strict";n.d(t,{CZ:()=>C,JB:()=>M,Lo:()=>S,Zp:()=>_,eF:()=>Z,mo:()=>E});var r=n(885),a=n(1413),i=n(7481),o=n(7118),l=n(5007),s=n(5320),c=n(4991),u=n(5861),d=n(9057),f=n(7536),h=n(2650),p=n(6961),v=n(7253),m=n(797),g=n(8036),y=n(6139),b=n(6462),x=n(3729),w=n(3600),k=n(184),E=((0,m.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.changeViewBackgroundColor&&!t.viewModeEnabled},perform:function(e,t,n){return{appState:(0,a.Z)((0,a.Z)({},t),n),commitToHistory:!!n.viewBackgroundColor}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;e.appProps;return(0,k.jsx)(i.z,{palette:null,topPicks:x.ay,label:(0,u.t)("labels.canvasBackground"),type:"canvasBackground",color:n.viewBackgroundColor,onChange:function(e){return r({viewBackgroundColor:e})},"data-testid":"canvas-background-picker",elements:t,appState:n,updateData:r})}}),(0,m.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.clearCanvas&&!t.viewModeEnabled},perform:function(e,t,n,r){return r.imageCache.clear(),{elements:e.map((function(e){return(0,y.BE)(e,{isDeleted:!0})})),appState:(0,a.Z)((0,a.Z)({},(0,b.im)()),{},{files:{},theme:t.theme,penMode:t.penMode,penDetected:t.penDetected,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,showStats:t.showStats,pasteDialog:t.pasteDialog,activeTool:"image"===t.activeTool.type?(0,a.Z)((0,a.Z)({},t.activeTool),{},{type:"selection"}):t.activeTool}),commitToHistory:!0}}})),S=(0,m.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:(0,a.Z)((0,a.Z)({},t),(0,p.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,f.j)(t.zoom.value+s.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,k.jsx)(l.V,{type:"button",className:"zoom-in-button zoom-button",icon:o.Sd,title:"".concat((0,u.t)("buttons.zoomIn")," \u2014 ").concat((0,v.uY)("CtrlOrCmd++")),"aria-label":(0,u.t)("buttons.zoomIn"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===d.aU.EQUAL||e.code===d.aU.NUM_ADD)&&(e[d.tW.CTRL_OR_CMD]||e.shiftKey)}}),C=(0,m.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:(0,a.Z)((0,a.Z)({},t),(0,p.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,f.j)(t.zoom.value-s.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,k.jsx)(l.V,{type:"button",className:"zoom-out-button zoom-button",icon:o.xL,title:"".concat((0,u.t)("buttons.zoomOut")," \u2014 ").concat((0,v.uY)("CtrlOrCmd+-")),"aria-label":(0,u.t)("buttons.zoomOut"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===d.aU.MINUS||e.code===d.aU.NUM_SUBTRACT)&&(e[d.tW.CTRL_OR_CMD]||e.shiftKey)}}),M=((0,m.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:(0,a.Z)((0,a.Z)({},t),(0,p.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,f.j)(1)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,k.jsx)(g.u,{label:(0,u.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,k.jsxs)(l.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,u.t)("buttons.resetZoom"),"aria-label":(0,u.t)("buttons.resetZoom"),onClick:function(){t(null)},children:[(100*n.zoom.value).toFixed(0),"%"]})})},keyTest:function(e){return(e.code===d.aU.ZERO||e.code===d.aU.NUM_ZERO)&&(e[d.tW.CTRL_OR_CMD]||e.shiftKey)}}),function(e){var t,n,i,o=e.targetElements,l=e.appState,u=e.fitToViewport,d=void 0!==u&&u,f=e.viewportZoomFactor,p=void 0===f?.7:f,v=(0,c.KP)((0,c.Lm)(o)),m=(0,r.Z)(v,4),g=m[0],y=m[1],b=m[2],x=m[3],w=(g+b)/2,k=(y+x)/2;if(d){var E=b-g,S=x-y;t=Math.min(l.width/E,l.height/S)*Math.min(1,Math.max(p,.1)),t=Math.min(Math.max(t,.1),30),n=l.width/2*(1/t)-w,i=l.height/2*(1/t)-k}else{t=function(e,t){var n=(0,r.Z)(e,4),a=n[0],i=n[1],o=n[2],l=n[3],c=o-a,u=t.width/c,d=l-i,f=t.height/d,h=Math.min(u,f),p=Math.floor(h/s.V4)*s.V4;return Math.min(Math.max(p,s.Zj),1)}(v,{width:l.width,height:l.height});var C=(0,h.s)({scenePoint:{x:w,y:k},viewportDimensions:{width:l.width,height:l.height},zoom:{value:t}});n=C.scrollX,i=C.scrollY}return{appState:(0,a.Z)((0,a.Z)({},l),{},{scrollX:n,scrollY:i,zoom:{value:t}}),commitToHistory:!1}}),_=((0,m.z)({name:"zoomToFitSelectionInViewport",trackEvent:{category:"canvas"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return M({targetElements:a.length?a:e,appState:t,fitToViewport:!1})},keyTest:function(e){return e.code===d.aU.TWO&&e.shiftKey&&!e.altKey&&!e[d.tW.CTRL_OR_CMD]}}),(0,m.z)({name:"zoomToFitSelection",trackEvent:{category:"canvas"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return M({targetElements:a.length?a:e,appState:t,fitToViewport:!0})},keyTest:function(e){return e.code===d.aU.THREE&&e.shiftKey&&!e.altKey&&!e[d.tW.CTRL_OR_CMD]}}),(0,m.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t){return M({targetElements:e,appState:t,fitToViewport:!1})},keyTest:function(e){return e.code===d.aU.ONE&&e.shiftKey&&!e.altKey&&!e[d.tW.CTRL_OR_CMD]}}),(0,m.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n){return{appState:(0,a.Z)((0,a.Z)({},t),{},{theme:n||(t.theme===s.C6.LIGHT?s.C6.DARK:s.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(e){return e.altKey&&e.shiftKey&&e.code===d.aU.D},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.toggleTheme}})),Z=((0,m.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(e,t){var n;return n=(0,b.EN)(t)?(0,v.Om)(t,(0,a.Z)((0,a.Z)({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,v.Om)(t,{type:"eraser",lastActiveToolBeforeEraser:t.activeTool}),{appState:(0,a.Z)((0,a.Z)({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:n}),commitToHistory:!0}},keyTest:function(e){return e.key===d.tW.E}}),(0,m.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(e,t,n,r){var i;return(0,b.l$)(t)?i=(0,v.Om)(t,(0,a.Z)((0,a.Z)({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(i=(0,v.Om)(t,{type:"hand",lastActiveToolBeforeEraser:t.activeTool}),(0,w.KJ)(r.interactiveCanvas,s.oc.GRAB)),{appState:(0,a.Z)((0,a.Z)({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:i}),commitToHistory:!0}},keyTest:function(e){return e.key===d.tW.H}}))},2806:(e,t,n)=>{"use strict";n.d(t,{Tu:()=>L,Zq:()=>D});var r=n(4942),a=n(2982),i=n(1413),o=n(3729),l=n(6059),s=n(8182),c=n(184),u=function(e){return(0,c.jsx)("div",{className:"buttonList buttonListIcon",children:e.options.map((function(t){var n;return"button"===e.type?(0,c.jsx)("button",{onClick:function(n){return e.onClick(t.value,n)},className:(0,s.Z)({active:null!==(n=t.active)&&void 0!==n?n:e.value===t.value}),"data-testid":t.testId,title:t.text,children:t.icon},t.text):(0,c.jsxs)("label",{className:(0,s.Z)({active:e.value===t.value}),title:t.text,children:[(0,c.jsx)("input",{type:"radio",name:e.group,onChange:function(){return e.onChange(t.value)},checked:e.value===t.value,"data-testid":t.testId}),t.icon]},t.text)}))})},d=n(7481),f=n(885),h=n(2791),p=n(7619);var v=n(9057),m=n(5861);function g(e){var t=e.options,n=e.value,r=e.label,a=e.onChange,i=e.onClose,o=h.useRef(),l=h.useRef(),u=h.useRef(null);h.useEffect((function(){l.current?l.current.focus():u.current&&u.current.focus()}),[]);return(0,c.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":r,onKeyDown:function(e){var n=t.find((function(t){return t.keyBinding===e.key.toLowerCase()}));if(e.metaKey||e.altKey||e.ctrlKey||!n)if(e.key===v.tW.TAB)setTimeout((function(){l.current!==document.activeElement&&i()}),0);else if((0,v.Wl)(e.key)){var r=document.activeElement,a=(0,m.G3)().rtl,o=Array.prototype.indexOf.call(u.current.children,r);if(-1!==o){var s=t.length,c=o;switch(e.key){case a?v.tW.ARROW_LEFT:v.tW.ARROW_RIGHT:case v.tW.ARROW_DOWN:c=(o+1)%s;break;case a?v.tW.ARROW_RIGHT:v.tW.ARROW_LEFT:case v.tW.ARROW_UP:c=(s+o-1)%s}u.current.children[c].focus()}e.preventDefault()}else e.key!==v.tW.ESCAPE&&e.key!==v.tW.ENTER||(e.preventDefault(),i());else{var d=t.indexOf(n);u.current.children[d].focus(),e.preventDefault()}e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},children:(0,c.jsx)("div",{className:"picker-content",ref:u,children:t.map((function(e,t){return(0,c.jsxs)("button",{className:(0,s.Z)("picker-option",{active:n===e.value}),onClick:function(t){t.currentTarget.focus(),a(e.value)},title:"".concat(e.text," \u2014 ").concat(e.keyBinding.toUpperCase()),"aria-label":e.text||"none","aria-keyshortcuts":e.keyBinding,ref:function(r){r&&0===t&&(o.current=r),r&&e.value===n&&(l.current=r)},onFocus:function(){a(e.value)},children:[e.icon,(0,c.jsx)("span",{className:"picker-keybinding",children:e.keyBinding})]},e.text)}))})})}function y(e){var t,n=e.value,r=e.label,a=e.options,o=e.onChange,l=e.group,s=void 0===l?"":l,u=h.useState(!1),d=(0,f.Z)(u,2),v=d[0],y=d[1],b=h.useRef(null),x=(0,m.G3)().rtl;return(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{name:s,className:v?"active":"","aria-label":r,onClick:function(){return y(!v)},ref:b,children:null===(t=a.find((function(e){return e.value===n})))||void 0===t?void 0:t.icon}),(0,c.jsx)(h.Suspense,{fallback:"",children:v?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(p.J,(0,i.Z)((0,i.Z)({onCloseRequest:function(e){return e.target!==b.current&&y(!1)}},x?{right:5.5}:{left:-5.5}),{},{children:(0,c.jsx)(g,{options:a,value:n,label:r,onChange:o,onClose:function(){var e;y(!1),null===(e=b.current)||void 0===e||e.focus()}})})),(0,c.jsx)("div",{className:"picker-triangle"})]}):null})]})}var b=n(7118),x=n(5320),w=n(4991),k=n(6139),E=n(5016),S=n(5529),C=n(3859),M=n(7536),_=n(1598),Z=n(7253),I=n(797),T=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,Z.xn)((0,M.eD)(e,t,{includeBoundTextElement:r}));return e.map((function(e){var r;return a.get(e.id)||e.id===(null===(r=t.editingElement)||void 0===r?void 0:r.id)?n(e):e}))},j=function(e,t,n,r,a){var i,o=t.editingElement,l=(0,w.Lm)(e),s=null;(o&&(s=n(o)),s)||(s=(0,M.N)(l,t)?null!==(i=(0,M.PR)(!0===r?l:l.filter((function(e){return r(e)})),t,n))&&void 0!==i?i:"function"===typeof a?a(!0):a:"function"===typeof a?a(!1):a);return s},P=function(e,t,n,r){var o=new Set;return{elements:T(e,t,(function(e){if((0,w.iB)(e)){var t=n(e);o.add(t);var r=(0,k.BE)(e,{fontSize:t});return(0,w.oN)(r,(0,E.tl)(e)),a=e,i=r,r=(0,S.Xh)(i)?i:(0,k.DR)(i,{x:"left"===a.textAlign?a.x:a.x+(a.width-i.width)/("center"===a.textAlign?2:1),y:a.y+(a.height-i.height)/2},!1)}var a,i;return e}),!0),appState:(0,i.Z)((0,i.Z)({},t),{},{currentItemFontSize:1===o.size?(0,a.Z)(o)[0]:null!==r&&void 0!==r?r:t.currentItemFontSize}),commitToHistory:!0}},L=((0,I.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(e,t,n){return(0,i.Z)((0,i.Z)({},n.currentItemStrokeColor&&{elements:T(e,t,(function(e){return(0,_.PD)(e.type)?(0,k.BE)(e,{strokeColor:n.currentItemStrokeColor}):e}),!0)}),{},{appState:(0,i.Z)((0,i.Z)({},t),n),commitToHistory:!!n.currentItemStrokeColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;e.appProps;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{"aria-hidden":"true",children:(0,m.t)("labels.stroke")}),(0,c.jsx)(d.z,{topPicks:o.fY,palette:o.Wk,type:"elementStroke",label:(0,m.t)("labels.stroke"),color:j(t,n,(function(e){return e.strokeColor}),!0,n.currentItemStrokeColor),onChange:function(e){return r({currentItemStrokeColor:e})},elements:t,appState:n,updateData:r})]})}}),(0,I.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(e,t,n){return(0,i.Z)((0,i.Z)({},n.currentItemBackgroundColor&&{elements:T(e,t,(function(e){return(0,k.BE)(e,{backgroundColor:n.currentItemBackgroundColor})}))}),{},{appState:(0,i.Z)((0,i.Z)({},t),n),commitToHistory:!!n.currentItemBackgroundColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;e.appProps;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{"aria-hidden":"true",children:(0,m.t)("labels.background")}),(0,c.jsx)(d.z,{topPicks:o.eq,palette:o.SF,type:"elementBackground",label:(0,m.t)("labels.background"),color:j(t,n,(function(e){return e.backgroundColor}),!0,n.currentItemBackgroundColor),onChange:function(e){return r({currentItemBackgroundColor:e})},elements:t,appState:n,updateData:r})]})}}),(0,I.z)({name:"changeFillStyle",trackEvent:!1,perform:function(e,t,n,r){return(0,l.L)("element","changeFillStyle","".concat(n," (").concat(r.device.isMobile?"mobile":"desktop",")")),{elements:T(e,t,(function(e){return(0,k.BE)(e,{fillStyle:n})})),appState:(0,i.Z)((0,i.Z)({},t),{},{currentItemFillStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,M.eD)(t,n),i=a.length>0&&a.every((function(e){return"zigzag"===e.fillStyle}));return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,m.t)("labels.fill")}),(0,c.jsx)(u,{type:"button",options:[{value:"hachure",text:"".concat(i?(0,m.t)("labels.zigzag"):(0,m.t)("labels.hachure")," (").concat((0,Z.uY)("Alt-Click"),")"),icon:i?b.lF:b.a0,active:!!i||void 0,testId:"fill-hachure"},{value:"cross-hatch",text:(0,m.t)("labels.crossHatch"),icon:b.np,testId:"fill-cross-hatch"},{value:"solid",text:(0,m.t)("labels.solid"),icon:b.X7,testId:"fill-solid"}],value:j(t,n,(function(e){return e.fillStyle}),(function(e){return e.hasOwnProperty("fillStyle")}),(function(e){return e?null:n.currentItemFillStyle})),onClick:function(e,t){var n=t.altKey&&"hachure"===e&&a.every((function(e){return"hachure"===e.fillStyle}))?"zigzag":e;r(n)}})]})}}),(0,I.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(e,t,n){return{elements:T(e,t,(function(e){return(0,k.BE)(e,{strokeWidth:n})})),appState:(0,i.Z)((0,i.Z)({},t),{},{currentItemStrokeWidth:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,m.t)("labels.strokeWidth")}),(0,c.jsx)(u,{group:"stroke-width",options:[{value:x.dg.thin,text:(0,m.t)("labels.thin"),icon:b.ZA,testId:"strokeWidth-thin"},{value:x.dg.bold,text:(0,m.t)("labels.bold"),icon:b.Wl,testId:"strokeWidth-bold"},{value:x.dg.extraBold,text:(0,m.t)("labels.extraBold"),icon:b.m9,testId:"strokeWidth-extraBold"}],value:j(t,n,(function(e){return e.strokeWidth}),(function(e){return e.hasOwnProperty("strokeWidth")}),(function(e){return e?null:n.currentItemStrokeWidth})),onChange:function(e){return r(e)}})]})}}),(0,I.z)({name:"changeSloppiness",trackEvent:!1,perform:function(e,t,n){return{elements:T(e,t,(function(e){return(0,k.BE)(e,{seed:(0,C.LU)(),roughness:n})})),appState:(0,i.Z)((0,i.Z)({},t),{},{currentItemRoughness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,m.t)("labels.sloppiness")}),(0,c.jsx)(u,{group:"sloppiness",options:[{value:0,text:(0,m.t)("labels.architect"),icon:b.bf},{value:1,text:(0,m.t)("labels.artist"),icon:b.kM},{value:2,text:(0,m.t)("labels.cartoonist"),icon:b.W2}],value:j(t,n,(function(e){return e.roughness}),(function(e){return e.hasOwnProperty("roughness")}),(function(e){return e?null:n.currentItemRoughness})),onChange:function(e){return r(e)}})]})}}),(0,I.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(e,t,n){return{elements:T(e,t,(function(e){return(0,k.BE)(e,{strokeStyle:n})})),appState:(0,i.Z)((0,i.Z)({},t),{},{currentItemStrokeStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,m.t)("labels.strokeStyle")}),(0,c.jsx)(u,{group:"strokeStyle",options:[{value:"solid",text:(0,m.t)("labels.strokeStyle_solid"),icon:b.ZA},{value:"dashed",text:(0,m.t)("labels.strokeStyle_dashed"),icon:b.a5},{value:"dotted",text:(0,m.t)("labels.strokeStyle_dotted"),icon:b.aT}],value:j(t,n,(function(e){return e.strokeStyle}),(function(e){return e.hasOwnProperty("strokeStyle")}),(function(e){return e?null:n.currentItemStrokeStyle})),onChange:function(e){return r(e)}})]})}}),(0,I.z)({name:"changeOpacity",trackEvent:!1,perform:function(e,t,n){return{elements:T(e,t,(function(e){return(0,k.BE)(e,{opacity:n})}),!0),appState:(0,i.Z)((0,i.Z)({},t),{},{currentItemOpacity:n}),commitToHistory:!0}},PanelComponent:function(e){var t,n=e.elements,r=e.appState,a=e.updateData;return(0,c.jsxs)("label",{className:"control-label",children:[(0,m.t)("labels.opacity"),(0,c.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(e){return a(+e.target.value)},value:null!==(t=j(n,r,(function(e){return e.opacity}),!0,r.currentItemOpacity))&&void 0!==t?t:void 0})]})}}),(0,I.z)({name:"changeFontSize",trackEvent:!1,perform:function(e,t,n){return P(e,t,(function(){return n}),n)},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,m.t)("labels.fontSize")}),(0,c.jsx)(u,{group:"font-size",options:[{value:16,text:(0,m.t)("labels.small"),icon:b.q0,testId:"fontSize-small"},{value:20,text:(0,m.t)("labels.medium"),icon:b.nq,testId:"fontSize-medium"},{value:28,text:(0,m.t)("labels.large"),icon:b.tW,testId:"fontSize-large"},{value:36,text:(0,m.t)("labels.veryLarge"),icon:b.OA,testId:"fontSize-veryLarge"}],value:j(t,n,(function(e){if((0,w.iB)(e))return e.fontSize;var t=(0,E.WJ)(e);return t?t.fontSize:null}),(function(e){return(0,w.iB)(e)||null!==(0,E.WJ)(e)}),(function(e){return e?null:n.currentItemFontSize||x.n5})),onChange:function(e){return r(e)}})]})}}),(0,I.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(e,t,n){return P(e,t,(function(e){return Math.round(1/1.1*e.fontSize)}))},keyTest:function(e){return e[v.tW.CTRL_OR_CMD]&&e.shiftKey&&(e.key===v.tW.CHEVRON_LEFT||e.key===v.tW.COMMA)}})),D=(0,I.z)({name:"increaseFontSize",trackEvent:!1,perform:function(e,t,n){return P(e,t,(function(e){return Math.round(1.1*e.fontSize)}))},keyTest:function(e){return e[v.tW.CTRL_OR_CMD]&&e.shiftKey&&(e.key===v.tW.CHEVRON_RIGHT||e.key===v.tW.PERIOD)}});(0,I.z)({name:"changeFontFamily",trackEvent:!1,perform:function(e,t,n){return{elements:T(e,t,(function(e){if((0,w.iB)(e)){var t=(0,k.BE)(e,{fontFamily:n,lineHeight:(0,E.PT)(n)});return(0,w.oN)(t,(0,E.tl)(e)),t}return e}),!0),appState:(0,i.Z)((0,i.Z)({},t),{},{currentItemFontFamily:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=[{value:x.ut.Virgil,text:(0,m.t)("labels.handDrawn"),icon:b.Pm,testId:"font-family-virgil"},{value:x.ut.Helvetica,text:(0,m.t)("labels.normal"),icon:b.vo,testId:"font-family-normal"},{value:x.ut.Cascadia,text:(0,m.t)("labels.code"),icon:b.z6,testId:"font-family-code"},{value:x.ut["Noto Sans"],text:(0,m.t)("labels.notoSans"),icon:b.lL,testId:"font-family-noto-sans"},{value:x.ut["Noto Serif"],text:(0,m.t)("labels.notoSerif"),icon:b.lL,testId:"font-family-noto-serif"},{value:x.ut["Noto Sans Mono"],text:(0,m.t)("labels.notoMono"),icon:b.lL,testId:"font-family-noto-serif"}];return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,m.t)("labels.fontFamily")}),(0,c.jsx)(u,{group:"font-family",options:a,value:j(t,n,(function(e){if((0,w.iB)(e))return e.fontFamily;var t=(0,E.WJ)(e);return t?t.fontFamily:null}),(function(e){return(0,w.iB)(e)||null!==(0,E.WJ)(e)}),(function(e){return e?null:n.currentItemFontFamily||x.rk})),onChange:function(e){return r(e)}})]})}}),(0,I.z)({name:"changeFontWeight",trackEvent:!1,perform:function(e,t,n){return{elements:T(e,t,(function(e){if((0,w.iB)(e)){var t=(0,k.BE)(e,{fontWeight:n,lineHeight:(0,E.PT)(n)});return(0,w.oN)(t,(0,E.tl)(e)),t}return e}),!0),appState:(0,i.Z)((0,i.Z)({},t),{},{currentItemFontWeight:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,m.t)("labels.fontWeight")}),(0,c.jsx)(u,{group:"font-weight",options:[{value:x.m5.normal,text:(0,m.t)("labels.normal"),icon:b.rr,testId:"font-weight-normal"},{value:x.m5.bold,text:(0,m.t)("labels.bold"),icon:b.o3,testId:"font-weight-bold"}],value:j(t,n,(function(e){if((0,w.iB)(e))return e.fontWeight;var t=(0,E.WJ)(e);return t?t.fontWeight:null}),(function(e){return(0,w.iB)(e)||null!==(0,E.WJ)(e)}),(function(e){return e?null:n.currentItemFontWeight||x.P3})),onChange:function(e){return r(e)}})]})}}),(0,I.z)({name:"changeTextAlign",trackEvent:!1,perform:function(e,t,n){return{elements:T(e,t,(function(e){if((0,w.iB)(e)){var t=(0,k.BE)(e,{textAlign:n});return(0,w.oN)(t,(0,E.tl)(e)),t}return e}),!0),appState:(0,i.Z)((0,i.Z)({},t),{},{currentItemTextAlign:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,m.t)("labels.textAlign")}),(0,c.jsx)(u,{group:"text-align",options:[{value:"left",text:(0,m.t)("labels.left"),icon:b.rr,testId:"align-left"},{value:"center",text:(0,m.t)("labels.center"),icon:b.o3,testId:"align-horizontal-center"},{value:"right",text:(0,m.t)("labels.right"),icon:b.oT,testId:"align-right"}],value:j(t,n,(function(e){if((0,w.iB)(e))return e.textAlign;var t=(0,E.WJ)(e);return t?t.textAlign:null}),(function(e){return(0,w.iB)(e)||null!==(0,E.WJ)(e)}),(function(e){return e?null:n.currentItemTextAlign})),onChange:function(e){return r(e)}})]})}}),(0,I.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(e,t,n){return{elements:T(e,t,(function(e){if((0,w.iB)(e)){var t=(0,k.BE)(e,{verticalAlign:n});return(0,w.oN)(t,(0,E.tl)(e)),t}return e}),!0),appState:(0,i.Z)({},t),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,c.jsx)("fieldset",{children:(0,c.jsx)(u,{group:"text-align",options:[{value:x.oX.TOP,text:(0,m.t)("labels.alignTop"),icon:(0,c.jsx)(b.EO,{theme:n.theme}),testId:"align-top"},{value:x.oX.MIDDLE,text:(0,m.t)("labels.centerVertically"),icon:(0,c.jsx)(b.P7,{theme:n.theme}),testId:"align-middle"},{value:x.oX.BOTTOM,text:(0,m.t)("labels.alignBottom"),icon:(0,c.jsx)(b.aA,{theme:n.theme}),testId:"align-bottom"}],value:j(t,n,(function(e){if((0,w.iB)(e)&&e.containerId)return e.verticalAlign;var t=(0,E.WJ)(e);return t?t.verticalAlign:null}),(function(e){return(0,w.iB)(e)||null!==(0,E.WJ)(e)}),(function(e){return e?null:x.oX.MIDDLE})),onChange:function(e){return r(e)}})})}}),(0,I.z)({name:"changeRoundness",trackEvent:!1,perform:function(e,t,n){return{elements:T(e,t,(function(e){return(0,k.BE)(e,{roundness:"round"===n?{type:(0,S.QI)(e.type)?x.a6.ADAPTIVE_RADIUS:x.a6.PROPORTIONAL_RADIUS}:null})})),appState:(0,i.Z)((0,i.Z)({},t),{},{currentItemRoundness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,M.Zs)((0,w.Lm)(t),n).some((function(e){var t;return(null===(t=e.roundness)||void 0===t?void 0:t.type)===x.a6.LEGACY}));return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,m.t)("labels.edges")}),(0,c.jsx)(u,{group:"edges",options:[{value:"sharp",text:(0,m.t)("labels.sharp"),icon:b.wr},{value:"round",text:(0,m.t)("labels.round"),icon:b.DS}],value:j(t,n,(function(e){return a?null:e.roundness?"round":"sharp"}),(function(e){return e.hasOwnProperty("roundness")}),(function(e){return e?null:n.currentItemRoundness})),onChange:function(e){return r(e)}})]})}}),(0,I.z)({name:"changeArrowhead",trackEvent:!1,perform:function(e,t,n){return{elements:T(e,t,(function(e){if((0,S.bt)(e)){var t=n.position,r=n.type;if("start"===t)return(0,k.BE)(e,{startArrowhead:r});if("end"===t)return(0,k.BE)(e,{endArrowhead:r})}return e})),appState:(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},"start"===n.position?"currentItemStartArrowhead":"currentItemEndArrowhead",n.type)),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,m.G3)().rtl;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,m.t)("labels.arrowheads")}),(0,c.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,c.jsx)(y,{label:"arrowhead_start",options:[{value:null,text:(0,m.t)("labels.arrowhead_none"),icon:b.fr,keyBinding:"q"},{value:"arrow",text:(0,m.t)("labels.arrowhead_arrow"),icon:(0,c.jsx)(b.il,{flip:!a}),keyBinding:"w"},{value:"bar",text:(0,m.t)("labels.arrowhead_bar"),icon:(0,c.jsx)(b.m,{flip:!a}),keyBinding:"e"},{value:"dot",text:(0,m.t)("labels.arrowhead_dot"),icon:(0,c.jsx)(b.tn,{flip:!a}),keyBinding:"r"},{value:"triangle",text:(0,m.t)("labels.arrowhead_triangle"),icon:(0,c.jsx)(b.j8,{flip:!a}),keyBinding:"t"}],value:j(t,n,(function(e){return(0,S.bt)(e)&&(0,M.Un)(e.type)?e.startArrowhead:n.currentItemStartArrowhead}),!0,n.currentItemStartArrowhead),onChange:function(e){return r({position:"start",type:e})}}),(0,c.jsx)(y,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,m.t)("labels.arrowhead_none"),keyBinding:"q",icon:b.fr},{value:"arrow",text:(0,m.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,c.jsx)(b.il,{flip:a})},{value:"bar",text:(0,m.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,c.jsx)(b.m,{flip:a})},{value:"dot",text:(0,m.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,c.jsx)(b.tn,{flip:a})},{value:"triangle",text:(0,m.t)("labels.arrowhead_triangle"),icon:(0,c.jsx)(b.j8,{flip:a}),keyBinding:"t"}],value:j(t,n,(function(e){return(0,S.bt)(e)&&(0,M.Un)(e.type)?e.endArrowhead:n.currentItemEndArrowhead}),!0,n.currentItemEndArrowhead),onChange:function(e){return r({position:"end",type:e})}})]})]})}})},797:(e,t,n)=>{"use strict";n.d(t,{N:()=>r,z:()=>a});var r=[],a=function(e){return r=r.concat(e),e}},6059:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r=function(e,t,n,r){try{if("undefined"===typeof window||(void 0).VITE_WORKER_ID)return;if(![].includes(e))return;window.sa_event&&window.sa_event(t,{category:e,label:n,value:r})}catch(a){console.error("error during analytics",a)}}},6462:(e,t,n)=>{"use strict";n.d(t,{EN:()=>h,eS:()=>f,im:()=>s,l$:()=>p,s:()=>d});var r=n(3729),a=n(5320),i=n(5861),o=n(7253),l=a.ZB.includes(devicePixelRatio)?devicePixelRatio:1,s=function(){return{showWelcomeScreen:!1,theme:a.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:a.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:a.HN.fillStyle,currentItemFontFamily:a.rk,currentItemFontWeight:a.P3,currentItemFontSize:a.n5,currentItemOpacity:a.HN.opacity,currentItemRoughness:a.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:a.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:a.HN.strokeStyle,currentItemStrokeWidth:a.HN.strokeWidth,currentItemTextAlign:a.Hg,cursorButton:"up",activeEmbeddable:null,draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:a.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:l,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,i.t)("labels.untitled"),"-").concat((0,o.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:r.HO.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1}},c={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontWeight:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1}},u=function(e,t){for(var n={},r=0,a=Object.keys(e);r<a.length;r++){var i=a[r],o=c[i];if(null!==o&&void 0!==o&&o[t]){var l=e[i];n[i]=l}}return n},d=function(e){return u(e,"export")},f=function(e){return u(e,"server")},h=function(e){return"eraser"===e.activeTool.type},p=function(e){return"hand"===e.activeTool.type}},5807:(e,t,n)=>{"use strict";n.d(t,{dz:()=>b,i$:()=>v,ps:()=>S});var r=n(7762),a=n(2982),i=n(1413),o=n(885),l=n(3729),s=n(5320),c=n(4991),u=n(3859),d=32,f=12,h=256,p="NOT_SPREADSHEET",v="VALID_SPREADSHEET",m=function(e){var t=/^([-+]?)[$\u20ac\xa3\xa5\u20a9]?([-+]?)([\d.,]+)[%]?$/.exec(e);return t?parseFloat("".concat((t[1]||t[2])+t[3]).replace(/,/g,"")):null},g=function(e,t){return e.slice(1).every((function(e){return null!==m(e[t])}))},y=function(e){var t=e[0].length;if(t>2)return{type:p,reason:"More than 2 columns"};if(1===t){if(!g(e,0))return{type:p,reason:"Value is not numeric"};var n=null===m(e[0][0]),r=(n?e.slice(1):e).map((function(e){return m(e[0])}));return r.length<2?{type:p,reason:"Less than two rows"}:{type:v,spreadsheet:{title:n?e[0][0]:null,labels:null,values:r}}}var a=g(e,0),i=g(e,1);if(!a&&!i)return{type:p,reason:"Value is not numeric"};var l=i?[0,1]:[1,0],s=(0,o.Z)(l,2),c=s[0],u=s[1],d=null===m(e[0][u]),f=d?e.slice(1):e;return f.length<2?{type:p,reason:"Less than 2 rows"}:{type:v,spreadsheet:{title:d?e[0][u]:null,labels:f.map((function(e){return e[c]})),values:f.map((function(e){return m(e[u])}))}}},b=function(e){var t=e.trim().split("\n").map((function(e){return e.trim().split("\t")}));if(t.length&&2!==t[0].length&&(t=e.trim().split("\n").map((function(e){return e.trim().split(",")}))),0===t.length)return{type:p,reason:"No values"};var n=t[0].length;if(!t.every((function(e){return e.length===n})))return{type:p,reason:"All rows don't have same number of columns"};var r=y(t);if(r.type!==v){var a=y(function(e){for(var t=[],n=0;n<e[0].length;n++){for(var r=[],a=0;a<e.length;a++)r.push(e[a][n]);t.push(r)}return t}(t));if(a.type===v)return a}return r},x=(0,l.sF)(l.C2),w={fillStyle:"hachure",fontFamily:s.rk,fontSize:s.n5,opacity:100,roughness:1,strokeColor:l.HO.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:s.oX.MIDDLE,locked:!1},k=function(e){return{chartWidth:44*e.values.length+f,chartHeight:280}},E=function(e,t,n,r,o,u){var p=k(e),v=p.chartWidth,m=p.chartHeight,g=e.title?(0,c.VL)((0,i.Z)((0,i.Z)({backgroundColor:o,groupIds:[r]},w),{},{text:e.title,x:t+v/2,y:n-h-24-s.n5,roundness:null,textAlign:"center"})):null,y=u?(0,c.Up)((0,i.Z)((0,i.Z)({backgroundColor:o,groupIds:[r]},w),{},{type:"rectangle",x:t,y:n-m,width:v,height:m,strokeColor:l.HO.black,fillStyle:"solid",opacity:6})):null;return[].concat((0,a.Z)(y?[y]:[]),(0,a.Z)(g?[g]:[]),(0,a.Z)(function(e,t,n,r,a){var o;return(null===(o=e.labels)||void 0===o?void 0:o.map((function(e,o){return(0,c.VL)((0,i.Z)((0,i.Z)({groupIds:[r],backgroundColor:a},w),{},{text:e.length>8?"".concat(e.slice(0,5),"..."):e,x:t+44*o+24,y:n+6,width:d,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))})))||[]}(e,t,n,r,o)),(0,a.Z)(function(e,t,n,r,o){var l=(0,c.VL)((0,i.Z)((0,i.Z)({groupIds:[r],backgroundColor:o},w),{},{x:t-f,y:n-f,text:"0",textAlign:"right"}));return[l,(0,c.VL)((0,i.Z)((0,i.Z)({groupIds:[r],backgroundColor:o},w),{},{x:t-f,y:n-h-l.height/2,text:Math.max.apply(Math,(0,a.Z)(e.values)).toLocaleString(),textAlign:"right"}))]}(e,t,n,r,o)),(0,a.Z)(function(e,t,n,r,a){var o=k(e),l=o.chartWidth,s=o.chartHeight;return[(0,c.y8)((0,i.Z)((0,i.Z)({backgroundColor:a,groupIds:[r]},w),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,width:l,points:[[0,0],[l,0]]})),(0,c.y8)((0,i.Z)((0,i.Z)({backgroundColor:a,groupIds:[r]},w),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,height:s,points:[[0,0],[0,-s]]})),(0,c.y8)((0,i.Z)((0,i.Z)({backgroundColor:a,groupIds:[r]},w),{},{type:"line",x:t,y:n-h-f,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:l,opacity:50,points:[[0,0],[l,0]]}))]}(e,t,n,r,o)))},S=function(e,t,n,o){return"line"===e?function(e,t,n){var o,l=Math.max.apply(Math,(0,a.Z)(e.values)),s=(0,u.kb)(),d=x[Math.floor(Math.random()*x.length)],p=0,v=[],m=(0,r.Z)(e.values);try{for(m.s();!(o=m.n()).done;){var g=o.value,y=44*p,b=-g/l*h;v.push([y,b]),p++}}catch(T){m.e(T)}finally{m.f()}var k=Math.max.apply(Math,(0,a.Z)(v.map((function(e){return e[0]})))),S=Math.max.apply(Math,(0,a.Z)(v.map((function(e){return e[1]})))),C=Math.min.apply(Math,(0,a.Z)(v.map((function(e){return e[0]})))),M=Math.min.apply(Math,(0,a.Z)(v.map((function(e){return e[1]})))),_=(0,c.y8)((0,i.Z)((0,i.Z)({backgroundColor:d,groupIds:[s]},w),{},{type:"line",x:t+f+16,y:n-f,startArrowhead:null,endArrowhead:null,height:S-M,width:k-C,strokeWidth:2,points:v})),Z=e.values.map((function(e,r){var a=44*r+6,o=-e/l*h+6;return(0,c.Up)((0,i.Z)((0,i.Z)({backgroundColor:d,groupIds:[s]},w),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:t+a+16,y:n+o-24,width:f,height:f}))})),I=e.values.map((function(e,r){var a=44*r+6,o=e/l*h+6+f;return(0,c.y8)((0,i.Z)((0,i.Z)({backgroundColor:d,groupIds:[s]},w),{},{type:"line",x:t+a+16+6,y:n-o,startArrowhead:null,endArrowhead:null,height:o,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,o]]}))}));return[].concat((0,a.Z)(E(e,t,n,s,d,(void 0).DEV)),[_],(0,a.Z)(I),(0,a.Z)(Z))}(t,n,o):function(e,t,n){var r=Math.max.apply(Math,(0,a.Z)(e.values)),o=(0,u.kb)(),l=x[Math.floor(Math.random()*x.length)],s=e.values.map((function(e,a){var s=e/r*h;return(0,c.Up)((0,i.Z)((0,i.Z)({backgroundColor:l,groupIds:[o]},w),{},{type:"rectangle",x:t+44*a+f,y:n-s-f,width:d,height:s}))}));return[].concat((0,a.Z)(s),(0,a.Z)(E(e,t,n,o,l,(void 0).DEV)))}(t,n,o)}},3193:(e,t,n)=>{"use strict";n.d(t,{G:()=>r,l:()=>a});var r=function(e){var t=Math.abs(function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n);return t}(e));return"hsl(".concat(t%37*10,", ").concat(100,"%, ").concat(83,"%)")},a=function(e){var t,n=null===e||void 0===e||null===(t=e.trim())||void 0===t?void 0:t.codePointAt(0);return(n?String.fromCodePoint(n):"?").toUpperCase()}},3310:(e,t,n)=>{"use strict";n.d(t,{OO:()=>y,Se:()=>S,dd:()=>Z,mQ:()=>M,uR:()=>_,vQ:()=>x,vt:()=>g,wx:()=>m});var r=n(4942),a=n(4165),i=n(531),o=n(7762),l=n(885),s=n(5807),c=n(5320),u=n(5529),d=n(2793),f=n(6139),h=n(4953),p=n(7253),v=n(5861),m=("clipboard"in navigator&&navigator.clipboard,"clipboard"in navigator&&"writeText"in navigator.clipboard),g="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,y=function(e){var t=e.types,n=e.files;t||n||console.warn("createPasteEvent: no types or files provided");var r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(t)for(var a=0,i=Object.entries(t);a<i.length;a++){var s=(0,l.Z)(i[a],2),c=s[0],u=s[1];try{var d,f;if(null===(d=r.clipboardData)||void 0===d||d.setData(c,u),(null===(f=r.clipboardData)||void 0===f?void 0:f.getData(c))!==u)throw new Error('Failed to set "'.concat(c,'" as clipboardData item'))}catch(b){throw new Error(b.message)}}if(n){var h,p=-1,v=(0,o.Z)(n);try{for(v.s();!(h=v.n()).done;){var m=h.value;p++;try{var g,y;if(null===(g=r.clipboardData)||void 0===g||g.items.add(m),(null===(y=r.clipboardData)||void 0===y?void 0:y.files[p])!==m)throw new Error('Failed to set file "'.concat(m.name,'" as clipboardData item'))}catch(b){throw new Error(b.message)}}}catch(x){v.e(x)}finally{v.f()}}return r},b=function(e){var t=e.elements,n=e.files,r=new Set(t.filter((function(e){return"frame"===e.type}))),a=!1,i=t.reduce((function(e,t){return(0,u.wi)(t)&&(a=!0,n&&n[t.fileId]&&(e[t.fileId]=n[t.fileId])),e}),{});a&&!n&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");var o={type:c.r8.excalidrawClipboard,elements:t.map((function(e){if((0,h.$Z)(e)&&!r.has((0,h.$Z)(e))){var t=(0,d.OL)(e);return(0,f.DR)(t,{frameId:null}),t}return e})),files:n?i:void 0};return JSON.stringify(o)},x=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n,r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(b({elements:t,files:n}),r);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),w=function(e){var t=(0,s.dz)(e);return t.type===s.i$?{spreadsheet:t.spreadsheet}:null};function k(e){var t,n=[],r=(0,o.Z)(e.childNodes);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(3===a.nodeType){var i,l=null===(i=a.textContent)||void 0===i?void 0:i.trim();l&&n.push({type:"text",value:l})}else if(a instanceof HTMLImageElement){var s=a.getAttribute("src");s&&s.startsWith("http")&&n.push({type:"imageUrl",value:s})}else n=n.concat(k(a))}}catch(c){r.e(c)}finally{r.f()}return n}var E=function(e){var t,n=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/html");if(!n)return null;try{var r=k((new DOMParser).parseFromString(n,"text/html").body);if(r.length)return{type:"mixedContent",value:r}}catch(a){console.error("error in parseHTMLFromPaste: ".concat(a.message))}return null},S=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n,r,i,l,s,u,d,f,h,v,m;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},e.prev=1,null===(n=navigator.clipboard)||void 0===n||!n.readText){e.next=7;break}return e.next=5,null===(r=navigator.clipboard)||void 0===r?void 0:r.readText();case 5:return e.t0=e.sent,e.abrupt("return",{"text/plain":e.t0});case 7:e.next=16;break;case 9:if(e.prev=9,e.t1=e.catch(1),null===(i=navigator.clipboard)||void 0===i||!i.read){e.next=15;break}console.warn("navigator.clipboard.readText() failed (".concat(e.t1.message,"). Failling back to navigator.clipboard.read()")),e.next=16;break;case 15:throw e.t1;case 16:return e.prev=16,e.next=19,null===(s=navigator.clipboard)||void 0===s?void 0:s.read();case 19:l=e.sent,e.next=28;break;case 22:if(e.prev=22,e.t2=e.catch(16),"DataError"!==e.t2.name){e.next=27;break}return console.warn("navigator.clipboard.read() error, clipboard is probably empty: ".concat(e.t2.message)),e.abrupt("return",t);case 27:throw e.t2;case 28:u=(0,o.Z)(l),e.prev=29,u.s();case 31:if((d=u.n()).done){e.next=63;break}f=d.value,h=(0,o.Z)(f.types),e.prev=34,h.s();case 36:if((v=h.n()).done){e.next=53;break}if(m=v.value,(0,p.XF)(c.wL,m)){e.next=40;break}return e.abrupt("continue",51);case 40:return e.prev=40,e.next=43,f.getType(m);case 43:return e.next=45,e.sent.text();case 45:t[m]=e.sent,e.next=51;break;case 48:e.prev=48,e.t3=e.catch(40),console.warn("Cannot retrieve ".concat(m," from clipboardItem: ").concat(e.t3.message));case 51:e.next=36;break;case 53:e.next=58;break;case 55:e.prev=55,e.t4=e.catch(34),h.e(e.t4);case 58:return e.prev=58,h.f(),e.finish(58);case 61:e.next=31;break;case 63:e.next=68;break;case 65:e.prev=65,e.t5=e.catch(29),u.e(e.t5);case 68:return e.prev=68,u.f(),e.finish(68);case 71:if(0!==Object.keys(t).length){e.next=74;break}return console.warn("No clipboard data found from clipboard.read()."),e.abrupt("return",t);case 74:return e.abrupt("return",t);case 75:case"end":return e.stop()}}),e,null,[[1,9],[16,22],[29,65,68,71],[34,55,58,61],[40,48]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,i,o,l,s=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]&&s[1],e.prev=1,!(i=!n&&t&&E(t))){e.next=7;break}if(!i.value.every((function(e){return"text"===e.type}))){e.next=6;break}return e.abrupt("return",{type:"text",value:(null===(o=t.clipboardData)||void 0===o?void 0:o.getData("text/plain"))||i.value.map((function(e){return e.value})).join("\n").trim()});case 6:return e.abrupt("return",i);case 7:return l=null===(r=t.clipboardData)||void 0===r?void 0:r.getData("text/plain"),e.abrupt("return",{type:"text",value:(l||"").trim()});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{type:"text",value:""});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,r,i,o,l,s=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],e.next=3,C(t,n);case 3:if("mixedContent"!==(r=e.sent).type){e.next=6;break}return e.abrupt("return",{mixedContent:r.value});case 6:if(e.prev=6,!(i=!n&&w(r.value))){e.next=10;break}return e.abrupt("return",i);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0);case 15:if(e.prev=15,o=JSON.parse(r.value),l=o.type===c.r8.excalidrawClipboardWithAPI,a=o,![c.r8.excalidraw,c.r8.excalidrawClipboard,c.r8.excalidrawClipboardWithAPI].includes(null===a||void 0===a?void 0:a.type)||!Array.isArray(a.elements)){e.next=20;break}return e.abrupt("return",{elements:o.elements,files:o.files,text:n?JSON.stringify(o.elements,null,2):void 0,programmaticAPI:l});case 20:e.next=24;break;case 22:e.prev=22,e.t1=e.catch(15);case 24:return e.abrupt("return",{text:r.value});case 25:case"end":return e.stop()}var a}),e,null,[[6,12],[15,22]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.write([new window.ClipboardItem((0,r.Z)({},c.LO.png,t))]);case 3:case 21:e.next=24;break;case 5:if(e.prev=5,e.t0=e.catch(0),!(0,p.y8)(t)){e.next=23;break}return e.t1=navigator.clipboard,e.t2=window.ClipboardItem,e.t3=r.Z,e.t4={},e.t5=c.LO.png,e.next=15,t;case 15:return e.t6=e.sent,e.t7=(0,e.t3)(e.t4,e.t5,e.t6),e.t8=new e.t2(e.t7),e.t9=[e.t8],e.next=21,e.t1.write.call(e.t1,e.t9);case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=10;break}return e.prev=1,e.next=4,navigator.clipboard.writeText(t||"");case 4:return e.abrupt("return");case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:if(e.prev=10,!n){e.next=16;break}if(null===(r=n.clipboardData)||void 0===r||r.setData("text/plain",t||""),(null===(i=n.clipboardData)||void 0===i?void 0:i.getData("text/plain"))===t){e.next=15;break}throw new Error("Failed to setData on clipboardEvent");case 15:return e.abrupt("return");case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(10),console.error(e.t1);case 21:if(I(t)){e.next=23;break}throw new Error((0,v.t)("errors.copyToSystemClipboardFailed"));case 23:case"end":return e.stop()}}),e,null,[[1,7],[10,18]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(e){e||(e=" ");var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(r,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var a=!1;try{n.select(),n.setSelectionRange(0,n.value.length),a=document.execCommand("copy")}catch(i){console.error(i)}return n.remove(),a}},3729:(e,t,n)=>{"use strict";n.d(t,{C2:()=>s,HO:()=>h,Lx:()=>o,SF:()=>b,Wk:()=>y,_T:()=>u,ay:()=>g,dC:()=>l,eq:()=>m,fY:()=>v,sF:()=>x,vq:()=>w,z8:()=>c});var r,a=n(1413),i=n(9495),o=5,l=5,s=4,c=4,u=1,d=[0,2,4,6,8],f=function(e,t){return t.map((function(t){return i[e][t]}))},h={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:f("gray",d),red:f("red",d),pink:f("pink",d),grape:f("grape",d),violet:f("violet",d),blue:f("blue",d),cyan:f("cyan",d),teal:f("teal",d),green:f("green",d),yellow:f("yellow",d),orange:f("orange",d),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},p=(r=h,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"].reduce((function(e,t){return t in r&&(e[t]=r[t]),e}),{})),v=[h.black,h.red[c],h.green[c],h.blue[c],h.yellow[c]],m=[h.transparent,h.red[u],h.green[u],h.blue[u],h.yellow[u]],g=[h.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],y=(0,a.Z)({transparent:h.transparent,white:h.white,gray:h.gray,black:h.black,bronze:h.bronze},p),b=(0,a.Z)({transparent:h.transparent,white:h.white,gray:h.gray,black:h.black,bronze:h.bronze},p),x=function(e){return[h.cyan[e],h.blue[e],h.violet[e],h.grape[e],h.pink[e],h.green[e],h.teal[e],h.yellow[e],h.orange[e],h.red[e]]},w=function(e,t,n){return"#".concat(((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1))}},868:(e,t,n)=>{"use strict";n.d(t,{qD:()=>Wl,hY:()=>Ul,Fy:()=>Kl,eh:()=>ql,gF:()=>Gl,J0:()=>Vl,bd:()=>Yl,n9:()=>Xl});var r={};n.r(r),n.d(r,{ChangeCanvasBackground:()=>Xi,ClearCanvas:()=>Yi,Export:()=>qi,Help:()=>Vi,LiveCollaborationTrigger:()=>Qi,LoadScene:()=>Wi,SaveAsImage:()=>Ki,SaveToActiveFile:()=>Ui,Socials:()=>$i,ToggleTheme:()=>Gi});var a=n(7762),i=n(2982),o=n(885),l=n(4942),s=n(4165),c=n(531),u=n(5671),d=n(3144),f=n(7326),h=n(136),p=n(7277),v=n(1413),m=n(2791),g=n(4164),y=n(7711),b=n(8182),x=n(4172),w=n(7536),k=n(9057),E=n(5007),S=n(5861),C=n(797),M=n(4991),_=n(6139),Z=n(5034),I=n(6603),T=n(3079),j=n(5529),P=n(7253),L=n(7118),D=n(184),O=function(e,t){if(e.editingGroupId){var n=(0,Z.Fb)((0,M.Lm)(t),e.editingGroupId);if(n.length)return(0,v.Z)((0,v.Z)({},e),{},{selectedElementIds:(0,l.Z)({},n[0].id,!0)})}return e},R=(0,C.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(e,t){if(t.editingLinearElement){var n=t.editingLinearElement,r=n.elementId,a=n.selectedPointsIndices,i=n.startBindingElement,o=n.endBindingElement,l=I._.getElement(r);if(!l)return!1;if(null==a)return!1;if(l.points.length<2){var s=e.map((function(e){return e.id===l.id?(0,_.BE)(e,{isDeleted:!0}):e})),c=O(t,s);return{elements:s,appState:(0,v.Z)((0,v.Z)({},c),{},{editingLinearElement:null}),commitToHistory:!1}}var u={startBindingElement:null!==a&&void 0!==a&&a.includes(0)?null:i,endBindingElement:null!==a&&void 0!==a&&a.includes(l.points.length-1)?null:o};return I._.deletePoints(l,a),{elements:e,appState:(0,v.Z)((0,v.Z)({},t),{},{editingLinearElement:(0,v.Z)((0,v.Z)((0,v.Z)({},t.editingLinearElement),u),{},{selectedPointsIndices:(null===a||void 0===a?void 0:a[0])>0?[a[0]-1]:[0]})}),commitToHistory:!0}}var d=function(e,t){var n=new Set((0,w.eD)(e.filter((function(e){return"frame"===e.type})),t).map((function(e){return e.id})));return{elements:e.map((function(e){return t.selectedElementIds[e.id]||e.frameId&&n.has(e.frameId)||(0,j.Xh)(e)&&t.selectedElementIds[e.containerId]?(0,_.BE)(e,{isDeleted:!0}):e})),appState:(0,v.Z)((0,v.Z)({},t),{},{selectedElementIds:{},selectedGroupIds:{}})}}(e,t),f=d.elements,h=d.appState;return(0,T.$q)(f,e.filter((function(e){var n=e.id;return t.selectedElementIds[n]}))),h=O(h,f),{elements:f,appState:(0,v.Z)((0,v.Z)({},h),{},{activeTool:(0,P.Om)(t,{type:"selection"}),multiElement:null,activeEmbeddable:null}),commitToHistory:(0,w.N)((0,M.Lm)(e),t)}},contextItemLabel:"labels.delete",keyTest:function(e,t,n){return(e.key===k.tW.BACKSPACE||e.key===k.tW.DELETE)&&!e[k.tW.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,D.jsx)(E.V,{type:"button",icon:L.XH,title:(0,S.t)("labels.delete"),"aria-label":(0,S.t)("labels.delete"),onClick:function(){return r(null)},visible:(0,w.N)((0,M.Lm)(t),n)})}}),A=n(6864),N=function(e,t){return e.frameId===t||e.id===t},z=function(e,t,n){for(var r=[],a=[],i=null,o=-1,l=(0,P.xn)(n||(0,w.eD)(e,t,{includeBoundTextElement:!0,includeElementsInFrames:!0}));++o<e.length;){var s=e[o];l.get(s.id)?(a.length&&(r=r.concat(a),a=[]),r.push(o),i=o+1):s.isDeleted&&i===o?(i=o+1,a.push(o)):a=[]}return r},B=function(e,t,n){if("containerId"in e&&e.containerId){if("left"!==n)return t.indexOf(e);var r=A.Z.getScene(e).getElement(e.containerId);if(r)return t.indexOf(r)}else{var a,i,o=null===(a=e.boundElements)||void 0===a||null===(i=a.find((function(e){return"arrow"!==e.type})))||void 0===i?void 0:i.id;if(o){if("left"===n)return t.indexOf(e);var l=A.Z.getScene(e).getElement(o);if(l)return t.indexOf(l)}}},F=function(e,t,n,r,a){var i,o=t[n],l=function(t){return!t.isDeleted&&(a?t.frameId===a:!e.editingGroupId||t.groupIds.includes(e.editingGroupId))},s="left"===r?(0,P.qr)(t,(function(e){return l(e)}),Math.max(0,n-1)):(0,P.cx)(t,(function(e){return l(e)}),n+1),c=t[s];if(!c)return-1;if(e.editingGroupId){var u;if((null===o||void 0===o?void 0:o.groupIds.join(""))===(null===c||void 0===c?void 0:c.groupIds.join("")))return null!==(u=B(c,t,r))&&void 0!==u?u:s;if(null===c||void 0===c||!c.groupIds.includes(e.editingGroupId))return-1}if(!a&&(c.frameId||"frame"===c.type)){var d=function(e,t){var n=-1,r=-1;return e.forEach((function(e,a){N(e,t)&&(-1===n&&(n=a),r=a)})),-1===n?[]:e.slice(n,r+1)}(t,c.frameId||c.id);return"left"===r?t.indexOf(d[0]):t.indexOf(d[d.length-1])}if(!c.groupIds.length)return null!==(i=B(c,t,r))&&void 0!==i?i:s;var f=e.editingGroupId?c.groupIds[c.groupIds.indexOf(e.editingGroupId)-1]:c.groupIds[c.groupIds.length-1],h=(0,Z.Fb)(t,f);return h.length?"left"===r?t.indexOf(h[0]):t.indexOf(h[h.length-1]):s},H=function(e,t){return t.reduce((function(t,n){var r=e[n];return t[r.id]=r,t}),{})},W=function(e,t,n){var r=z(e,t),a=H(e,r),o=function(e){var t=0;return e.reduce((function(n,r,a){return a>0&&e[a-1]!==r-1&&(t=++t),(n[t]||(n[t]=[])).push(r),n}),[])}(r);"right"===n&&(o=o.reverse());var l=new Set(r.filter((function(t){return"frame"===e[t].type})).map((function(t){return e[t].id})));return o.forEach((function(r,a){var o,s=r[0],c=r[r.length-1],u="left"===n?s:c,d=r.some((function(t){var n=e[t];return n.frameId&&l.has(n.frameId)}))?null:null===(o=e[u])||void 0===o?void 0:o.frameId,f=F(t,e,u,n,d);if(-1!==f&&u!==f){var h="left"===n?e.slice(0,f):e.slice(0,s),p=e.slice(s,c+1),v="left"===n?e.slice(f,s):e.slice(c+1,f+1),m="left"===n?e.slice(c+1):e.slice(f+1);e="left"===n?[].concat((0,i.Z)(h),(0,i.Z)(p),(0,i.Z)(v),(0,i.Z)(m)):[].concat((0,i.Z)(h),(0,i.Z)(v),(0,i.Z)(p),(0,i.Z)(m))}})),e.map((function(e){return a[e.id]?(0,_.ZP)(e):e}))},U=function(e,t,n,r,a){var o,l,s=z(e,t,a),c=H(e,s),u=[];if("left"===n){if(r)o=(0,P.cx)(e,(function(e){return N(e,r)}));else if(t.editingGroupId){var d=(0,Z.Fb)(e,t.editingGroupId);if(!d.length)return e;o=e.indexOf(d[0])}else o=0;l=s[s.length-1]}else{if(r)l=(0,P.qr)(e,(function(e){return N(e,r)}));else if(t.editingGroupId){var f=(0,Z.Fb)(e,t.editingGroupId);if(!f.length)return e;l=e.indexOf(f[f.length-1])}else l=e.length-1;o=s[0]}-1===o&&(o=0);for(var h=o;h<l+1;h++)s.includes(h)||u.push(e[h]);var p=Object.values(c).map((function(e){return(0,_.ZP)(e)})),v=e.slice(0,o),m=e.slice(l+1);return"left"===n?[].concat((0,i.Z)(v),(0,i.Z)(p),u,(0,i.Z)(m)):[].concat((0,i.Z)(v),u,(0,i.Z)(p),(0,i.Z)(m))};function K(e,t,n,r){var i,l=(0,P.xn)((0,w.eD)(e,t,{includeBoundTextElement:!0,includeElementsInFrames:!0})),s={regularElements:[],frameChildren:new Map},c=new Set,u=(0,a.Z)(e);try{for(u.s();!(i=u.n()).done;){var d=i.value;l.has(d.id)&&(0,j.He)(d)&&c.add(d.id)}}catch(x){u.e(x)}finally{u.f()}var f,h=(0,a.Z)(e);try{for(h.s();!(f=h.n()).done;){var p=f.value;if(l.has(p.id))if((0,j.He)(p)||p.frameId&&c.has(p.frameId))s.regularElements.push(p);else if(p.frameId){var v=s.frameChildren.get(p.frameId)||[];v.push(p),s.frameChildren.set(p.frameId,v)}else s.regularElements.push(p)}}catch(x){h.e(x)}finally{h.f()}for(var m=e,g=0,y=Array.from(s.frameChildren.entries());g<y.length;g++){var b=(0,o.Z)(y[g],2);m=r(e,t,n,b[0],b[1])}return r(m,t,n,null,s.regularElements)}var V=function(e,t){return W(e,t,"left")},Y=function(e,t){return W(e,t,"right")},G=function(e,t){return K(e,t,"left",U)},X=function(e,t){return K(e,t,"right",U)},q=n(5320),$=(0,C.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(e,t){return{elements:V(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&!e.shiftKey&&e.code===k.aU.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,D.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,S.t)("labels.sendBackward")," \u2014 ").concat((0,P.uY)("CtrlOrCmd+[")),children:L.Gc})}}),Q=(0,C.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(e,t){return{elements:Y(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&!e.shiftKey&&e.code===k.aU.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,D.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,S.t)("labels.bringForward")," \u2014 ").concat((0,P.uY)("CtrlOrCmd+]")),children:L.t5})}}),J=(0,C.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(e,t){return{elements:G(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return q.Um?e[k.tW.CTRL_OR_CMD]&&e.altKey&&e.code===k.aU.BRACKET_LEFT:e[k.tW.CTRL_OR_CMD]&&e.shiftKey&&e.code===k.aU.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,D.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,S.t)("labels.sendToBack")," \u2014 ").concat(q.Um?(0,P.uY)("CtrlOrCmd+Alt+["):(0,P.uY)("CtrlOrCmd+Shift+[")),children:L.pw})}}),ee=(0,C.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(e,t){return{elements:X(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return q.Um?e[k.tW.CTRL_OR_CMD]&&e.altKey&&e.code===k.aU.BRACKET_RIGHT:e[k.tW.CTRL_OR_CMD]&&e.shiftKey&&e.code===k.aU.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,D.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:"".concat((0,S.t)("labels.bringToFront")," \u2014 ").concat(q.Um?(0,P.uY)("CtrlOrCmd+Alt+]"):(0,P.uY)("CtrlOrCmd+Shift+]")),children:L.IN})}}),te=n(2219),ne=(0,C.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(e,t,n,r){if(t.editingLinearElement)return!1;var a=(0,te.aI)(e.filter((function(e){return!e.isDeleted&&!((0,M.iB)(e)&&e.containerId)&&!e.locked}))).reduce((function(e,t){return e[t.id]=!0,e}),{});return{appState:(0,v.Z)((0,v.Z)((0,v.Z)({},t),(0,Z.bO)({editingGroupId:null,selectedElementIds:a},(0,M.Lm)(e),t,r)),{},{selectedLinearElement:1===Object.keys(a).length&&(0,j.bt)(e[0])?new I._(e[0],r.scene):null}),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.key===k.tW.A}}),re=n(5016),ae=function(e){var t=e.slice(),n=new Set,r=function e(t){var n,r,o,l=null===(n=t[0])||void 0===n||null===(r=n.groupIds)||void 0===r?void 0:r.join(""),s=[t[0]],c=[],u=(0,a.Z)(t.slice(1));try{for(u.s();!(o=u.n()).done;){var d,f=o.value;(null===(d=f.groupIds)||void 0===d?void 0:d.join(""))===l?s.push(f):c.push(f)}}catch(h){u.e(h)}finally{u.f()}return c.length?[].concat(s,(0,i.Z)(e(c))):s},o=new Map;return t.forEach((function(e,i){var l;if(!o.has(e.id))if(null!==(l=e.groupIds)&&void 0!==l&&l.length){var s,c=e.groupIds[e.groupIds.length-1],u=t.slice(i).filter((function(e){var t,n=null===e||void 0===e||null===(t=e.groupIds)||void 0===t?void 0:t.some((function(e){return e===c}));return n&&o.set(e.id,!0),n})),d=(0,a.Z)(r(u));try{for(d.s();!(s=d.n()).done;){var f=s.value;n.add(f)}}catch(h){d.e(h)}finally{d.f()}}else n.add(e)})),n.size!==e.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),e):(0,i.Z)(n)},ie=function(e){var t=function(e){var t=(0,P.I4)(e),n=e.slice(),r=new Set;return n.forEach((function(e,a){var i;if(e)if(null!==(i=e.boundElements)&&void 0!==i&&i.length)r.add(e),n[a]=null,e.boundElements.forEach((function(e){var a=t.get(e.id);a&&"text"===e.type&&(r.add(a[0]),n[a[1]]=null)}));else if("text"===e.type&&e.containerId){var o,l=t.get(e.containerId);null!==l&&void 0!==l&&null!==(o=l[0].boundElements)&&void 0!==o&&o.find((function(t){return t.id===e.id}))||(r.add(e),n[a]=null)}else r.add(e),n[a]=null})),r.size!==e.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),e):(0,i.Z)(r)}(ae(e));return t},oe=n(4953),le=(0,C.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(e,t){if(t.editingLinearElement){var n=I._.duplicateSelectedPoints(t);return!!n&&{elements:e,appState:n.appState,commitToHistory:!0}}return(0,v.Z)((0,v.Z)({},se(e,t)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.key===k.tW.D},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,D.jsx)(E.V,{type:"button",icon:L.NA,title:"".concat((0,S.t)("labels.duplicateSelection")," \u2014 ").concat((0,P.uY)("CtrlOrCmd+D")),"aria-label":(0,S.t)("labels.duplicateSelection"),onClick:function(){return r(null)},visible:(0,w.N)((0,M.Lm)(t),n)})}}),se=function(e,t){for(var n=ie(e),r=new Map,o=[],l=[],s=new Map,c=function(e){var n=(0,M.Sy)(t.editingGroupId,r,e,{x:e.x+q.k/2,y:e.y+q.k/2});return s.set(e.id,n.id),l.push(e),o.push(n),n},u=(0,P.xn)((0,te.eD)(n,t,{includeBoundTextElement:!0,includeElementsInFrames:!0})),d=new Map,f=function(e){var t,n=(0,a.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;d.set(r.id,!0)}}catch(i){n.e(i)}finally{n.f()}return e},h=[],p=-1;++p<n.length;){var m=n[p];if(!d.get(m.id)){var g=(0,re.WJ)(m),y=(0,j.He)(m);if(u.get(m.id)){if(m.groupIds.length||g||y){var b=(0,Z.yO)(t,m);if(b){var x=(0,Z.Fb)(n,b).flatMap((function(t){return(0,j.He)(t)?[].concat((0,i.Z)((0,oe.wO)(e,t.id)),[t]):[t]}));h.push.apply(h,(0,i.Z)(f([].concat((0,i.Z)(x),(0,i.Z)(x.map((function(e){return c(e)})))))));continue}if(g){h.push.apply(h,(0,i.Z)(f([m,g,c(m),c(g)])));continue}if(y){var w=(0,oe.wO)(n,m.id);h.push.apply(h,(0,i.Z)(f([].concat((0,i.Z)(w),[m],(0,i.Z)(w.map((function(e){return c(e)}))),[c(m)]))));continue}}m.frameId&&u.has(m.frameId)||h.push.apply(h,(0,i.Z)(f([m,c(m)])))}else h.push.apply(h,(0,i.Z)(f([m])))}}var k=[],E=new Map;for(p=h.length;--p>=0;){var S=h[p];E.get(S.id)||(E.set(S.id,!0),k.push(S))}var C=k.reverse();(0,re.P7)(h,l,s),(0,T.ek)(h,l,s),(0,oe.xr)(C,l,s);var _=(0,te.aI)(o);return{elements:C,appState:(0,v.Z)((0,v.Z)({},t),(0,Z.bO)({editingGroupId:t.editingGroupId,selectedElementIds:_.reduce((function(e,t){return(0,j.Xh)(t)||(e[t.id]=!0),e}),{})},(0,M.Lm)(C),t,null))}},ce=(n(2806),n(5783)),ue=n(7540),de=n(3600),fe=(0,C.z)({name:"finalize",trackEvent:!1,perform:function(e,t,n,r){var a,i=r.interactiveCanvas,s=r.focusContainer,c=r.scene;if(t.editingLinearElement){var u=t.editingLinearElement,d=u.elementId,f=u.startBindingElement,h=u.endBindingElement,p=I._.getElement(d);if(p)return(0,j.Mn)(p)&&(0,T.HG)(p,f,h),{elements:p.points.length<2||(0,M.QD)(p)?e.filter((function(e){return e.id!==p.id})):void 0,appState:(0,v.Z)((0,v.Z)({},t),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var m=e,g=t.pendingImageElementId&&c.getElement(t.pendingImageElementId);g&&(0,_.DR)(g,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&s();var y,b=t.multiElement?t.multiElement:"freedraw"===(null===(a=t.editingElement)||void 0===a?void 0:a.type)?t.editingElement:null;if(b){if("freedraw"!==b.type&&"touch"!==t.lastPointerDownWith){var x=b.points,w=b.lastCommittedPoint;w&&x[x.length-1]===w||(0,_.DR)(b,{points:b.points.slice(0,-1)})}(0,M.QD)(b)&&(m=m.filter((function(e){return e.id!==b.id})));var k=(0,ue.g6)(b.points,t.zoom.value);if(("line"===b.type||"freedraw"===b.type)&&k){var E=b.points,S=E[0];(0,_.DR)(b,{points:E.map((function(e,t){return t===E.length-1?[S[0],S[1]]:e}))})}if((0,j.Mn)(b)&&!k&&b.points.length>1){var C=I._.getPointAtIndexGlobalCoordinates(b,-1),Z=(0,o.Z)(C,2),L=Z[0],D=Z[1];(0,T.R)(b,t,A.Z.getScene(b),{x:L,y:D})}}return(t.activeTool.locked||"freedraw"===t.activeTool.type)&&b||(0,de.z8)(i),y="eraser"===t.activeTool.type?(0,P.Om)(t,(0,v.Z)((0,v.Z)({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,P.Om)(t,{type:"selection"}),{elements:m,appState:(0,v.Z)((0,v.Z)({},t),{},{cursorButton:"up",activeTool:(t.activeTool.locked||"freedraw"===t.activeTool.type)&&b?t.activeTool:y,activeEmbeddable:null,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:b&&!t.activeTool.locked&&"freedraw"!==t.activeTool.type?(0,v.Z)((0,v.Z)({},t.selectedElementIds),{},(0,l.Z)({},b.id,!0)):t.selectedElementIds,selectedLinearElement:b&&(0,j.bt)(b)?new I._(b,c):t.selectedLinearElement,pendingImageElementId:null}),commitToHistory:"freedraw"===t.activeTool.type}},keyTest:function(e,t){return e.key===k.tW.ESCAPE&&(null!==t.editingLinearElement||!t.draggingElement&&null===t.multiElement)||(e.key===k.tW.ESCAPE||e.key===k.tW.ENTER)&&null!==t.multiElement},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.data;return(0,D.jsx)(E.V,{type:"button",icon:L.$c,title:(0,S.t)("buttons.done"),"aria-label":(0,S.t)("buttons.done"),onClick:n,visible:null!=t.multiElement,size:(null===r||void 0===r?void 0:r.size)||"medium"})}});var he=function(e){var t=Vl().id,n=(0,m.useState)(e.value),r=(0,o.Z)(n,2),a=r[0],i=r[1];return(0,D.jsxs)("div",{className:"ProjectName",children:[(0,D.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(e.label).concat(e.isNameEditable?"":":")}),e.isNameEditable?(0,D.jsx)("input",{type:"text",className:"TextInput",onBlur:function(t){e.ignoreFocus||(0,P.qz)(t.target);var n=t.target.value;n!==e.value&&e.onChange(n)},onKeyDown:function(e){if(e.key===k.tW.ENTER){if(e.preventDefault(),e.nativeEvent.isComposing||229===e.keyCode)return;e.currentTarget.blur()}},id:"".concat(t,"-filename"),value:a,onChange:function(e){return i(e.target.value)}}):(0,D.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(t,"-filename"),children:e.value})]})},pe=n(8036),ve=(n(2916),function(e){var t=e.title||("dark"===e.value?(0,S.t)("buttons.lightMode"):(0,S.t)("buttons.darkMode"));return(0,D.jsx)(E.V,{type:"icon",icon:e.value===q.C6.LIGHT?me.MOON:me.SUN,title:t,"aria-label":t,onClick:function(){return e.onChange(e.value===q.C6.DARK?q.C6.LIGHT:q.C6.DARK)},"data-testid":"toggle-dark-mode"})}),me={SUN:(0,D.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,D.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,D.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,D.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},ge=n(3310),ye=n(5972),be=n(7105),xe=n(789),we=n(7422),ke=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,r,a,i,o){var l,c,u,d,f,h,p,v,m,g,y;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=o.exportBackground,c=o.exportPadding,u=void 0===c?q.qy:c,d=o.viewBackgroundColor,f=o.name,h=o.fileHandle,p=void 0===h?null:h,0!==r.length){e.next=3;break}throw new Error((0,S.t)("alerts.cannotExportEmptyCanvas"));case 3:if("svg"!==t&&"clipboard-svg"!==t){e.next=17;break}return e.next=6,(0,ye.$D)(r,{exportBackground:l,exportWithDarkMode:a.exportWithDarkMode,viewBackgroundColor:d,exportPadding:u,exportScale:a.exportScale,exportEmbedScene:a.exportEmbedScene&&"svg"===t},i);case 6:if(v=e.sent,"svg"!==t){e.next=13;break}return e.next=10,(0,xe.NL)(new Blob([v.outerHTML],{type:q.LO.svg}),{description:"Export to SVG",name:f,extension:a.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:p});case 10:return e.abrupt("return",e.sent);case 13:if("clipboard-svg"!==t){e.next=17;break}return e.next=16,(0,ge.dd)(v.outerHTML);case 16:return e.abrupt("return");case 17:if(m=(0,ye.NL)(r,a,i,{exportBackground:l,viewBackgroundColor:d,exportPadding:u}),"png"!==t){e.next=33;break}return e.next=21,(0,be._c)(m);case 21:if(g=e.sent,!a.exportEmbedScene){e.next=28;break}return e.next=25,Promise.resolve().then(n.bind(n,9381));case 25:return e.next=27,e.sent.encodePngMetadata({blob:g,metadata:(0,we.I_)(r,a,i,"local")});case 27:g=e.sent;case 28:return e.next=30,(0,xe.NL)(g,{description:"Export to PNG",name:f,extension:"png",fileHandle:p});case 30:return e.abrupt("return",e.sent);case 33:if("clipboard"!==t){e.next=52;break}return e.prev=34,y=(0,be._c)(m),e.next=38,(0,ge.uR)(y);case 38:e.next=50;break;case 40:if(e.prev=40,e.t0=e.catch(34),console.warn(e.t0),"CANVAS_POSSIBLY_TOO_BIG"!==e.t0.name){e.next=45;break}throw e.t0;case 45:if(!q.vU||"TypeError"!==e.t0.name){e.next=49;break}throw new Error("".concat((0,S.t)("alerts.couldNotCopyToClipboard"),"\n\n").concat((0,S.t)("hints.firefox_clipboard_write")));case 49:throw new Error((0,S.t)("alerts.couldNotCopyToClipboard"));case 50:e.next=53;break;case 52:throw new Error("Unsupported export type");case 53:case"end":return e.stop()}}),e,null,[[34,40]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n,r){var a,i,o,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(a=n).exportBackground,o=a.viewBackgroundColor,l=a.name,c=a.fileHandle,u=(0,be.Qk)(c),c&&(0,be.DQ)(u)){e.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return n=(0,v.Z)((0,v.Z)({},n),{},{exportEmbedScene:!0}),e.next=7,ke(u,(0,M.Lm)(t),n,r,{exportBackground:i,viewBackgroundColor:o,name:l,fileHandle:c});case 7:return e.abrupt("return",{fileHandle:c});case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();var Se=function(e){var t=e.children,n=e.checked,r=e.onChange,a=e.className;return(0,D.jsxs)("div",{className:(0,b.Z)("Checkbox",a,{"is-checked":n}),onClick:function(e){r(!n,e),e.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,D.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":n,children:L.eQ}),(0,D.jsx)("div",{className:"Checkbox-label",children:t})]})},Ce=(0,C.z)({name:"changeProjectName",trackEvent:!1,perform:function(e,t,n){return{appState:(0,v.Z)((0,v.Z)({},t),{},{name:n}),commitToHistory:!1}},PanelComponent:function(e){var t,n=e.appState,r=e.updateData,a=e.appProps,i=e.data;return(0,D.jsx)(he,{label:(0,S.t)("labels.fileTitle"),value:n.name||"Unnamed",onChange:function(e){return r(e)},isNameEditable:"undefined"===typeof a.name&&!n.viewModeEnabled,ignoreFocus:null!==(t=null===i||void 0===i?void 0:i.ignoreFocus)&&void 0!==t&&t})}}),Me=(0,C.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(e,t,n){return{appState:(0,v.Z)((0,v.Z)({},t),{},{exportScale:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,M.Lm)(t),i=(0,w.N)(a,n)?(0,w.eD)(a,n):a;return(0,D.jsx)(D.Fragment,{children:q.ZB.map((function(e){var t=(0,ye.Cg)(i,q.qy,e),a=(0,o.Z)(t,2),l=a[0],s=a[1],c="".concat((0,S.t)("imageExportDialog.label.scale")," ").concat(e,"x (").concat(l,"x").concat(s,")");return(0,D.jsx)(E.V,{size:"small",type:"radio",icon:"".concat(e,"x"),name:"export-canvas-scale",title:c,"aria-label":c,id:"export-canvas-scale",checked:e===n.exportScale,onChange:function(){return r(e)}},e)}))})}}),_e=(0,C.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(e,t,n){return{appState:(0,v.Z)((0,v.Z)({},t),{},{exportBackground:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,D.jsx)(Se,{checked:t.exportBackground,onChange:function(e){return n(e)},children:(0,S.t)("imageExportDialog.label.withBackground")})}}),Ze=(0,C.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(e,t,n){return{appState:(0,v.Z)((0,v.Z)({},t),{},{exportEmbedScene:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,D.jsxs)(Se,{checked:t.exportEmbedScene,onChange:function(e){return n(e)},children:[(0,S.t)("imageExportDialog.label.embedScene"),(0,D.jsx)(pe.u,{label:(0,S.t)("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,D.jsx)("div",{className:"excalidraw-tooltip-icon",children:L.Vl})})]})}}),Ie=(0,C.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.saveToActiveFile&&!!t.fileHandle&&!t.viewModeEnabled},perform:function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n,r,a){var i,o,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!!n.fileHandle,e.prev=1,!(0,be.g8)(n.fileHandle)){e.next=8;break}return e.next=5,Ee(t,n,a.files);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,(0,we.Um)(t,n,a.files);case 10:e.t0=e.sent;case 11:return o=e.t0,l=o.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:(0,v.Z)((0,v.Z)({},n),{},{fileHandle:l,toast:i?{message:null!==l&&void 0!==l&&l.name?(0,S.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(l.name,'"')):(0,S.t)("toast.fileSaved")}:null})});case 16:return e.prev=16,e.t1=e.catch(1),"AbortError"!==(null===e.t1||void 0===e.t1?void 0:e.t1.name)?console.error(e.t1):console.warn(e.t1),e.abrupt("return",{commitToHistory:!1});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:function(e){return e.key===k.tW.S&&e[k.tW.CTRL_OR_CMD]&&!e.shiftKey}}),Te=(0,C.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n,r,a){var i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,we.Um)(t,(0,v.Z)((0,v.Z)({},n),{},{fileHandle:null}),a.files);case 3:return i=e.sent,o=i.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:(0,v.Z)((0,v.Z)({},n),{},{openDialog:null,fileHandle:o,toast:{message:(0,S.t)("toast.fileSaved")}})});case 8:return e.prev=8,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)?console.error(e.t0):console.warn(e.t0),e.abrupt("return",{commitToHistory:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:function(e){return e.key===k.tW.S&&e.shiftKey&&e[k.tW.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.updateData;return(0,D.jsx)(E.V,{type:"button",icon:L.po,title:(0,S.t)("buttons.saveAs"),"aria-label":(0,S.t)("buttons.saveAs"),showAriaLabel:Kl().isMobile,hidden:!xe.kr,onClick:function(){return t(null)},"data-testid":"save-as-button"})}}),je=(0,C.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.loadScene&&!t.viewModeEnabled},perform:function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n,r,a){var i,o,l,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,we.n8)(n,t);case 3:return i=e.sent,o=i.elements,l=i.appState,c=i.files,e.abrupt("return",{elements:o,appState:l,files:c,commitToHistory:!0});case 10:if(e.prev=10,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=15;break}return console.warn(e.t0),e.abrupt("return",!1);case 15:return e.abrupt("return",{elements:t,appState:(0,v.Z)((0,v.Z)({},n),{},{errorMessage:e.t0.message}),files:a.files,commitToHistory:!1});case 16:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.key===k.tW.O}}),Pe=(0,C.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(e,t,n){return{appState:(0,v.Z)((0,v.Z)({},t),{},{exportWithDarkMode:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,D.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,D.jsx)(ve,{value:t.exportWithDarkMode?q.C6.DARK:q.C6.LIGHT,onChange:function(e){n(e===q.C6.DARK)},title:(0,S.t)("imageExportDialog.label.darkMode")})})}}),Le="{}",De=(0,C.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(e,t){var n=[],r=e.find((function(e){return t.selectedElementIds[e.id]}));if(n.push(r),r&&(0,j.Xo)(r)){var a=(0,re.WJ)(r);n.push(a)}return r&&(Le=JSON.stringify(n)),{appState:(0,v.Z)((0,v.Z)({},t),{},{toast:{message:(0,S.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.altKey&&e.code===k.aU.C}}),Oe=(0,C.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(e,t){var n=JSON.parse(Le),r=n[0],a=n[1];if(!(0,M.r2)(r))return{elements:e,commitToHistory:!1};var i=(0,w.eD)(e,t,{includeBoundTextElement:!0}),o=i.map((function(e){return e.id}));return{elements:e.map((function(e){if(o.includes(e.id)){var t,n,l,s,c,u,d,f=r;if((0,M.iB)(e)&&e.containerId&&(f=a),!f)return e;var h=(0,_.BE)(e,{backgroundColor:null===(t=f)||void 0===t?void 0:t.backgroundColor,strokeWidth:null===(n=f)||void 0===n?void 0:n.strokeWidth,strokeColor:null===(l=f)||void 0===l?void 0:l.strokeColor,strokeStyle:null===(s=f)||void 0===s?void 0:s.strokeStyle,fillStyle:null===(c=f)||void 0===c?void 0:c.fillStyle,opacity:null===(u=f)||void 0===u?void 0:u.opacity,roughness:null===(d=f)||void 0===d?void 0:d.roughness,roundness:f.roundness?(0,j.eK)(f.roundness.type,e)?f.roundness:(0,j.UQ)(e):null});if((0,M.iB)(h)){var p,v,m,g,y=(null===(p=f)||void 0===p?void 0:p.fontSize)||q.n5,b=(null===(v=f)||void 0===v?void 0:v.fontWeight)||q.P3,x=(null===(m=f)||void 0===m?void 0:m.fontFamily)||q.rk,w=null;(h=(0,_.BE)(h,{fontSize:y,fontFamily:x,fontWeight:b,textAlign:(null===(g=f)||void 0===g?void 0:g.textAlign)||q.Hg,lineHeight:f.lineHeight||(0,re.PT)(x)})).containerId&&(w=i.find((function(e){return(0,M.iB)(h)&&e.id===h.containerId}))||null),(0,M.oN)(h,w)}return"arrow"===h.type&&(h=(0,_.BE)(h,{startArrowhead:f.startArrowhead,endArrowhead:f.endArrowhead})),(0,j.He)(e)&&(h=(0,_.BE)(h,{roundness:null,backgroundColor:"transparent"})),h}return e})),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.altKey&&e.code===k.aU.V}}),Re=((0,C.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(e,t){return{appState:(0,v.Z)((0,v.Z)({},t),{},{openMenu:"canvas"===t.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,D.jsx)(E.V,{type:"button",icon:L.RY,"aria-label":(0,S.t)("buttons.menu"),onClick:n,selected:"canvas"===t.openMenu})}}),(0,C.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(e,t){return{appState:(0,v.Z)((0,v.Z)({},t),{},{openMenu:"shape"===t.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,D.jsx)(E.V,{visible:(0,M.RT)(n,(0,M.Lm)(t)),type:"button",icon:L.DG,"aria-label":(0,S.t)("buttons.edit"),onClick:r,selected:"shape"===n.openMenu})}}),(0,C.z)({name:"toggleFullScreen",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!(0,P.rB)()}},perform:function(){return(0,P.rB)()||(0,P.wo)(),(0,P.rB)()&&(0,P.Pr)(),{commitToHistory:!1}}}),(0,C.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(e,t,n,r){var a=r.focusContainer;return"help"===t.openDialog&&a(),{appState:(0,v.Z)((0,v.Z)({},t),{},{openDialog:"help"===t.openDialog?null:"help"}),commitToHistory:!1}},keyTest:function(e){return e.key===k.tW.QUESTION_MARK}})),Ae=n(3859),Ne=function(e,t,n){var r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0});return r.length>=2&&!function(e){if(e.length>=2){var t,n=e[0].groupIds,r=(0,a.Z)(n);try{var i=function(){var n=t.value;if(e.reduce((function(e,t){return e&&(0,Z.Nd)(t,n)}),!0))return{v:!0}};for(r.s();!(t=r.n()).done;){var o=i();if("object"===typeof o)return o.v}}catch(l){r.e(l)}finally{r.f()}}return!1}(r)},ze=(0,C.z)({name:"group",trackEvent:{category:"element"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0});if(a.length<2)return{appState:t,elements:e,commitToHistory:!1};var o=(0,Z.iJ)(t);if(1===o.length){var l=o[0],s=new Set((0,Z.Fb)(e,l).map((function(e){return e.id}))),c=new Set(a.map((function(e){return e.id})));if(new Set([].concat((0,i.Z)(Array.from(s)),(0,i.Z)(Array.from(c)))).size===s.size)return{appState:t,elements:e,commitToHistory:!1}}var u=(0,i.Z)(e);new Set(a.map((function(e){return e.frameId}))).size>1&&(0,oe.SH)(a).forEach((function(e,n){u=(0,oe.lz)(u,e,t)}));var d=(0,Ae.kb)(),f=(0,P.xn)(a);u=u.map((function(e){return f.get(e.id)?(0,_.BE)(e,{groupIds:(0,Z.S_)(e.groupIds,d,t.editingGroupId)}):e}));var h=(0,Z.Fb)(u,d),p=h[h.length-1],m=u.lastIndexOf(p),g=u.slice(m+1),y=u.slice(0,m).filter((function(e){return!(0,Z.Nd)(e,d)}));return u=[].concat((0,i.Z)(y),(0,i.Z)(h),(0,i.Z)(g)),{appState:(0,v.Z)((0,v.Z)({},t),(0,Z.F$)(d,(0,v.Z)((0,v.Z)({},t),{},{selectedGroupIds:{}}),(0,M.Lm)(u))),elements:u,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(e,t,n,r){return Ne(0,t,r)},keyTest:function(e){return!e.shiftKey&&e[k.tW.CTRL_OR_CMD]&&e.key===k.tW.G},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,D.jsx)(E.V,{hidden:!Ne(0,n,a),type:"button",icon:(0,D.jsx)(L.BF,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,S.t)("labels.group")," \u2014 ").concat((0,P.uY)("CtrlOrCmd+G")),"aria-label":(0,S.t)("labels.group"),visible:(0,w.N)((0,M.Lm)(t),n)})}}),Be=(0,C.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(e,t,n,r){if(0===(0,Z.iJ)(t).length)return{appState:t,elements:e,commitToHistory:!1};var a=(0,i.Z)(e),l=r.scene.getSelectedElements(t).filter((function(e){return e.frameId})).map((function(e){return r.scene.getElement(e.frameId)})),s=[];a=a.map((function(e){(0,j.Xh)(e)&&s.push(e.id);var n=(0,Z.h6)(e.groupIds,t.selectedGroupIds);return n.length===e.groupIds.length?e:(0,_.BE)(e,{groupIds:n})}));var c=(0,Z.bO)(t,(0,M.Lm)(a),t,null);return l.forEach((function(e){e&&(a=(0,oe.pr)(a,(0,oe.ni)(a,e,t),e,t))})),c.selectedElementIds=Object.entries(c.selectedElementIds).reduce((function(e,t){var n=(0,o.Z)(t,2),r=n[0];return n[1]&&!s.includes(r)&&(e[r]=!0),e}),{}),{appState:(0,v.Z)((0,v.Z)({},t),c),elements:a,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[k.tW.CTRL_OR_CMD]&&e.key===k.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(e,t){return(0,Z.iJ)(t).length>0},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,D.jsx)(E.V,{type:"button",hidden:0===(0,Z.iJ)(n).length,icon:(0,D.jsx)(L.RJ,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,S.t)("labels.ungroup")," \u2014 ").concat((0,P.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,S.t)("labels.ungroup"),visible:(0,w.N)((0,M.Lm)(t),n)})}}),Fe=n(3193);var He=function(e){var t=e.color,n=e.onClick,r=e.name,a=e.src,i=(0,Fe.l)(r),l=(0,m.useState)(!1),s=(0,o.Z)(l,2),c=s[0],u=s[1],d=!c&&a,f=d?void 0:{background:t};return(0,D.jsx)("div",{className:"Avatar",style:f,onClick:n,children:d?(0,D.jsx)("img",{className:"Avatar-img",src:a,alt:i,referrerPolicy:"no-referrer",onError:function(){return u(!0)}}):i})},We=n(2650),Ue=((0,C.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(e,t,n){var r=n;return r?{appState:(0,v.Z)((0,v.Z)((0,v.Z)({},t),(0,We.s)({scenePoint:r,viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})),{},{openMenu:"canvas"===t.openMenu?null:t.openMenu}),commitToHistory:!1}:{appState:t,commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData,n=e.data,r=(0,o.Z)(n,2),a=r[0],i=r[1],l=(0,Fe.G)(a);return(0,D.jsx)(He,{color:l,onClick:function(){return t(i.pointer)},name:i.username||"",src:i.avatarUrl})}}),n(2793)),Ke=(0,C.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(e,t,n,r){var o,l=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),s=(0,a.Z)(q.PR);try{var c=function(){var e=o.value;if(l.some((function(t){return t.type===e})))return{v:{commitToHistory:!1,appState:(0,v.Z)((0,v.Z)({},t),{},{errorMessage:(0,S.t)("errors.libraryElementTypeError.".concat(e))})}}};for(s.s();!(o=s.n()).done;){var u=c();if("object"===typeof u)return u.v}}catch(d){s.e(d)}finally{s.f()}return r.library.getLatestLibrary().then((function(e){return r.library.setLibrary([{id:(0,Ae.kb)(),status:"unpublished",elements:l.map(Ue.OL),created:Date.now()}].concat((0,i.Z)(e)))})).then((function(){return{commitToHistory:!1,appState:(0,v.Z)((0,v.Z)({},t),{},{toast:{message:(0,S.t)("toast.addedToLibrary")}})}})).catch((function(e){return{commitToHistory:!1,appState:(0,v.Z)((0,v.Z)({},t),{},{errorMessage:e.message})}}))},contextItemLabel:"labels.addToLibrary"}),Ve=n(1710),Ye=function(e,t,n){var r=n.axis,a=n.position,i=(0,Ve.v2)(e),s="x"===r?["minX","maxX"]:["minY","maxY"],c=(0,o.Z)(s,2),u=c[0],d=c[1],f={x:0,y:0};return"start"===a?(0,v.Z)((0,v.Z)({},f),{},(0,l.Z)({},r,t[u]-i[u])):"end"===a?(0,v.Z)((0,v.Z)({},f),{},(0,l.Z)({},r,t[d]-i[d])):(0,v.Z)((0,v.Z)({},f),{},(0,l.Z)({},r,(t[u]+t[d])/2-(i[u]+i[d])/2))},Ge=function(e,t,n,r){var a=r.scene.getSelectedElements(t);return a.length>1&&!a.some((function(e){return"frame"===e.type}))},Xe=function(e,t,n,r){var a=function(e,t){var n=(0,Z.AI)(e),r=(0,Ve.v2)(e);return n.flatMap((function(e){var n=Ye(e,r,t);return e.map((function(e){return(0,_.BE)(e,{x:e.x+n.x,y:e.y+n.y})}))}))}(n.scene.getSelectedElements(t),r),i=(0,P.xn)(a);return(0,oe.Tq)(e.map((function(e){return i.get(e.id)||e})),t,n)},qe=((0,C.z)({name:"alignTop",trackEvent:{category:"element"},predicate:Ge,perform:function(e,t,n,r){return{appState:t,elements:Xe(e,t,r,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===k.tW.ARROW_UP},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,D.jsx)(E.V,{hidden:!Ge(0,n,0,a),type:"button",icon:L.Ct,onClick:function(){return r(null)},title:"".concat((0,S.t)("labels.alignTop")," \u2014 ").concat((0,P.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,S.t)("labels.alignTop"),visible:(0,w.N)((0,M.Lm)(t),n)})}}),(0,C.z)({name:"alignBottom",trackEvent:{category:"element"},predicate:Ge,perform:function(e,t,n,r){return{appState:t,elements:Xe(e,t,r,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===k.tW.ARROW_DOWN},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,D.jsx)(E.V,{hidden:!Ge(0,n,0,a),type:"button",icon:L.HL,onClick:function(){return r(null)},title:"".concat((0,S.t)("labels.alignBottom")," \u2014 ").concat((0,P.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,S.t)("labels.alignBottom"),visible:(0,w.N)((0,M.Lm)(t),n)})}}),(0,C.z)({name:"alignLeft",trackEvent:{category:"element"},predicate:Ge,perform:function(e,t,n,r){return{appState:t,elements:Xe(e,t,r,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===k.tW.ARROW_LEFT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,D.jsx)(E.V,{hidden:!Ge(0,n,0,a),type:"button",icon:L.xs,onClick:function(){return r(null)},title:"".concat((0,S.t)("labels.alignLeft")," \u2014 ").concat((0,P.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,S.t)("labels.alignLeft"),visible:(0,w.N)((0,M.Lm)(t),n)})}}),(0,C.z)({name:"alignRight",trackEvent:{category:"element"},predicate:Ge,perform:function(e,t,n,r){return{appState:t,elements:Xe(e,t,r,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===k.tW.ARROW_RIGHT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,D.jsx)(E.V,{hidden:!Ge(0,n,0,a),type:"button",icon:L.mh,onClick:function(){return r(null)},title:"".concat((0,S.t)("labels.alignRight")," \u2014 ").concat((0,P.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,S.t)("labels.alignRight"),visible:(0,w.N)((0,M.Lm)(t),n)})}}),(0,C.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},predicate:Ge,perform:function(e,t,n,r){return{appState:t,elements:Xe(e,t,r,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,D.jsx)(E.V,{hidden:!Ge(0,n,0,a),type:"button",icon:L.ST,onClick:function(){return r(null)},title:(0,S.t)("labels.centerVertically"),"aria-label":(0,S.t)("labels.centerVertically"),visible:(0,w.N)((0,M.Lm)(t),n)})}}),(0,C.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},predicate:Ge,perform:function(e,t,n,r){return{appState:t,elements:Xe(e,t,r,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,D.jsx)(E.V,{hidden:!Ge(0,n,0,a),type:"button",icon:L.gK,onClick:function(){return r(null)},title:(0,S.t)("labels.centerHorizontally"),"aria-label":(0,S.t)("labels.centerHorizontally"),visible:(0,w.N)((0,M.Lm)(t),n)})}}),function(e,t){var n=t.scene.getSelectedElements(e);return n.length>1&&!n.some((function(e){return"frame"===e.type}))}),$e=function(e,t,n,r){var i=function(e,t){var n,r="x"===t.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],i=(0,o.Z)(r,4),l=i[0],s=i[1],c=i[2],u=i[3],d=(0,Ve.v2)(e),f=(0,Z.AI)(e).map((function(e){return[e,(0,Ve.v2)(e)]})).sort((function(e,t){return e[1][s]-t[1][s]})),h=0,p=(0,a.Z)(f);try{for(p.s();!(n=p.n()).done;)h+=n.value[1][u]}catch(w){p.e(w)}finally{p.f()}var v=(d[u]-h)/(f.length-1);if(v<0){var m=f.findIndex((function(e){return e[1][l]===d[l]})),g=f.findIndex((function(e){return e[1][c]===d[c]})),y=(f[g][1][s]-f[m][1][s])/(f.length-1),b=f[m][1][s];return f.flatMap((function(e,n){var r=(0,o.Z)(e,2),a=r[0],i=r[1],l={x:0,y:0};return n!==m&&n!==g&&(b+=y,l[t.axis]=b-i[s]),a.map((function(e){return(0,_.BE)(e,{x:e.x+l.x,y:e.y+l.y})}))}))}var x=d[l];return f.flatMap((function(e){var n=(0,o.Z)(e,2),r=n[0],a=n[1],i={x:0,y:0};return i[t.axis]=x-a[l],x+=v,x+=a[u],r.map((function(e){return(0,_.BE)(e,{x:e.x+i.x,y:e.y+i.y})}))}))}(n.scene.getSelectedElements(t),r),l=(0,P.xn)(i);return(0,oe.Tq)(e.map((function(e){return l.get(e.id)||e})),t,n)},Qe=((0,C.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(e,t,n,r){return{appState:t,elements:$e(e,t,r,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return!e[k.tW.CTRL_OR_CMD]&&e.altKey&&e.code===k.aU.H},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,D.jsx)(E.V,{hidden:!qe(n,a),type:"button",icon:L.uD,onClick:function(){return r(null)},title:"".concat((0,S.t)("labels.distributeHorizontally")," \u2014 ").concat((0,P.uY)("Alt+H")),"aria-label":(0,S.t)("labels.distributeHorizontally"),visible:(0,w.N)((0,M.Lm)(t),n)})}}),(0,C.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(e,t,n,r){return{appState:t,elements:$e(e,t,r,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return!e[k.tW.CTRL_OR_CMD]&&e.altKey&&e.code===k.aU.V},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,D.jsx)(E.V,{hidden:!qe(n,a),type:"button",icon:L.W5,onClick:function(){return r(null)},title:"".concat((0,S.t)("labels.distributeVertically")," \u2014 ").concat((0,P.uY)("Alt+V")),"aria-label":(0,S.t)("labels.distributeVertically"),visible:(0,w.N)((0,M.Lm)(t),n)})}}),n(2695)),Je=(0,C.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(e,t,n,r){return{elements:(0,oe.Tq)(tt(e,t,"horizontal"),t,r),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e.code===k.aU.H},contextItemLabel:"labels.flipHorizontal"}),et=(0,C.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(e,t,n,r){return{elements:(0,oe.Tq)(tt(e,t,"vertical"),t,r),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e.code===k.aU.V&&!e[k.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical"}),tt=function(e,t,n){var r=(0,w.eD)((0,M.Lm)(e),t,{includeBoundTextElement:!0,includeElementsInFrames:!0}),a=nt(r,t,n),i=(0,P.xn)(a);return e.map((function(e){return i.get(e.id)||e}))},nt=function(e,t,n){var r=(0,Ve.v2)(e),a=r.minX,i=r.minY,o=r.maxX,l=r.maxY;return(0,Qe.LM)({originalElements:(0,P.xn)(e)},e,"nw",!0,"horizontal"===n?o:a,"horizontal"===n?i:l),((0,T.N1)(t)?T.el:T.H)(e),e},rt=(0,C.z)({name:"copy",trackEvent:{category:"element"},perform:function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n,r,a){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.scene.getSelectedElements({selectedElementIds:n.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),e.prev=1,e.next=4,(0,ge.vQ)(i,a.files,r);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{commitToHistory:!1,appState:(0,v.Z)((0,v.Z)({},n),{},{errorMessage:e.t0.message})});case 9:return e.abrupt("return",{commitToHistory:!1});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copy",keyTest:void 0}),at=(0,C.z)({name:"paste",trackEvent:{category:"element"},perform:function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n,r,a){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ge.Se)();case 3:i=e.sent,e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(0),"AbortError"!==e.t0.name&&"NotAllowedError"!==e.t0.name){e.next=10;break}return e.abrupt("return",!1);case 10:if(console.error("actionPaste ".concat(e.t0.name,": ").concat(e.t0.message)),!q.vU){e.next=13;break}return e.abrupt("return",{commitToHistory:!1,appState:(0,v.Z)((0,v.Z)({},n),{},{errorMessage:(0,S.t)("hints.firefox_clipboard_write")})});case 13:return e.abrupt("return",{commitToHistory:!1,appState:(0,v.Z)((0,v.Z)({},n),{},{errorMessage:(0,S.t)("errors.asyncPasteFailedOnRead")})});case 14:e.prev=14,a.pasteFromClipboard((0,ge.OO)({types:i})),e.next=22;break;case 18:return e.prev=18,e.t1=e.catch(14),console.error(e.t1),e.abrupt("return",{commitToHistory:!1,appState:(0,v.Z)((0,v.Z)({},n),{},{errorMessage:(0,S.t)("errors.asyncPasteFailedOnParse")})});case 22:return e.abrupt("return",{commitToHistory:!1});case 23:case"end":return e.stop()}}),e,null,[[0,6],[14,18]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),contextItemLabel:"labels.paste",keyTest:void 0}),it=(0,C.z)({name:"cut",trackEvent:{category:"element"},perform:function(e,t,n,r){return rt.perform(e,t,n,r),R.perform(e,t)},contextItemLabel:"labels.cut",keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.key===k.tW.X}}),ot=(0,C.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n,r,a){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return i=a.scene.getSelectedElements({selectedElementIds:n.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),e.prev=3,e.next=6,ke("clipboard-svg",i.length?i:(0,M.Lm)(t),n,a.files,n);case 6:return e.abrupt("return",{commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:(0,v.Z)((0,v.Z)({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),predicate:function(e){return ge.wx&&e.length>0},contextItemLabel:"labels.copyAsSvg"}),lt=(0,C.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n,r,a){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return i=a.scene.getSelectedElements({selectedElementIds:n.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),e.prev=3,e.next=6,ke("clipboard",i.length?i:(0,M.Lm)(t),n,a.files,n);case 6:return e.abrupt("return",{appState:(0,v.Z)((0,v.Z)({},n),{},{toast:{message:(0,S.t)("toast.copyToClipboardAsPng",{exportSelection:i.length?(0,S.t)("toast.selection"):(0,S.t)("toast.canvas"),exportColorScheme:n.exportWithDarkMode?(0,S.t)("buttons.darkMode"):(0,S.t)("buttons.lightMode")})}}),commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:(0,v.Z)((0,v.Z)({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),predicate:function(e){return ge.vt&&e.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(e){return e.code===k.aU.C&&e.altKey&&e.shiftKey}}),st=(0,C.z)({name:"copyText",trackEvent:{category:"element"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0}).reduce((function(e,t){return(0,M.iB)(t)&&e.push(t.text),e}),[]).join("\n\n");return(0,ge.dd)(a),{commitToHistory:!1}},predicate:function(e,t,n,r){return ge.wx&&r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0}).some(M.iB)},contextItemLabel:"labels.copyText"}),ct=(0,C.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.gridSize}},perform:function(e,t){return{appState:(0,v.Z)((0,v.Z)({},t),{},{gridSize:this.checked(t)?null:q.k,objectsSnapModeEnabled:!1}),commitToHistory:!1}},checked:function(e){return null!==e.gridSize},predicate:function(e,t,n){return"undefined"===typeof n.gridModeEnabled},contextItemLabel:"labels.showGrid",keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.code===k.aU.QUOTE}}),ut=(0,C.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.zenModeEnabled}},perform:function(e,t){return{appState:(0,v.Z)((0,v.Z)({},t),{},{zenModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.zenModeEnabled},predicate:function(e,t,n){return"undefined"===typeof n.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(e){return!e[k.tW.CTRL_OR_CMD]&&e.altKey&&e.code===k.aU.Z}}),dt=(0,C.z)({name:"objectsSnapMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.objectsSnapModeEnabled}},perform:function(e,t){return{appState:(0,v.Z)((0,v.Z)({},t),{},{objectsSnapModeEnabled:!this.checked(t),gridSize:null}),commitToHistory:!1}},checked:function(e){return e.objectsSnapModeEnabled},predicate:function(e,t,n){return"undefined"===typeof n.objectsSnapModeEnabled},contextItemLabel:"buttons.objectsSnapMode",keyTest:function(e){return!e[k.tW.CTRL_OR_CMD]&&e.altKey&&e.code===k.aU.S}}),ft=(0,C.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(e,t){return{appState:(0,v.Z)((0,v.Z)({},t),{},{showStats:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.showStats},contextItemLabel:"stats.title",keyTest:function(e){return!e[k.tW.CTRL_OR_CMD]&&e.altKey&&e.code===k.aU.SLASH}}),ht=n(5570),pt=(0,C.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(e,t,n,r){return r.scene.getSelectedElements(t).some((function(e){return(0,j.Xo)(e)}))},perform:function(e,t,n,r){return r.scene.getSelectedElements(t).forEach((function(e){var t=(0,re.WJ)(e);if(t){var n,r=(0,re.X1)(t.originalText,(0,P.mO)(t),t.lineHeight),a=r.width,i=r.height,o=r.baseline,l=(0,ht.eR)(e.id);(0,ht.kT)(e.id);var s=(0,re.FE)(e,t),c=s.x,u=s.y;(0,_.DR)(t,{containerId:null,width:a,height:i,baseline:o,text:t.originalText,x:c,y:u}),(0,_.DR)(e,{boundElements:null===(n=e.boundElements)||void 0===n?void 0:n.filter((function(e){return e.id!==t.id})),height:l||e.height})}})),{elements:e,appState:t,commitToHistory:!0}}}),vt=(0,C.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t);if(2===a.length){var i,o=(0,M.iB)(a[0])||(0,M.iB)(a[1]);if((0,j.mG)(a[0])?i=a[0]:(0,j.mG)(a[1])&&(i=a[1]),o&&i&&null===(0,re.WJ)(i))return!0}return!1},perform:function(e,t,n,r){var a,i,o=r.scene.getSelectedElements(t);(0,M.iB)(o[0])&&(0,j.mG)(o[1])?(a=o[0],i=o[1]):(a=o[1],i=o[0]),(0,_.DR)(a,{containerId:i.id,verticalAlign:q.oX.MIDDLE,textAlign:q.I8.CENTER}),(0,_.DR)(i,{boundElements:(i.boundElements||[]).concat({type:"text",id:a.id})});var s=i.height;return(0,re.oN)(a,i),(0,ht.h_)(i.id,s),{elements:mt(e,i,a),appState:(0,v.Z)((0,v.Z)({},t),{},{selectedElementIds:(0,l.Z)({},i.id,!0)}),commitToHistory:!0}}}),mt=function(e,t,n){var r=e.slice(),a=r.findIndex((function(e){return e.id===n.id}));r.splice(a,1);var i=r.findIndex((function(e){return e.id===t.id}));return r.splice(i+1,0,n),r},gt=(0,C.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t),i=a.every((function(e){return(0,M.iB)(e)}));return a.length>0&&i},perform:function(e,t,n,r){var o,l=r.scene.getSelectedElements(t),s=e.slice(),c={},u=(0,a.Z)(l);try{var d=function(){var e=o.value;if((0,M.iB)(e)){var n,r=(0,M.Up)({type:"rectangle",backgroundColor:t.currentItemBackgroundColor,boundElements:[].concat((0,i.Z)(e.boundElements||[]),[{id:e.id,type:"text"}]),angle:e.angle,fillStyle:t.currentItemFillStyle,strokeColor:t.currentItemStrokeColor,roughness:t.currentItemRoughness,strokeWidth:t.currentItemStrokeWidth,strokeStyle:t.currentItemStrokeStyle,roundness:"round"===t.currentItemRoundness?{type:(0,j.QI)("rectangle")?q.a6.ADAPTIVE_RADIUS:q.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:e.x-q.gK,y:e.y-q.gK,width:(0,re.NS)(e.width,"rectangle"),height:(0,re.NS)(e.height,"rectangle"),groupIds:e.groupIds,frameId:e.frameId});if(null!==(n=e.boundElements)&&void 0!==n&&n.length){var a=e.boundElements.filter((function(e){return"arrow"===e.type})).map((function(e){return e.id}));s.filter((function(e){return a.includes(e.id)})).forEach((function(t){var n,a,i=t.startBinding,o=t.endBinding;(null===(n=i)||void 0===n?void 0:n.elementId)===e.id&&(i=(0,v.Z)((0,v.Z)({},i),{},{elementId:r.id})),(null===(a=o)||void 0===a?void 0:a.elementId)===e.id&&(o=(0,v.Z)((0,v.Z)({},o),{},{elementId:r.id})),(i||o)&&(0,_.DR)(t,{startBinding:i,endBinding:o},!1)}))}(0,_.DR)(e,{containerId:r.id,verticalAlign:q.oX.MIDDLE,boundElements:null,textAlign:q.I8.CENTER},!1),(0,re.oN)(e,r),s=function(e,t,n){var r=e.slice(),a=r.findIndex((function(e){return e.id===t.id}));r.splice(a,1);var i=r.findIndex((function(e){return e.id===n.id}));return r.splice(i,0,t),r}([].concat((0,i.Z)(s),[r]),r,e),c[r.id]=!0}};for(u.s();!(o=u.n()).done;)d()}catch(f){u.e(f)}finally{u.f()}return{elements:s,appState:(0,v.Z)((0,v.Z)({},t),{},{selectedElementIds:c}),commitToHistory:!0}}}),yt=n(7570),bt=function(e){return e.every((function(e){return!e.locked}))},xt=(0,C.z)({name:"toggleElementLock",trackEvent:{category:"element"},predicate:function(e,t,n,r){return!r.scene.getSelectedElements(t).some((function(e){return e.locked&&e.frameId}))},perform:function(e,t,n,r){var a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!a.length)return!1;var i=bt(a),o=(0,P.xn)(a);return{elements:e.map((function(e){return o.has(e.id)?(0,_.BE)(e,{locked:i}):e})),appState:(0,v.Z)((0,v.Z)({},t),{},{selectedLinearElement:i?null:t.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(e,t,n){var r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!1});return 1===r.length&&"frame"!==r[0].type?r[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":bt(r)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(e,t,n,r){return e.key.toLocaleLowerCase()===k.tW.L&&e[k.tW.CTRL_OR_CMD]&&e.shiftKey&&r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!1}).length>0}}),wt=(0,C.z)({name:"unlockAllElements",trackEvent:{category:"canvas"},viewMode:!1,predicate:function(e){return e.some((function(e){return e.locked}))},perform:function(e,t){var n=e.filter((function(e){return e.locked}));return{elements:e.map((function(e){return e.locked?(0,_.BE)(e,{locked:!1}):e})),appState:(0,v.Z)((0,v.Z)({},t),{},{selectedElementIds:Object.fromEntries(n.map((function(e){return[e.id,!0]})))}),commitToHistory:!0}},contextItemLabel:"labels.elementLock.unlockAll"}),kt=(0,C.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return!(1!==a.length||!(0,j.bt)(a[0]))},perform:function(e,t,n,r){var a,i=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0})[0],o=(null===(a=t.editingLinearElement)||void 0===a?void 0:a.elementId)===i.id?null:new I._(i,r.scene);return{appState:(0,v.Z)((0,v.Z)({},t),{},{editingLinearElement:o}),commitToHistory:!1}},contextItemLabel:function(e,t,n){var r,a=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0})[0];return(null===(r=t.editingLinearElement)||void 0===r?void 0:r.elementId)===a.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}}),Et=function(e,t,n){var r=!1;if(!t.multiElement&&!t.resizingElement&&!t.editingElement&&!t.draggingElement){var a=n();if(null===a)return{commitToHistory:r};var i=(0,P.xn)(e),o=a.elements,l=(0,P.xn)(o),s=e.filter((function(e){return!l.has(e.id)})),c=o.map((function(e){return(0,_.BE)(i.get(e.id)||e,e)})).concat(s.map((function(e){return(0,_.BE)(e,{isDeleted:!0})})));return(0,T.$q)(c,s),{elements:c,appState:(0,v.Z)((0,v.Z)({},t),a.appState),commitToHistory:r,syncHistory:!0}}return{commitToHistory:r}},St=n(6059),Ct=function(e,t,n,r,a,i){if(e.trackEvent)try{if("object"===typeof e.trackEvent)(!e.trackEvent.predicate||e.trackEvent.predicate(n,r,i))&&(0,St.L)(e.trackEvent.category,e.trackEvent.action||e.name,"".concat(t," (").concat(a.device.isMobile?"mobile":"desktop",")"))}catch(o){console.error("error while logging action:",o)}},Mt=function(){function e(t,n,r,a){var i=this;(0,u.Z)(this,e),this.actions={},this.updater=void 0,this.getAppState=void 0,this.getElementsIncludingDeleted=void 0,this.app=void 0,this.renderAction=function(e,t){var n=i.app.props.UIOptions.canvasActions;if(i.actions[e]&&"PanelComponent"in i.actions[e]&&(!(e in n)||n[e])){var r=i.actions[e],a=r.PanelComponent;a.displayName="PanelComponent";var o=i.getElementsIncludingDeleted(),l=i.getAppState();return(0,D.jsx)(a,{elements:i.getElementsIncludingDeleted(),appState:i.getAppState(),updateData:function(e){Ct(r,"ui",l,o,i.app,e),i.updater(r.perform(i.getElementsIncludingDeleted(),i.getAppState(),e,i.app))},appProps:i.app.props,app:i.app,data:t})}return null},this.isActionEnabled=function(e){var t=i.getElementsIncludingDeleted(),n=i.getAppState();return!e.predicate||e.predicate(t,n,i.app.props,i.app)},this.updater=function(e){if(!e||!("then"in e))return t(e);e.then((function(e){return t(e)}))},this.getAppState=n,this.getElementsIncludingDeleted=r,this.app=a}return(0,d.Z)(e,[{key:"registerAction",value:function(e){this.actions[e.name]=e}},{key:"registerAll",value:function(e){var t=this;e.forEach((function(e){return t.registerAction(e)}))}},{key:"handleKeyDown",value:function(e){var t=this,n=this.app.props.UIOptions.canvasActions,r=Object.values(this.actions).sort((function(e,t){return(t.keyPriority||0)-(e.keyPriority||0)})).filter((function(r){return(!(r.name in n)||n[r.name])&&r.keyTest&&r.keyTest(e,t.getAppState(),t.getElementsIncludingDeleted(),t.app)}));if(1!==r.length)return r.length>1&&console.warn("Canceling as multiple actions match this shortcut",r),!1;var a=r[0];if(this.getAppState().viewModeEnabled&&!0!==a.viewMode)return!1;var i=this.getElementsIncludingDeleted(),o=this.getAppState();return Ct(a,"keyboard",o,i,this.app,null),e.preventDefault(),e.stopPropagation(),this.updater(r[0].perform(i,o,null,this.app)),!0}},{key:"executeAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getElementsIncludingDeleted(),a=this.getAppState();Ct(e,t,a,r,this.app,n),this.updater(e.perform(r,a,n,this.app))}}]),e}(),_t=n(6462),Zt=n(4875),It=n(3371),Tt=function(e){var t=Array.from(e.values());return{x:Pt(t,(function(e){return e.x}))/t.length,y:Pt(t,(function(e){return e.y}))/t.length}},jt=function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return Math.hypot(n.x-r.x,n.y-r.y)},Pt=function(e,t){return e.reduce((function(e,n){return e+t(n)}),0)},Lt=function(e){return{selectedElementIds:e.selectedElementIds,selectedGroupIds:e.selectedGroupIds,viewBackgroundColor:e.viewBackgroundColor,editingLinearElement:e.editingLinearElement,editingGroupId:e.editingGroupId,name:e.name}};const Dt=function(){function e(){var t=this;(0,u.Z)(this,e),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(e,n){return t.dehydrateHistoryEntry({appState:Lt(e),elements:n.reduce((function(t,n){if((0,j.bt)(n)&&e.multiElement&&e.multiElement.id===n.id){if(e.multiElement&&e.multiElement.id===n.id&&n.points.length<2)return t;t.push((0,v.Z)((0,v.Z)({},n),{},{points:n.lastCommittedPoint!==n.points[n.points.length-1]?n.points.slice(0,-1):n.points}))}else t.push(n);return t}),[])})}}return(0,d.Z)(e,[{key:"hydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.parse(n),elements:r.map((function(e){var n,r=null===(n=t.elementCache.get(e.id))||void 0===n?void 0:n.get(e.versionNonce);if(!r)throw new Error("Element not found: ".concat(e.id,":").concat(e.versionNonce));return r}))}}},{key:"dehydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.stringify(n),elements:r.map((function(e){t.elementCache.has(e.id)||t.elementCache.set(e.id,new Map);var n=t.elementCache.get(e.id);return n.has(e.versionNonce)||n.set(e.versionNonce,(0,Ue.OL)(e)),{id:e.id,versionNonce:e.versionNonce}}))}}},{key:"getSnapshotForTest",value:function(){var e=this;return{recording:this.recording,stateHistory:this.stateHistory.map((function(t){return e.hydrateHistoryEntry(t)})),redoStack:this.redoStack.map((function(t){return e.hydrateHistoryEntry(t)}))}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(e){var t,n=this.lastEntry;if(!n)return!0;if(e.elements.length!==n.elements.length)return!0;for(var r=e.elements.length-1;r>-1;r--){var a=e.elements[r],i=n.elements[r];if(!a||!i||a.id!==i.id||a.versionNonce!==i.versionNonce)return!0}for(t in e.appState){var o,l;if("editingLinearElement"===t)if((null===(o=e.appState[t])||void 0===o?void 0:o.elementId)===(null===(l=n.appState[t])||void 0===l?void 0:l.elementId))continue;if("selectedElementIds"!==t&&"selectedGroupIds"!==t&&e.appState[t]!==n.appState[t])return!0}return!1}},{key:"pushEntry",value:function(e,t){var n=this.generateEntry(e,t),r=this.hydrateHistoryEntry(n);if(r){if(!this.shouldCreateEntry(r))return;this.stateHistory.push(n),this.lastEntry=r,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(0===this.redoStack.length)return null;var e=this.redoStack.pop();return void 0!==e?(this.stateHistory.push(e),this.hydrateHistoryEntry(e)):null}},{key:"undoOnce",value:function(){if(1===this.stateHistory.length)return null;var e=this.stateHistory.pop(),t=this.stateHistory[this.stateHistory.length-1];return void 0!==e?(this.redoStack.push(e),this.hydrateHistoryEntry(t)):null}},{key:"setCurrentState",value:function(e,t){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(e,t))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(e,t){this.recording&&(this.pushEntry(e,t),this.recording=!1)}}]),e}();var Ot=n(7132),Rt=n(6961),At=[{icon:L.zu,value:"selection",key:k.tW.V,numericKey:k.tW[1],fillable:!0},{icon:L.OW,value:"rectangle",key:k.tW.R,numericKey:k.tW[2],fillable:!0},{icon:L.nb,value:"diamond",key:k.tW.D,numericKey:k.tW[3],fillable:!0},{icon:L.Re,value:"ellipse",key:k.tW.O,numericKey:k.tW[4],fillable:!0},{icon:L.e0,value:"arrow",key:k.tW.A,numericKey:k.tW[5],fillable:!0},{icon:L.zb,value:"line",key:k.tW.L,numericKey:k.tW[6],fillable:!0},{icon:L.Pm,value:"freedraw",key:[k.tW.P,k.tW.X],numericKey:k.tW[7],fillable:!1},{icon:L.VL,value:"text",key:k.tW.T,numericKey:k.tW[8],fillable:!1},{icon:L.XB,value:"image",key:null,numericKey:k.tW[9],fillable:!1},{icon:L.$q,value:"eraser",key:k.tW.E,numericKey:k.tW[0],fillable:!1}],Nt=n(3391),zt=n(7619);var Bt={toggleTheme:[(0,P.uY)("Shift+Alt+D")],saveScene:[(0,P.uY)("CtrlOrCmd+S")],loadScene:[(0,P.uY)("CtrlOrCmd+O")],clearCanvas:[(0,P.uY)("CtrlOrCmd+Delete")],imageExport:[(0,P.uY)("CtrlOrCmd+Shift+E")],cut:[(0,P.uY)("CtrlOrCmd+X")],copy:[(0,P.uY)("CtrlOrCmd+C")],paste:[(0,P.uY)("CtrlOrCmd+V")],copyStyles:[(0,P.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,P.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,P.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,P.uY)("Delete")],duplicateSelection:[(0,P.uY)("CtrlOrCmd+D"),(0,P.uY)("Alt+".concat((0,S.t)("helpDialog.drag")))],sendBackward:[(0,P.uY)("CtrlOrCmd+[")],bringForward:[(0,P.uY)("CtrlOrCmd+]")],sendToBack:[q.Um?(0,P.uY)("CtrlOrCmd+Alt+["):(0,P.uY)("CtrlOrCmd+Shift+[")],bringToFront:[q.Um?(0,P.uY)("CtrlOrCmd+Alt+]"):(0,P.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,P.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,P.uY)("CtrlOrCmd+G")],ungroup:[(0,P.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,P.uY)("CtrlOrCmd+'")],zenMode:[(0,P.uY)("Alt+Z")],objectsSnapMode:[(0,P.uY)("Alt+S")],stats:[(0,P.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,P.uY)("Shift+H")],flipVertical:[(0,P.uY)("Shift+V")],viewMode:[(0,P.uY)("Alt+R")],hyperlink:[(0,P.uY)("CtrlOrCmd+K")],toggleElementLock:[(0,P.uY)("CtrlOrCmd+Shift+L")]},Ft=function(e){var t=Bt[e];return t&&t.length>0?t[0]:""},Ht="separator",Wt=m.memo((function(e){var t=e.actionManager,n=e.items,r=e.top,a=e.left,i=e.onClose,o=Gl(),l=Yl(),s=n.reduce((function(e,n){return!n||n!==Ht&&n.predicate&&!n.predicate(l,o,t.app.props,t.app)||e.push(n),e}),[]);return(0,D.jsx)(zt.J,{onCloseRequest:function(){i()},top:r,left:a,fitInViewport:!0,offsetLeft:o.offsetLeft,offsetTop:o.offsetTop,viewportWidth:o.width,viewportHeight:o.height,children:(0,D.jsx)("ul",{className:"context-menu",onContextMenu:function(e){return e.preventDefault()},children:s.map((function(e,n){var r;if(e===Ht)return s[n-1]&&s[n-1]!==Ht?(0,D.jsx)("hr",{className:"context-menu-item-separator"},n):null;var a=e.name,c="";return e.contextItemLabel&&(c="function"===typeof e.contextItemLabel?(0,S.t)(e.contextItemLabel(l,o,t.app)):(0,S.t)(e.contextItemLabel)),(0,D.jsx)("li",{"data-testid":a,onClick:function(){i((function(){t.executeAction(e,"contextMenu")}))},children:(0,D.jsxs)("button",{className:(0,b.Z)("context-menu-item",{dangerous:"deleteSelectedElements"===a,checkmark:null===(r=e.checked)||void 0===r?void 0:r.call(e,o)}),children:[(0,D.jsx)("div",{className:"context-menu-item__label",children:c}),(0,D.jsx)("kbd",{className:"context-menu-item__shortcut",children:a?Ft(a):""})]})},n)}))})})})),Ut=n(4925);const Kt={Row:(0,m.forwardRef)((function(e,t){var n=e.children,r=e.gap,a=e.align,i=e.justifyContent,o=e.className,l=e.style;return(0,D.jsx)("div",{className:(0,b.Z)("Stack Stack_horizontal",o),style:(0,v.Z)({"--gap":r,alignItems:a,justifyContent:i},l),ref:t,children:n})})),Col:(0,m.forwardRef)((function(e,t){var n=e.children,r=e.gap,a=e.align,i=e.justifyContent,o=e.className,l=e.style;return(0,D.jsx)("div",{className:(0,b.Z)("Stack Stack_vertical",o),style:(0,v.Z)({"--gap":r,justifyItems:a,justifyContent:i},l),ref:t,children:n})}))};var Vt=n(1598),Yt=["className","children","onToggle","title"],Gt=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,a=e.onToggle,i=e.title,o=(0,Ut.Z)(e,Yt),l=Kl(),s=(0,b.Z)("dropdown-menu-button ".concat(n),"zen-mode-transition",{"dropdown-menu-button--mobile":l.isMobile}).trim();return(0,D.jsx)("button",(0,v.Z)((0,v.Z)({"data-prevent-outside-click":!0,className:s,onClick:a,type:"button","data-testid":"dropdown-menu-button",title:i},o),{},{children:r}))};const Xt=Gt;Gt.displayName="DropdownMenuTrigger";var qt=m.createContext({}),$t=function(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"dropdown-menu-item dropdown-menu-item-base ".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""," ").concat(e?"dropdown-menu-item--selected":"").trim()},Qt=function(e,t){var n=(0,m.useContext)(qt);return(0,P.Mj)(e,(function(e){var r,a=new CustomEvent(q.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});(null===t||void 0===t||t(a),a.defaultPrevented)||(null===(r=n.onSelect)||void 0===r||r.call(n,a))}))};const Jt=function(e){var t=e.icon,n=e.shortcut,r=e.children,a=Kl();return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"dropdown-menu-item__icon",children:t}),(0,D.jsx)("div",{className:"dropdown-menu-item__text",children:r}),n&&!a.isMobile&&(0,D.jsx)("div",{className:"dropdown-menu-item__shortcut",children:n})]})};var en=["icon","onSelect","children","shortcut","className","selected"],tn=function(e){var t,n=e.icon,r=e.onSelect,a=e.children,i=e.shortcut,o=e.className,l=e.selected,s=(0,Ut.Z)(e,en),c=Qt(s.onClick,r);return(0,D.jsx)("button",(0,v.Z)((0,v.Z)({},s),{},{onClick:c,type:"button",className:$t(o,l),title:null!==(t=s.title)&&void 0!==t?t:s["aria-label"],children:(0,D.jsx)(Jt,{icon:n,shortcut:i,children:a})}))};const nn=tn;tn.displayName="DropdownMenuItem";var rn=function(){return(0,D.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})};const an=rn;rn.displayName="DropdownMenuSeparator";var on=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,a=e.style,i=e.title;return(0,D.jsxs)("div",{className:"dropdown-menu-group ".concat(r),style:a,children:[i&&(0,D.jsx)("p",{className:"dropdown-menu-group-title",children:i}),t]})};const ln=on;on.displayName="DropdownMenuGroup";var sn=m.forwardRef((function(e,t){var n=e.children,r=e.padding,a=e.className,i=e.style;return(0,D.jsx)("div",{className:(0,b.Z)("Island",a),style:(0,v.Z)({"--padding":r},i),ref:t,children:n})})),cn=n(61),un=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=void 0===r?"":r,i=e.onSelect,o=e.style,l=Kl(),s=(0,m.useRef)(null);(0,cn.O)(s,(function(){null===n||void 0===n||n()}));var c=(0,b.Z)("dropdown-menu ".concat(a),{"dropdown-menu--mobile":l.isMobile}).trim();return(0,D.jsx)(qt.Provider,{value:{onSelect:i},children:(0,D.jsx)("div",{ref:s,className:c,style:o,"data-testid":"dropdown-menu",children:l.isMobile?(0,D.jsx)(Kt.Col,{className:"dropdown-menu-container",children:t}):(0,D.jsx)(sn,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:t})})})};un.displayName="DropdownMenuContent";const dn=un;var fn=["icon","shortcut","href","children","onSelect","className","selected"],hn=function(e){var t,n=e.icon,r=e.shortcut,a=e.href,i=e.children,o=e.onSelect,l=e.className,s=void 0===l?"":l,c=e.selected,u=(0,Ut.Z)(e,fn),d=Qt(u.onClick,o);return(0,D.jsx)("a",(0,v.Z)((0,v.Z)({},u),{},{href:a,target:"_blank",rel:"noreferrer",className:$t(s,c),title:null!==(t=u.title)&&void 0!==t?t:u["aria-label"],onClick:d,children:(0,D.jsx)(Jt,{icon:n,shortcut:r,children:i})}))};const pn=hn;hn.displayName="DropdownMenuItemLink";var vn=["children","className","selected"];const mn=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,a=e.selected,i=(0,Ut.Z)(e,vn);return(0,D.jsx)("div",(0,v.Z)((0,v.Z)({},i),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(r," ").concat(a?"dropdown-menu-item--selected":"").trim(),children:t}))};var gn=function(e){var t=e.children,n=e.open,r=function(e){var t=m.Children.toArray(e).find((function(e){return m.isValidElement(e)&&"string"!==typeof e.type&&(null===e||void 0===e?void 0:e.type.displayName)&&"DropdownMenuTrigger"===e.type.displayName}));return t||null}(t),a=function(e){var t=m.Children.toArray(e).find((function(e){return m.isValidElement(e)&&"string"!==typeof e.type&&(null===e||void 0===e?void 0:e.type.displayName)&&"DropdownMenuContent"===e.type.displayName}));return t||null}(t);return(0,D.jsxs)(D.Fragment,{children:[r,n&&a]})};gn.Trigger=Xt,gn.Content=dn,gn.Item=nn,gn.ItemLink=pn,gn.ItemCustom=mn,gn.Group=ln,gn.Separator=an;const yn=gn;gn.displayName="DropdownMenu";var bn=function(e){var t,n=e.appState,r=e.elements,i=e.renderAction,o=(0,w.Zs)((0,M.Lm)(r),n),l=!1;2===o.length&&((0,j.Xo)(o[0])||(0,j.Xo)(o[1]))&&(l=!0);var s,c=Boolean(n.editingElement),u=Kl(),d="rtl"===document.documentElement.getAttribute("dir"),f=(0,w.$b)(n.activeTool.type)&&!(0,P.Qm)(n.currentItemBackgroundColor)||o.some((function(e){return(0,w.$b)(e.type)&&!(0,P.Qm)(e.backgroundColor)})),h=(0,w.$b)(n.activeTool.type)||o.some((function(e){return(0,w.$b)(e.type)})),p=1===o.length||l,v=(null===(t=o[0])||void 0===t?void 0:t.type)||null,m=(0,a.Z)(o);try{for(m.s();!(s=m.n()).done;){if(s.value.type!==v){v=null;break}}}catch(g){m.e(g)}finally{m.f()}return(0,D.jsxs)("div",{className:"panelColumn",children:[(0,D.jsx)("div",{children:((0,Vt.PD)(n.activeTool.type)&&"image"!==n.activeTool.type&&"image"!==v&&"frame"!==v||o.some((function(e){return(0,Vt.PD)(e.type)})))&&i("changeStrokeColor")}),h&&(0,D.jsx)("div",{children:i("changeBackgroundColor")}),f&&i("changeFillStyle"),((0,w.Zd)(n.activeTool.type)||o.some((function(e){return(0,w.Zd)(e.type)})))&&i("changeStrokeWidth"),("freedraw"===n.activeTool.type||o.some((function(e){return"freedraw"===e.type})))&&i("changeStrokeShape"),((0,w.M9)(n.activeTool.type)||o.some((function(e){return(0,w.M9)(e.type)})))&&(0,D.jsxs)(D.Fragment,{children:[i("changeStrokeStyle"),i("changeSloppiness")]}),((0,w.sh)(n.activeTool.type)||o.some((function(e){return(0,w.sh)(e.type)})))&&(0,D.jsx)(D.Fragment,{children:i("changeRoundness")}),("text"===n.activeTool.type||o.some(j.iB))&&(0,D.jsxs)(D.Fragment,{children:[i("changeFontSize"),i("changeFontWeight"),i("changeFontFamily"),("text"===n.activeTool.type||(0,re.aV)(o))&&i("changeTextAlign")]}),(0,re.cn)(o)&&i("changeVerticalAlign"),((0,w.Un)(n.activeTool.type)||o.some((function(e){return(0,w.Un)(e.type)})))&&(0,D.jsx)(D.Fragment,{children:i("changeArrowhead")}),i("changeOpacity"),(0,D.jsxs)("fieldset",{children:[(0,D.jsx)("legend",{children:(0,S.t)("labels.layers")}),(0,D.jsxs)("div",{className:"buttonList",children:[i("sendToBack"),i("sendBackward"),i("bringToFront"),i("bringForward")]})]}),o.length>1&&!l&&(0,D.jsxs)("fieldset",{children:[(0,D.jsx)("legend",{children:(0,S.t)("labels.align")}),(0,D.jsxs)("div",{className:"buttonList",children:[d?(0,D.jsxs)(D.Fragment,{children:[i("alignRight"),i("alignHorizontallyCentered"),i("alignLeft")]}):(0,D.jsxs)(D.Fragment,{children:[i("alignLeft"),i("alignHorizontallyCentered"),i("alignRight")]}),o.length>2&&i("distributeHorizontally"),(0,D.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,D.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[i("alignTop"),i("alignVerticallyCentered"),i("alignBottom"),o.length>2&&i("distributeVertically")]})]})]}),!c&&o.length>0&&(0,D.jsxs)("fieldset",{children:[(0,D.jsx)("legend",{children:(0,S.t)("labels.actions")}),(0,D.jsxs)("div",{className:"buttonList",children:[!u.isMobile&&i("duplicateSelection"),!u.isMobile&&i("deleteSelectedElements"),i("group"),i("ungroup"),p&&i("hyperlink")]})]})]})},xn=function(e){var t=e.activeTool,n=e.appState,r=e.app,a=(0,m.useState)(!1),i=(0,o.Z)(a,2),l=i[0],s=i[1],c=Kl(),u="frame"===t.type,d="laser"===t.type,f="embeddable"===t.type;return(0,D.jsxs)(D.Fragment,{children:[At.map((function(e,a){var i=e.value,o=e.icon,l=e.key,s=e.numericKey,c=e.fillable,u=(0,S.t)("toolBar.".concat(i)),d=l&&(0,P.Oo)("string"===typeof l?l:l[0]),f=d?"".concat(d," ").concat((0,S.t)("helpDialog.or")," ").concat(s):"".concat(s);return(0,D.jsx)(E.V,{className:(0,b.Z)("Shape",{fillable:c}),type:"radio",icon:o,checked:t.type===i,name:"editor-current-shape",title:"".concat((0,P.Oo)(u)," \u2014 ").concat(f),keyBindingLabel:s||d,"aria-label":(0,P.Oo)(u),"aria-keyshortcuts":f,"data-testid":"toolbar-".concat(i),onPointerDown:function(e){var t=e.pointerType;n.penDetected||"pen"!==t||r.togglePenMode(!0)},onChange:function(e){var t=e.pointerType;n.activeTool.type!==i&&(0,St.L)("toolbar",i,"ui"),"image"===i?r.setActiveTool({type:i,insertOnCanvasDirectly:"mouse"!==t}):r.setActiveTool({type:i})}},i)})),(0,D.jsx)("div",{className:"App-toolbar__divider"}),c.isMobile?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(E.V,{className:(0,b.Z)("Shape",{fillable:!1}),type:"radio",icon:L.zl,checked:"frame"===t.type,name:"editor-current-shape",title:"".concat((0,P.Oo)((0,S.t)("toolBar.frame"))," \u2014 ").concat(k.tW.F.toLocaleUpperCase()),keyBindingLabel:k.tW.F.toLocaleUpperCase(),"aria-label":(0,P.Oo)((0,S.t)("toolBar.frame")),"aria-keyshortcuts":k.tW.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",onPointerDown:function(e){var t=e.pointerType;n.penDetected||"pen"!==t||r.togglePenMode(!0)},onChange:function(e){e.pointerType;(0,St.L)("toolbar","frame","ui"),r.setActiveTool({type:"frame"})},selected:"frame"===t.type}),(0,D.jsx)(E.V,{className:(0,b.Z)("Shape",{fillable:!1}),type:"radio",icon:L.FL,checked:"embeddable"===t.type,name:"editor-current-shape",title:(0,P.Oo)((0,S.t)("toolBar.embeddable")),"aria-label":(0,P.Oo)((0,S.t)("toolBar.embeddable")),"data-testid":"toolbar-embeddable",onPointerDown:function(e){var t=e.pointerType;n.penDetected||"pen"!==t||r.togglePenMode(!0)},onChange:function(e){e.pointerType;(0,St.L)("toolbar","embeddable","ui"),r.setActiveTool({type:"embeddable"})},selected:"embeddable"===t.type})]}):(0,D.jsxs)(yn,{open:l,children:[(0,D.jsx)(yn.Trigger,{className:(0,b.Z)("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":u||f||d&&!r.props.isCollaborating}),onToggle:function(){return s(!l)},title:(0,S.t)("toolBar.extraTools"),children:L.dg}),(0,D.jsxs)(yn.Content,{onClickOutside:function(){return s(!1)},onSelect:function(){return s(!1)},className:"App-toolbar__extra-tools-dropdown",children:[(0,D.jsx)(yn.Item,{onSelect:function(){r.setActiveTool({type:"frame"})},icon:L.zl,shortcut:k.tW.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:u,children:(0,S.t)("toolBar.frame")}),(0,D.jsx)(yn.Item,{onSelect:function(){r.setActiveTool({type:"embeddable"})},icon:L.FL,"data-testid":"toolbar-embeddable",selected:f,children:(0,S.t)("toolBar.embeddable")}),(0,D.jsx)(yn.Item,{onSelect:function(){r.setActiveTool({type:"laser"})},icon:L.d,"data-testid":"toolbar-laser",selected:d,shortcut:k.tW.K.toLocaleUpperCase(),children:(0,S.t)("toolBar.laser")})]})]})]})},wn=function(e){var t=e.renderAction;e.zoom;return(0,D.jsx)(Kt.Col,{gap:1,className:"zoom-actions",children:(0,D.jsxs)(Kt.Row,{align:"center",children:[t("zoomOut"),t("resetZoom"),t("zoomIn")]})})},kn=function(e){var t=e.renderAction,n=e.className;return(0,D.jsxs)("div",{className:"undo-redo-buttons ".concat(n),children:[(0,D.jsx)("div",{className:"undo-button-container",children:(0,D.jsx)(pe.u,{label:(0,S.t)("buttons.undo"),children:t("undo")})}),(0,D.jsx)("div",{className:"redo-button-container",children:(0,D.jsxs)(pe.u,{label:(0,S.t)("buttons.redo"),children:[" ",t("redo")]})})]})},En=function(e){var t=e.actionManager,n=e.showExitZenModeBtn;return(0,D.jsx)("button",{className:(0,b.Z)("disable-zen-mode",{"disable-zen-mode--visible":n}),onClick:function(){return t.executeAction(ut)},children:(0,S.t)("buttons.exitZenMode")})},Sn=function(e){var t=e.renderAction,n=e.className;return(0,D.jsx)("div",{className:"finalize-button ".concat(n),children:t("finalize",{size:"small"})})};var Cn=n(3709),Mn=function(e){var t=e.closeOnClickOutside,n=void 0===t||t,r=(0,Cn.F)({className:"excalidraw-modal-container"});if(!r)return null;return(0,g.createPortal)((0,D.jsxs)("div",{className:(0,b.Z)("Modal",e.className),role:"dialog","aria-modal":"true",onKeyDown:function(t){t.key===k.tW.ESCAPE&&(t.nativeEvent.stopImmediatePropagation(),t.stopPropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy,"data-prevent-outside-click":!0,children:[(0,D.jsx)("div",{className:"Modal__background",onClick:n?e.onCloseRequest:void 0}),(0,D.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")},tabIndex:0,children:e.children})]}),r)},_n=n(9886),Zn=n(1261);const In=function(e){var t=e.theme,n=e.id,r=e.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,D.jsx)("a",{className:"library-menu-browse-button",href:"".concat((void 0).VITE_APP_LIBRARY_URL,"?target=").concat(window.name||"_blank","&referrer=").concat(r,"&useHash=true&token=").concat(n,"&theme=").concat(t,"&version=").concat(q.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,S.t)("labels.libraries")})};var Tn=function(e){var t=e.libraryReturnUrl,n=e.theme,r=e.id,a=e.style,i=e.children,o=e.className;return(0,D.jsxs)("div",{className:(0,b.Z)("library-menu-control-buttons",o),style:a,children:[(0,D.jsx)(In,{id:r,libraryReturnUrl:t,theme:n}),i]})},jn=["i18nKey","children"],Pn=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,Ln=/{{([\w-]+)}}/,Dn=/<([\w-]+)>/,On=/<\/([\w-]+)>/;const Rn=function(e){var t=e.i18nKey,n=(e.children,(0,Ut.Z)(e,jn)),r=(0,S.QT)().t;return m.createElement.apply(m,[m.Fragment,{}].concat((0,i.Z)(function(e,t){var n=[{name:"",children:[]}];return e.split(Pn).filter(Boolean).forEach((function(r){var a=r.match(Dn),o=r.match(On),l=r.match(Ln);if(null!==a){var s=a[1];t.hasOwnProperty(s)?n.push({name:s,children:[]}):console.warn("Trans: missed to pass in prop ".concat(s," for interpolating ").concat(e))}else if(null!==o)if(o[1]===n[n.length-1].name){var c=n.pop(),u=m.createElement.apply(m,[m.Fragment,{}].concat((0,i.Z)(c.children))),d=t[c.name];"function"===typeof d&&n[n.length-1].children.push(d(u))}else console.warn("Trans: unexpected end tag ".concat(r," for interpolating ").concat(e));else if(null!==l){var f=l[1];t.hasOwnProperty(f)?n[n.length-1].children.push(t[f]):console.warn("Trans: key ".concat(f," not in props for interpolating ").concat(e))}else n[n.length-1].children.push(r)})),1!==n.length&&console.warn("Trans: stack not empty for interpolating ".concat(e)),n[0].children}(r(t),n))))};var An=n(1718);var Nn=["label","onClick","className","children","actionType","type","isLoading"];const zn=function(e){var t=e.label,n=e.onClick,r=e.className,a=e.children,i=e.actionType,o=e.type,l=void 0===o?"button":o,s=e.isLoading,c=(0,Ut.Z)(e,Nn),u=i?"Dialog__action-button--".concat(i):"";return(0,D.jsxs)("button",(0,v.Z)((0,v.Z)({className:(0,b.Z)("Dialog__action-button",u,r),type:l,"aria-label":t,onClick:n},c),{},{children:[a&&(0,D.jsx)("div",{style:s?{visibility:"hidden"}:{},children:a}),(0,D.jsx)("div",{style:s?{visibility:"hidden"}:{},children:t}),s&&(0,D.jsx)("div",{style:{position:"absolute",inset:0},children:(0,D.jsx)(Zn.Z,{})})]}))};var Bn=["onConfirm","onCancel","children","confirmText","cancelText","className"];const Fn=function(e){var t=e.onConfirm,n=e.onCancel,r=e.children,a=e.confirmText,i=void 0===a?(0,S.t)("buttons.confirm"):a,o=e.cancelText,l=void 0===o?(0,S.t)("buttons.cancel"):o,s=e.className,c=void 0===s?"":s,u=(0,Ut.Z)(e,Bn),d=Xl(),f=(0,_n.b9)(sr,An.yE),h=Vl().container;return(0,D.jsxs)(hr,(0,v.Z)((0,v.Z)({onCloseRequest:n,size:"small"},u),{},{className:"confirm-dialog ".concat(c),children:[r,(0,D.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,D.jsx)(zn,{label:l,onClick:function(){d({openMenu:null}),f(!1),n(),null===h||void 0===h||h.focus()}}),(0,D.jsx)(zn,{label:i,onClick:function(){d({openMenu:null}),f(!1),t(),null===h||void 0===h||h.focus()},actionType:"danger"})]})]}))};var Hn=n(9495),Wn=n(3037);var Un="publish-library-data",Kn=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n,r,i,l,c,u,d,f,h,p,v,m,g,y,b,x,w;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=6,r=128,i=Math.round(r/16),l=Math.max(Math.round(r/64),2),c=(0,P.yo)(t,n),(u=document.createElement("canvas")).width=c[0].length*r+(c[0].length+1)*(2*i)-2*i,u.height=c.length*r+(c.length+1)*(2*i)-2*i,(d=u.getContext("2d")).fillStyle=Hn.white,d.fillRect(0,0,u.width,u.height),f=(0,a.Z)(t.entries()),e.prev=12,f.s();case 14:if((h=f.n()).done){e.next=28;break}return p=(0,o.Z)(h.value,2),v=p[0],m=p[1],e.next=18,(0,Wn.NL)({elements:m.elements,files:null,maxWidthOrHeight:r});case 18:g=e.sent,y=g.width,b=g.height,x=Math.floor(v/n)*(r+2*i),w=v%n*(r+2*i),d.drawImage(g,w+(r-y)/2+i,x+(r-b)/2+i),d.lineWidth=l,d.strokeStyle=Hn.gray[4],d.strokeRect(w+i/2,x+i/2,r+i,r+i);case 26:e.next=14;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(12),f.e(e.t0);case 33:return e.prev=33,f.f(),e.finish(33);case 36:return e.t1=be.Tu,e.t2=File,e.next=40,(0,be._c)(u);case 40:return e.t3=e.sent,e.t4=[e.t3],e.t5={type:q.LO.png},e.t6=new e.t2(e.t4,"preview",e.t5),e.t7={outputType:q.LO.jpg,maxWidthOrHeight:5e3},e.next=47,(0,e.t1)(e.t6,e.t7);case 47:return e.abrupt("return",e.sent);case 48:case"end":return e.stop()}}),e,null,[[12,30,33,36]])})));return function(t){return e.apply(this,arguments)}}(),Vn=function(e){var t=e.libItem,n=e.appState,r=e.index,a=e.onChange,i=e.onRemove,o=(0,m.useRef)(null),l=(0,m.useRef)(null);return(0,m.useEffect)((function(){var e=o.current;e&&(0,c.Z)((0,s.Z)().mark((function r(){var a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,Wn.$D)({elements:t.elements,appState:(0,v.Z)((0,v.Z)({},n),{},{viewBackgroundColor:Hn.white,exportBackground:!0}),files:null});case 2:a=r.sent,e.innerHTML=a.outerHTML;case 4:case"end":return r.stop()}}),r)})))()}),[t.elements,n]),(0,D.jsxs)("div",{className:"single-library-item",children:["published"===t.status&&(0,D.jsx)("span",{className:"single-library-item-status",children:(0,S.t)("labels.statusPublished")}),(0,D.jsx)("div",{ref:o,className:"single-library-item__svg"}),(0,D.jsx)(E.V,{"aria-label":(0,S.t)("buttons.remove"),type:"button",icon:L.Tw,className:"single-library-item--remove",onClick:i.bind(null,t.id),title:(0,S.t)("buttons.remove")}),(0,D.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,D.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,D.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,D.jsx)("span",{style:{fontWeight:500,color:Hn.gray[6]},children:(0,S.t)("publishDialog.itemName")}),(0,D.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,D.jsx)("input",{type:"text",ref:l,style:{width:"80%",padding:"0.2rem"},defaultValue:t.name,placeholder:"Item name",onChange:function(e){a(e.target.value,r)}})]}),(0,D.jsx)("span",{className:"error",children:t.error})]})]})};const Yn=function(e){var t=e.onClose,n=e.libraryItems,r=e.appState,a=e.onSuccess,i=e.onError,u=e.updateItemsInStorage,d=e.onRemove,f=(0,m.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),h=(0,o.Z)(f,2),p=h[0],g=h[1],y=(0,m.useState)(!1),b=(0,o.Z)(y,2),x=b[0],w=b[1];(0,m.useEffect)((function(){var e=function(){try{var e=localStorage.getItem(Un);if(e)return JSON.parse(e)}catch(t){console.error(t)}return null}();e&&g(e)}),[]);var k=(0,m.useState)(n.slice()),E=(0,o.Z)(k,2),C=E[0],M=E[1];(0,m.useEffect)((function(){M(n.slice())}),[n]);var _=function(e){g((0,v.Z)((0,v.Z)({},p),{},(0,l.Z)({},e.target.name,e.target.value)))},Z=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n,r,o,l,c,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),w(!0),n=[],r=!1,C.forEach((function(e){var t="";e.name||(t=(0,S.t)("publishDialog.errors.required"),r=!0),n.push((0,v.Z)((0,v.Z)({},e),{},{error:t}))})),!r){e.next=9;break}return M(n),w(!1),e.abrupt("return");case 9:return e.next=11,Kn(C);case 11:o=e.sent,l={type:q.r8.excalidrawLibrary,version:q.Kr.excalidrawLibrary,source:q.pb,libraryItems:C},c=JSON.stringify(l,null,2),u=new Blob([c],{type:"application/json"}),(d=new FormData).append("excalidrawLib",u),d.append("previewImage",o),d.append("previewImageType",o.type),d.append("title",p.name),d.append("authorName",p.authorName),d.append("githubHandle",p.githubHandle),d.append("name",p.name),d.append("description",p.description),d.append("twitterHandle",p.twitterHandle),d.append("website",p.website),fetch("".concat((void 0).VITE_APP_LIBRARY_BACKEND,"/submit"),{method:"post",body:d}).then((function(e){return e.ok?e.json().then((function(e){var t=e.url;localStorage.removeItem(Un),a({url:t,authorName:p.authorName,items:C})})):e.json().catch((function(){throw new Error(e.statusText||"something went wrong")})).then((function(t){throw new Error(t.message||e.statusText||"something went wrong")}))}),(function(e){console.error(e),i(e),w(!1)})).catch((function(e){console.error(e),i(e),w(!1)}));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=(0,m.useCallback)((function(){u(C),function(e){try{localStorage.setItem(Un,JSON.stringify(e))}catch(t){console.error(t)}}(p),t()}),[C,t,u,p]),T=!!n.length,j=n.some((function(e){return"published"===e.status}));return(0,D.jsx)(hr,{onCloseRequest:I,title:(0,S.t)("publishDialog.title"),className:"publish-library",children:T?(0,D.jsxs)("form",{onSubmit:Z,children:[(0,D.jsx)("div",{className:"publish-library-note",children:(0,D.jsx)(Rn,{i18nKey:"publishDialog.noteDescription",link:function(e){return(0,D.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:e})}})}),(0,D.jsx)("span",{className:"publish-library-note",children:(0,D.jsx)(Rn,{i18nKey:"publishDialog.noteGuidelines",link:function(e){return(0,D.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:e})}})}),(0,D.jsx)("div",{className:"publish-library-note",children:(0,S.t)("publishDialog.noteItems")}),j&&(0,D.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,S.t)("publishDialog.republishWarning")}),function(){var e=[];return C.forEach((function(t,n){e.push((0,D.jsx)("div",{className:"single-library-item-wrapper",children:(0,D.jsx)(Vn,{libItem:t,appState:r,index:n,onChange:function(e,t){var n=C.slice();n[t].name=e,M(n)},onRemove:d})},n))})),(0,D.jsx)("div",{className:"selected-library-items",children:e})}(),(0,D.jsxs)("div",{className:"publish-library__fields",children:[(0,D.jsxs)("label",{children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{children:(0,S.t)("publishDialog.libraryName")}),(0,D.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,D.jsx)("input",{type:"text",name:"name",required:!0,value:p.name,onChange:_,placeholder:(0,S.t)("publishDialog.placeholder.libraryName")})]}),(0,D.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{children:(0,S.t)("publishDialog.libraryDesc")}),(0,D.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,D.jsx)("textarea",{name:"description",rows:4,required:!0,value:p.description,onChange:_,placeholder:(0,S.t)("publishDialog.placeholder.libraryDesc")})]}),(0,D.jsxs)("label",{children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{children:(0,S.t)("publishDialog.authorName")}),(0,D.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,D.jsx)("input",{type:"text",name:"authorName",required:!0,value:p.authorName,onChange:_,placeholder:(0,S.t)("publishDialog.placeholder.authorName")})]}),(0,D.jsxs)("label",{children:[(0,D.jsx)("span",{children:(0,S.t)("publishDialog.githubUsername")}),(0,D.jsx)("input",{type:"text",name:"githubHandle",value:p.githubHandle,onChange:_,placeholder:(0,S.t)("publishDialog.placeholder.githubHandle")})]}),(0,D.jsxs)("label",{children:[(0,D.jsx)("span",{children:(0,S.t)("publishDialog.twitterUsername")}),(0,D.jsx)("input",{type:"text",name:"twitterHandle",value:p.twitterHandle,onChange:_,placeholder:(0,S.t)("publishDialog.placeholder.twitterHandle")})]}),(0,D.jsxs)("label",{children:[(0,D.jsx)("span",{children:(0,S.t)("publishDialog.website")}),(0,D.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,S.t)("publishDialog.errors.website"),value:p.website,onChange:_,placeholder:(0,S.t)("publishDialog.placeholder.website")})]}),(0,D.jsx)("span",{className:"publish-library-note",children:(0,D.jsx)(Rn,{i18nKey:"publishDialog.noteLicense",link:function(e){return(0,D.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:e})}})})]}),(0,D.jsxs)("div",{className:"publish-library__buttons",children:[(0,D.jsx)(zn,{label:(0,S.t)("buttons.cancel"),onClick:I,"data-testid":"cancel-clear-canvas-button"}),(0,D.jsx)(zn,{type:"submit",label:(0,S.t)("buttons.submit"),actionType:"primary",isLoading:x})]})]}):(0,D.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,S.t)("publishDialog.atleastOneLibItem")})})};var Gn=n(70),Xn=n(8150),qn=function(e,t){return e.filter((function(e){return t.includes(e.id)}))},$n=function(e){var t=e.setAppState,n=e.selectedItems,r=e.library,a=e.onRemoveFromLibrary,i=e.resetLibrary,l=e.onSelectItems,u=e.appState,d=e.className,f=(0,_n.KO)(Zt.rF,An.yE),h=(0,o.Z)(f,1)[0],p=(0,_n.KO)(sr,An.yE),v=(0,o.Z)(p,2),g=v[0],y=v[1],x=(0,m.useState)(!1),w=(0,o.Z)(x,2),k=w[0],C=w[1],M=!!n.length,_=M?h.libraryItems.filter((function(e){return n.includes(e.id)})):h.libraryItems,Z=M?(0,S.t)("buttons.remove"):(0,S.t)("buttons.resetLibrary"),I=(0,m.useState)(!1),T=(0,o.Z)(I,2),j=T[0],O=T[1],R=(0,m.useState)(null),A=(0,o.Z)(R,2),N=A[0],z=A[1],B=(0,m.useCallback)((function(){return(0,D.jsxs)(hr,{onCloseRequest:function(){return z(null)},title:(0,S.t)("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,D.jsx)("p",{children:(0,D.jsx)(Rn,{i18nKey:"publishSuccessDialog.content",authorName:N.authorName,link:function(e){return(0,D.jsx)("a",{href:null===N||void 0===N?void 0:N.url,target:"_blank",rel:"noopener noreferrer",children:e})}})}),(0,D.jsx)(E.V,{type:"button",title:(0,S.t)("buttons.close"),"aria-label":(0,S.t)("buttons.close"),label:(0,S.t)("buttons.close"),onClick:function(){return z(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})}),[z,N]),F=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.updateLibrary({libraryItems:(0,xe.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=10;break}return console.warn(e.t0),e.abrupt("return");case 10:t({errorMessage:(0,S.t)("errors.importLibraryError")});case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=4;break}e.t0=_,e.next=7;break;case 4:return e.next=6,r.getLatestLibrary();case 6:e.t0=e.sent;case 7:n=e.t0,(0,we.t1)(n).catch(P.FG).catch((function(e){t({errorMessage:e.message})}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,D.jsxs)("div",{className:(0,b.Z)("library-menu-dropdown-container",d),children:[(0,D.jsxs)(yn,{open:g,children:[(0,D.jsx)(yn.Trigger,{onToggle:function(){return y(!g)},children:L.YA}),(0,D.jsxs)(yn.Content,{onClickOutside:function(){return y(!1)},onSelect:function(){return y(!1)},className:"library-menu",children:[!M&&(0,D.jsx)(yn.Item,{onSelect:F,icon:L.Tl,"data-testid":"lib-dropdown--load",children:(0,S.t)("buttons.load")}),!!_.length&&(0,D.jsx)(yn.Item,{onSelect:H,icon:L.Hy,"data-testid":"lib-dropdown--export",children:(0,S.t)("buttons.export")}),!!_.length&&(0,D.jsx)(yn.Item,{onSelect:function(){return C(!0)},icon:L.XH,children:Z}),M&&(0,D.jsx)(yn.Item,{icon:L.Nw,onSelect:function(){return O(!0)},"data-testid":"lib-dropdown--remove",children:(0,S.t)("buttons.publishLibrary")})]})]}),n.length>0&&(0,D.jsx)("div",{className:"library-actions-counter",children:n.length}),k&&function(){var e=n.length?(0,S.t)("alerts.removeItemsFromsLibrary",{count:n.length}):(0,S.t)("alerts.resetLibrary"),t=n.length?(0,S.t)("confirmDialog.removeItemsFromLib"):(0,S.t)("confirmDialog.resetLibrary");return(0,D.jsx)(Fn,{onConfirm:function(){n.length?a():i(),C(!1)},onCancel:function(){C(!1)},title:t,children:(0,D.jsx)("p",{children:e})})}(),j&&(0,D.jsx)(Yn,{onClose:function(){return O(!1)},libraryItems:qn(h.libraryItems,n),appState:u,onSuccess:function(e){return function(e,t){O(!1),z({url:e.url,authorName:e.authorName});var a=t.slice();a.forEach((function(e){n.includes(e.id)&&(e.status="published")})),r.setLibrary(a)}(e,h.libraryItems)},onError:function(e){return window.alert(e)},updateItemsInStorage:function(){return r.setLibrary(h.libraryItems)},onRemove:function(e){return l(n.filter((function(t){return t!==e})))}}),N&&B()]})},Qn=function(e){var t=e.selectedItems,n=e.onSelectItems,r=e.className,a=Wl().library,i=(0,Xn.yT)(),l=i.clearLibraryCache,u=i.deleteItemsFromLibraryCache,d=(0,Gn.I)(),f=Xl(),h=(0,_n.KO)(Zt.rF,An.yE),p=(0,o.Z)(h,1)[0],v=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.filter((function(e){return!t.includes(e.id)})),a.setLibrary(i).catch((function(){f({errorMessage:(0,S.t)("alerts.errorRemovingFromLibrary")})})),u(t),n([]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,D.jsx)($n,{appState:d,setAppState:f,selectedItems:t,onSelectItems:n,library:a,onRemoveFromLibrary:function(){return v(p.libraryItems)},resetLibrary:function(){a.resetLibrary(),l()},className:r})};var Jn=(0,m.memo)((function(e){var t=e.id,n=e.elements,r=e.isPending,a=e.onClick,i=e.selected,l=e.onToggle,s=e.onDrag,c=e.svgCache,u=(0,m.useRef)(null),d=(0,Xn.mF)(t,n,c);(0,m.useEffect)((function(){var e=u.current;if(e)return d&&(e.innerHTML=d.outerHTML),function(){e.innerHTML=""}}),[d]);var f=(0,m.useState)(!1),h=(0,o.Z)(f,2),p=h[0],v=h[1],g=Kl().isMobile,y=r&&(0,D.jsx)("div",{className:"library-unit__adder",children:L.pO});return(0,D.jsxs)("div",{className:(0,b.Z)("library-unit",{"library-unit__active":n,"library-unit--hover":n&&p,"library-unit--selected":i,"library-unit--skeleton":!d}),onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:[(0,D.jsx)("div",{className:(0,b.Z)("library-unit__dragger",{"library-unit__pulse":!!r}),ref:u,draggable:!!n,onClick:n||r?function(e){t&&e.shiftKey?l(t,e):a(t)}:void 0,onDragStart:function(e){t?(v(!1),s(t,e)):e.preventDefault()}}),y,t&&n&&(p||g||i)&&(0,D.jsx)(Se,{checked:i,onChange:function(e,n){return l(t,n)},className:"library-unit__checkbox"})]})})),er=function(){return(0,D.jsx)("div",{className:"library-unit library-unit--skeleton"})};var tr=m.useTransition||function(){return[!1,(0,m.useCallback)((function(e){return e()}),[])]},nr=function(e){var t=e.children;return(0,D.jsx)("div",{className:"library-menu-items-container__grid",children:t})},rr=(0,m.memo)((function(e){var t=e.items,n=e.onItemSelectToggle,r=e.onItemDrag,a=e.isItemSelected,i=e.onClick,l=e.svgCache,s=e.itemsRenderedPerBatch,c=tr(),u=(0,o.Z)(c,2)[1],d=(0,m.useState)(0),f=(0,o.Z)(d,2),h=f[0],p=f[1];return(0,m.useEffect)((function(){h<t.length&&u((function(){p(h+s)}))}),[h,t.length,u,s]),(0,D.jsx)(D.Fragment,{children:t.map((function(e,t){var o;return t<h?(0,D.jsx)(Jn,{elements:null===e||void 0===e?void 0:e.elements,isPending:!(null!==e&&void 0!==e&&e.id)&&!(null===e||void 0===e||!e.elements),onClick:i,svgCache:l,id:null===e||void 0===e?void 0:e.id,selected:a(e.id),onToggle:n,onDrag:r},null!==(o=null===e||void 0===e?void 0:e.id)&&void 0!==o?o:t):(0,D.jsx)(er,{},t)}))})})),ar=n(3881),ir=n.n(ar),or=(0,_n.cn)(0);function lr(e){var t=e.isLoading,n=e.libraryItems,r=e.onAddToLibrary,a=e.onInsertLibraryItems,l=e.pendingElements,s=e.theme,c=e.id,u=e.libraryReturnUrl,d=e.onSelectItems,f=e.selectedItems,h=(0,m.useRef)(null),p=function(e){var t=(0,_n.KO)(or),n=(0,o.Z)(t,2),r=n[0],a=n[1];return(0,m.useEffect)((function(){var t=e.current;if(t){var n=ir()((function(){var e=t.scrollTop;a(e)}),200);return t.addEventListener("scroll",n),function(){n.cancel(),t.removeEventListener("scroll",n)}}}),[e,a]),r}(h);(0,m.useEffect)((function(){var e;p>0&&(null===(e=h.current)||void 0===e||e.scrollTo(0,p))}),[]);var g=(0,Xn.yT)().svgCache,y=(0,m.useMemo)((function(){return n.filter((function(e){return"published"!==e.status}))}),[n]),b=(0,m.useMemo)((function(){return n.filter((function(e){return"published"===e.status}))}),[n]),x=!n.length&&!l.length,w=!l.length&&!y.length&&!b.length,k=(0,m.useState)(null),E=(0,o.Z)(k,2),C=E[0],M=E[1],_=(0,m.useCallback)((function(e,t){var n=!f.includes(e),r=[].concat((0,i.Z)(y),(0,i.Z)(b));if(n){if(t.shiftKey&&C){var a=r.findIndex((function(e){return e.id===C})),o=r.findIndex((function(t){return t.id===e}));if(-1===a||-1===o)return void d([].concat((0,i.Z)(f),[e]));var l=(0,P.xn)(f),s=r.reduce((function(e,t,n){return(n>=a&&n<=o||l.has(t.id))&&e.push(t.id),e}),[]);d(s)}else d([].concat((0,i.Z)(f),[e]));M(e)}else M(null),d(f.filter((function(t){return t!==e})))}),[C,d,b,f,y]),Z=(0,m.useCallback)((function(e){return(f.includes(e)?n.filter((function(e){return f.includes(e.id)})):n.filter((function(t){return t.id===e}))).map((function(e){return(0,v.Z)((0,v.Z)({},e),{},{elements:(0,Ue._N)(e.elements,{randomizeSeed:!0})})}))}),[n,f]),I=(0,m.useCallback)((function(e,t){t.dataTransfer.setData(q.LO.excalidrawlib,(0,we.NI)(Z(e)))}),[Z]),T=(0,m.useCallback)((function(e){return!!e&&f.includes(e)}),[f]),j=(0,m.useCallback)((function(){r(l)}),[l,r]),L=(0,m.useCallback)((function(e){e&&a(Z(e))}),[Z,a]),O=g.size>=n.length?64:17;return(0,D.jsxs)("div",{className:"library-menu-items-container",style:l.length||y.length||b.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!w&&(0,D.jsx)(Qn,{selectedItems:f,onSelectItems:d,className:"library-menu-dropdown-container--in-heading"}),(0,D.jsxs)(Kt.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:b.length>0?1:"0 1 auto",marginBottom:0},ref:h,children:[(0,D.jsxs)(D.Fragment,{children:[!w&&(0,D.jsx)("div",{className:"library-menu-items-container__header",children:(0,S.t)("labels.personalLib")}),t&&(0,D.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,D.jsx)(Zn.Z,{})}),l.length||y.length?(0,D.jsxs)(nr,{children:[l.length>0&&(0,D.jsx)(rr,{itemsRenderedPerBatch:O,items:[{id:null,elements:l}],onItemSelectToggle:_,onItemDrag:I,onClick:j,isItemSelected:T,svgCache:g}),(0,D.jsx)(rr,{itemsRenderedPerBatch:O,items:y,onItemSelectToggle:_,onItemDrag:I,onClick:L,isItemSelected:T,svgCache:g})]}):(0,D.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,D.jsx)("div",{className:"library-menu-items__no-items__label",children:(0,S.t)("library.noItems")}),(0,D.jsx)("div",{className:"library-menu-items__no-items__hint",children:b.length>0?(0,S.t)("library.hint_emptyPrivateLibrary"):(0,S.t)("library.hint_emptyLibrary")})]})]}),(0,D.jsxs)(D.Fragment,{children:[(b.length>0||l.length>0||y.length>0)&&(0,D.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,S.t)("labels.excalidrawLib")}),b.length>0?(0,D.jsx)(nr,{children:(0,D.jsx)(rr,{itemsRenderedPerBatch:O,items:b,onItemSelectToggle:_,onItemDrag:I,onClick:L,isItemSelected:T,svgCache:g})}):y.length>0?(0,D.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,S.t)("library.noItems")}):null]}),x&&(0,D.jsx)(Tn,{style:{padding:"16px 0",width:"100%"},id:c,libraryReturnUrl:u,theme:s,children:(0,D.jsx)(Qn,{selectedItems:f,onSelectItems:d})})]})]})}var sr=(0,_n.cn)(!1),cr=function(e){var t=e.children;return(0,D.jsx)("div",{className:"layer-ui__library",children:t})},ur=function(e){var t=e.onInsertLibraryItems,n=e.pendingElements,r=e.onAddToLibrary,l=e.setAppState,u=e.libraryReturnUrl,d=e.library,f=e.id,h=e.theme,p=e.selectedItems,v=e.onSelectItems,g=(0,_n.KO)(Zt.rF,An.yE),y=(0,o.Z)(g,1)[0],b=(0,m.useCallback)((function(e){var t=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n){var o,c,u,f,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,St.L)("element","addToLibrary","ui"),o=(0,a.Z)(q.PR),e.prev=2,u=(0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.value,!t.some((function(e){return e.type===n}))){e.next=3;break}return e.abrupt("return",{v:l({errorMessage:(0,S.t)("errors.libraryElementTypeError.".concat(n))})});case 3:case"end":return e.stop()}}),e)})),o.s();case 5:if((c=o.n()).done){e.next=12;break}return e.delegateYield(u(),"t0",7);case 7:if("object"!==typeof(f=e.t0)){e.next=10;break}return e.abrupt("return",f.v);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(2),o.e(e.t1);case 17:return e.prev=17,o.f(),e.finish(17);case 20:h=[{status:"unpublished",elements:t,id:(0,Ae.kb)(),created:Date.now()}].concat((0,i.Z)(n)),r(),d.setLibrary(h).catch((function(){l({errorMessage:(0,S.t)("alerts.errorAddingToLibrary")})}));case 23:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();t(e,y.libraryItems)}),[r,d,l,y.libraryItems]),x=(0,m.useMemo)((function(){return y.libraryItems}),[y]);if("loading"===y.status&&!y.isInitialized)return(0,D.jsx)(cr,{children:(0,D.jsx)("div",{className:"layer-ui__library-message",children:(0,D.jsxs)("div",{children:[(0,D.jsx)(Zn.Z,{size:"2em"}),(0,D.jsx)("span",{children:(0,S.t)("labels.libraryLoadingMessage")})]})})});var w=y.libraryItems.length>0||n.length>0;return(0,D.jsxs)(cr,{children:[(0,D.jsx)(lr,{isLoading:"loading"===y.status,libraryItems:x,onAddToLibrary:b,onInsertLibraryItems:t,pendingElements:n,id:f,libraryReturnUrl:u,theme:h,onSelectItems:v,selectedItems:p}),w&&(0,D.jsx)(Tn,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:f,libraryReturnUrl:u,theme:h})]})},dr=function(){var e=Wl(),t=e.library,n=e.id,r=e.onInsertElements,a=Ul(),i=(0,Gn.I)(),l=Xl(),s=Yl(),c=(0,m.useState)([]),u=(0,o.Z)(c,2),d=u[0],f=u[1],h=(0,m.useMemo)((function(){return t}),[t]),p=function(e,t){var n=function(){return(0,w.eD)(t,e,{includeBoundTextElement:!0,includeElementsInFrames:!0})},r=(0,m.useRef)(n()),a=(0,m.useRef)(e),i=(0,m.useRef)(t);return(0,P.w8)(e.selectedElementIds,a.current.selectedElementIds)&&(0,P.w8)(t,i.current)||(r.current=n(),a.current=e,i.current=t),r.current}(i,s),v=(0,m.useCallback)((function(e){r((0,Zt.WV)(e))}),[r]),g=(0,m.useCallback)((function(){l({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})}),[l]);return(0,D.jsx)(ur,{pendingElements:p,onInsertLibraryItems:v,onAddToLibrary:g,setAppState:l,libraryReturnUrl:a.libraryReturnUrl,library:h,id:n,theme:i.theme,selectedItems:d,onSelectItems:f})};function fr(e){if(e&&"number"===typeof e)return e;switch(e){case"small":return 550;case"wide":return 1024;default:return 800}}var hr=function(e){var t=function(){var e=(0,m.useState)(null),t=(0,o.Z)(e,2),n=t[0],r=t[1];return[n,(0,m.useCallback)((function(e){return r(e)}),[])]}(),n=(0,o.Z)(t,2),r=n[0],a=n[1],i=(0,m.useState)(document.activeElement),l=(0,o.Z)(i,1)[0],s=Vl().id,c=Kl();(0,m.useEffect)((function(){if(r){var t=(0,P.xp)(r);t.length>0&&!1!==e.autofocus&&(t[1]||t[0]).focus();var n=function(e){if(e.key===k.tW.TAB){var t=(0,P.xp)(r),n=document.activeElement,a=t.findIndex((function(e){return e===n}));0===a&&e.shiftKey?(t[t.length-1].focus(),e.preventDefault()):a!==t.length-1||e.shiftKey||(t[0].focus(),e.preventDefault())}};return r.addEventListener("keydown",n),function(){return r.removeEventListener("keydown",n)}}}),[r,e.autofocus]);var u=Xl(),d=(0,_n.b9)(sr,An.yE),f=function(){u({openMenu:null}),d(!1),l.focus(),e.onCloseRequest()};return(0,D.jsx)(Mn,{className:(0,b.Z)("Dialog",e.className),labelledBy:"dialog-title",maxWidth:fr(e.size),onCloseRequest:f,closeOnClickOutside:e.closeOnClickOutside,children:(0,D.jsxs)(sn,{ref:a,children:[e.title&&(0,D.jsx)("h2",{id:"".concat(s,"-dialog-title"),className:"Dialog__title",children:(0,D.jsx)("span",{className:"Dialog__titleContent",children:e.title})}),(0,D.jsx)("button",{className:"Dialog__close",onClick:f,title:(0,S.t)("buttons.close"),"aria-label":(0,S.t)("buttons.close"),children:c.isMobile?L.op:L.Tw}),(0,D.jsx)("div",{className:"Dialog__content",children:e.children})]})})},pr=function(e){var t=e.children,n=e.onClose,r=(0,m.useState)(!!t),a=(0,o.Z)(r,2),i=a[0],l=a[1],s=Vl().container,c=m.useCallback((function(){l(!1),n&&n(),null===s||void 0===s||s.focus()}),[n,s]);return(0,D.jsx)(D.Fragment,{children:i&&(0,D.jsx)(hr,{size:"small",onCloseRequest:c,title:(0,S.t)("errorDialog.title"),children:(0,D.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:t})})})};var vr=function(e){var t=e.onChange,n=e.value,r=e.choices,a=e.name;return(0,D.jsx)("div",{className:"RadioGroup",children:r.map((function(e){return(0,D.jsxs)("div",{className:(0,b.Z)("RadioGroup__choice",{active:e.value===n}),children:[(0,D.jsx)("input",{name:a,type:"radio",checked:e.value===n,onChange:function(){return t(e.value)}}),e.label]},e.label)}))})};var mr=function(e){var t=e.title,n=e.name,r=e.checked,a=e.onChange,i=e.disabled,o=void 0!==i&&i;return(0,D.jsx)("div",{className:(0,b.Z)("Switch",{toggled:r,disabled:o}),children:(0,D.jsx)("input",{name:n,id:n,title:t,type:"checkbox",checked:r,disabled:o,onChange:function(){return a(!r)},onKeyDown:function(e){" "===e.key&&a(!r)}})})};var gr=(0,m.forwardRef)((function(e,t){var n=e.children,r=e.startIcon,a=e.onClick,i=e.label,o=e.variant,l=void 0===o?"filled":o,s=e.color,c=void 0===s?"primary":s,u=e.size,d=void 0===u?"medium":u,f=e.fullWidth,h=e.className;return(0,D.jsxs)("button",{className:(0,b.Z)("ExcButton","ExcButton--color-".concat(c),"ExcButton--variant-".concat(l),"ExcButton--size-".concat(d),{"ExcButton--fullWidth":f},h),onClick:a,type:"button","aria-label":i,ref:t,children:[r&&(0,D.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:r}),"icon"!==l&&(null!==n&&void 0!==n?n:i)]})})),yr="filter"in document.createElement("canvas").getContext("2d"),br=function(){return(0,D.jsxs)("div",{children:[(0,D.jsx)("h3",{children:(0,S.t)("canvasError.cannotShowPreview")}),(0,D.jsx)("p",{children:(0,D.jsx)("span",{children:(0,S.t)("canvasError.canvasTooBig")})}),(0,D.jsxs)("em",{children:["(",(0,S.t)("canvasError.canvasTooBigTip"),")"]})]})},xr=function(e){var t=e.appState,n=e.elements,r=e.files,a=e.actionManager,i=e.onExportImage,l=Ul(),s=(0,m.useState)(t.name),c=(0,o.Z)(s,2),u=c[0],d=c[1],f=(0,w.N)(n,t),h=(0,m.useState)(f),p=(0,o.Z)(h,2),v=p[0],g=p[1],y=(0,m.useState)(t.exportBackground),b=(0,o.Z)(y,2),x=b[0],k=b[1],E=(0,m.useState)(t.exportWithDarkMode),C=(0,o.Z)(E,2),M=C[0],_=C[1],Z=(0,m.useState)(t.exportEmbedScene),I=(0,o.Z)(Z,2),T=I[0],j=I[1],P=(0,m.useState)(t.exportScale),O=(0,o.Z)(P,2),R=O[0],A=O[1],N=(0,m.useRef)(null),z=(0,m.useState)(null),B=(0,o.Z)(z,2),F=B[0],H=B[1],W=v?(0,w.eD)(n,t,{includeBoundTextElement:!0,includeElementsInFrames:!0}):n;return(0,m.useEffect)((function(){var e=N.current;if(e){var n=e.offsetWidth,a=e.offsetHeight;n&&(0,Wn.NL)({elements:W,appState:t,files:r,exportPadding:q.qy,maxWidthOrHeight:Math.max(n,a)}).then((function(t){return H(null),(0,be._c)(t).then((function(){e.replaceChildren(t)}))})).catch((function(e){console.error(e),H(e)}))}}),[t,r,W]),(0,D.jsxs)("div",{className:"ImageExportModal",children:[(0,D.jsx)("h3",{children:(0,S.t)("imageExportDialog.header")}),(0,D.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,D.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:N,children:F&&(0,D.jsx)(br,{})}),(0,D.jsx)("div",{className:"ImageExportModal__preview__filename",children:!xe.kr&&(0,D.jsx)("input",{type:"text",className:"TextInput",value:u,style:{width:"30ch"},disabled:"undefined"!==typeof l.name||t.viewModeEnabled,onChange:function(e){d(e.target.value),a.executeAction(Ce,"ui",e.target.value)}})})]}),(0,D.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,D.jsx)("h3",{children:(0,S.t)("imageExportDialog.header")}),f&&(0,D.jsx)(wr,{label:(0,S.t)("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,D.jsx)(mr,{name:"exportOnlySelected",checked:v,onChange:function(e){g(e)}})}),(0,D.jsx)(wr,{label:(0,S.t)("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,D.jsx)(mr,{name:"exportBackgroundSwitch",checked:x,onChange:function(e){k(e),a.executeAction(_e,"ui",e)}})}),yr&&(0,D.jsx)(wr,{label:(0,S.t)("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,D.jsx)(mr,{name:"exportDarkModeSwitch",checked:M,onChange:function(e){_(e),a.executeAction(Pe,"ui",e)}})}),(0,D.jsx)(wr,{label:(0,S.t)("imageExportDialog.label.embedScene"),tooltip:(0,S.t)("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,D.jsx)(mr,{name:"exportEmbedSwitch",checked:T,onChange:function(e){j(e),a.executeAction(Ze,"ui",e)}})}),(0,D.jsx)(wr,{label:(0,S.t)("imageExportDialog.label.scale"),name:"exportScale",children:(0,D.jsx)(vr,{name:"exportScale",value:R,onChange:function(e){A(e),a.executeAction(Me,"ui",e)},choices:q.ZB.map((function(e){return{value:e,label:"".concat(e,"\xd7")}}))})}),(0,D.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,D.jsx)(gr,{className:"ImageExportModal__settings__buttons__button",label:(0,S.t)("imageExportDialog.title.exportToPng"),onClick:function(){return i(q.I_.png,W)},startIcon:L.aL,children:(0,S.t)("imageExportDialog.button.exportToPng")}),(0,D.jsx)(gr,{className:"ImageExportModal__settings__buttons__button",label:(0,S.t)("imageExportDialog.title.exportToSvg"),onClick:function(){return i(q.I_.svg,W)},startIcon:L.aL,children:(0,S.t)("imageExportDialog.button.exportToSvg")}),(ge.vt||q.vU)&&(0,D.jsx)(gr,{className:"ImageExportModal__settings__buttons__button",label:(0,S.t)("imageExportDialog.title.copyPngToClipboard"),onClick:function(){return i(q.I_.clipboard,W)},startIcon:L.UI,children:(0,S.t)("imageExportDialog.button.copyPngToClipboard")})]})]})]})},wr=function(e){var t=e.label,n=e.children,r=e.tooltip,a=e.name;return(0,D.jsxs)("div",{className:"ImageExportModal__settings__setting",title:t,children:[(0,D.jsxs)("label",{htmlFor:a,className:"ImageExportModal__settings__setting__label",children:[t,r&&(0,D.jsx)(pe.u,{label:r,long:!0,children:L.mv})]}),(0,D.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:n})]})},kr=function(e){var t=e.elements,n=e.appState,r=e.files,a=e.actionManager,i=e.onExportImage,o=e.onCloseRequest;return"imageExport"!==n.openDialog?null:(0,D.jsx)(hr,{onCloseRequest:o,size:"wide",title:!1,children:(0,D.jsx)(xr,{elements:t,appState:n,files:r,actionManager:a,onExportImage:i})})};var Er=function(e){var t=e.children,n=e.side,r=e.className;return(0,D.jsx)("div",{className:(0,b.Z)("FixedSideContainer","FixedSideContainer_side_".concat(n),r),children:t})};var Sr=function(e){var t=function(e){var t=e.appState,n=e.isMobile,r=e.device,a=e.app,i=t.activeTool,o=t.isResizing,l=t.isRotating,s=t.lastPointerDownWith,c=null!==t.multiElement;if(t.openSidebar&&!r.canDeviceFitSidebar)return null;if((0,_t.EN)(t))return(0,S.t)("hints.eraserRevert");if("arrow"===i.type||"line"===i.type)return c?(0,S.t)("hints.linearElementMulti"):(0,S.t)("hints.linearElement");if("freedraw"===i.type)return(0,S.t)("hints.freeDraw");if("text"===i.type)return(0,S.t)("hints.text");if("embeddable"===i.type)return(0,S.t)("hints.embeddable");if("image"===t.activeTool.type&&t.pendingImageElementId)return(0,S.t)("hints.placeImage");var u=a.scene.getSelectedElements(t);if(o&&"mouse"===s&&1===u.length){var d=u[0];return(0,j.bt)(d)&&2===d.points.length?(0,S.t)("hints.lockAngle"):(0,j.pC)(d)?(0,S.t)("hints.resizeImage"):(0,S.t)("hints.resize")}if(l&&"mouse"===s)return(0,S.t)("hints.rotate");if(1===u.length&&(0,j.iB)(u[0]))return(0,S.t)("hints.text_selected");if(t.editingElement&&(0,j.iB)(t.editingElement))return(0,S.t)("hints.text_editing");if("selection"===i.type){var f;if("selection"===(null===(f=t.draggingElement)||void 0===f?void 0:f.type)&&!u.length&&!t.editingElement&&!t.editingLinearElement)return(0,S.t)("hints.deepBoxSelect");if(t.gridSize&&t.draggingElement)return(0,S.t)("hints.disableSnapping");if(!u.length&&!n)return(0,S.t)("hints.canvasPanning");if(1===u.length){if((0,j.bt)(u[0]))return t.editingLinearElement?t.editingLinearElement.selectedPointsIndices?(0,S.t)("hints.lineEditor_pointSelected"):(0,S.t)("hints.lineEditor_nothingSelected"):(0,S.t)("hints.lineEditor_info");if(!t.draggingElement&&(0,j.mG)(u[0]))return(0,S.t)("hints.bindTextToElement")}}return null}({appState:e.appState,isMobile:e.isMobile,device:e.device,app:e.app});return t?(t=(0,P.uY)(t),(0,D.jsx)("div",{className:"HintViewer",children:(0,D.jsx)("span",{children:t})})):null},Cr=function(e){var t=e.delay,n=e.theme,r=(0,m.useState)(!!t),a=(0,o.Z)(r,2),i=a[0],l=a[1];return(0,m.useEffect)((function(){if(t){var e=setTimeout((function(){l(!1)}),t);return function(){return clearTimeout(e)}}}),[t]),i?null:(0,D.jsxs)("div",{className:(0,b.Z)("LoadingMessage",{"LoadingMessage--dark":n===q.C6.DARK}),children:[(0,D.jsx)("div",{children:(0,D.jsx)(Zn.Z,{})}),(0,D.jsx)("div",{className:"LoadingMessage-text",children:(0,S.t)("labels.loadingScene")})]})},Mr={CHECKED:L.FC,UNCHECKED:L._C},_r=function(e){return(0,D.jsxs)("label",{className:(0,b.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title," \u2014 Q"),children:[(0,D.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title,"data-testid":"toolbar-lock"}),(0,D.jsx)("div",{className:"ToolIcon__icon",children:e.checked?Mr.CHECKED:Mr.UNCHECKED})]})},Zr=["heading","children"],Ir=function(e){var t=e.heading,n=e.children,r=(0,Ut.Z)(e,Zr),a=Vl().id,i=(0,D.jsx)("h2",{className:"visually-hidden",id:"".concat(a,"-").concat(t,"-title"),children:(0,S.t)("headings.".concat(t))});return(0,D.jsx)("section",(0,v.Z)((0,v.Z)({},r),{},{"aria-labelledby":"".concat(a,"-").concat(t,"-title"),children:"function"===typeof n?n(i):(0,D.jsxs)(D.Fragment,{children:[i,n]})}))},Tr=n(8190),jr=function(e){return e.penDetected?(0,D.jsxs)("label",{className:(0,b.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,D.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,D.jsx)("div",{className:"ToolIcon__icon",children:L.tb})]}):null};var Pr=function(e){var t,n=(0,Ve.KP)(e.elements),r=(0,w.Zs)(e.elements,e.appState),a=(0,Ve.KP)(r);return(0,D.jsx)("div",{className:"Stats",children:(0,D.jsxs)(sn,{padding:2,children:[(0,D.jsx)("div",{className:"close",onClick:e.onClose,children:L.Tw}),(0,D.jsx)("h3",{children:(0,S.t)("stats.title")}),(0,D.jsx)("table",{children:(0,D.jsxs)("tbody",{children:[(0,D.jsx)("tr",{children:(0,D.jsx)("th",{colSpan:2,children:(0,S.t)("stats.scene")})}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:(0,S.t)("stats.elements")}),(0,D.jsx)("td",{children:e.elements.length})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:(0,S.t)("stats.width")}),(0,D.jsx)("td",{children:Math.round(n[2])-Math.round(n[0])})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:(0,S.t)("stats.height")}),(0,D.jsx)("td",{children:Math.round(n[3])-Math.round(n[1])})]}),1===r.length&&(0,D.jsx)("tr",{children:(0,D.jsx)("th",{colSpan:2,children:(0,S.t)("stats.element")})}),r.length>1&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("tr",{children:(0,D.jsx)("th",{colSpan:2,children:(0,S.t)("stats.selected")})}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:(0,S.t)("stats.elements")}),(0,D.jsx)("td",{children:r.length})]})]}),r.length>0&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:"x"}),(0,D.jsx)("td",{children:Math.round(a[0])})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:"y"}),(0,D.jsx)("td",{children:Math.round(a[1])})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:(0,S.t)("stats.width")}),(0,D.jsx)("td",{children:Math.round(a[2]-a[0])})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:(0,S.t)("stats.height")}),(0,D.jsx)("td",{children:Math.round(a[3]-a[1])})]})]}),1===r.length&&(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:(0,S.t)("stats.angle")}),(0,D.jsx)("td",{children:"".concat(Math.round(180*r[0].angle/Math.PI),"\xb0")})]}),null===(t=e.renderCustomStats)||void 0===t?void 0:t.call(e,e.elements,e.appState)]})})]})})},Lr=function(e){return(0,D.jsx)(E.V,{className:(0,b.Z)("Shape",{fillable:!1}),type:"radio",icon:L.Hk,name:"editor-current-shape",checked:e.checked,title:"".concat(e.title," \u2014 H"),keyBindingLabel:e.isMobile?void 0:k.tW.H.toLocaleUpperCase(),"aria-label":"".concat(e.title," \u2014 H"),"aria-keyshortcuts":k.tW.H,"data-testid":"toolbar-hand",onChange:function(){var t;return null===(t=e.onChange)||void 0===t?void 0:t.call(e)}})},Dr=function(e){var t,n=new Set,r=function(e,r){var a="function"===typeof e?e(t):e;if(!Object.is(a,t)){var i=t;t=(null!=r?r:"object"!==typeof a)?a:Object.assign({},t,a),n.forEach((function(e){return e(t,i)}))}},a=function(){return t},i={setState:r,getState:a,subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,a,i),i},Or=function(e){return e?Dr(e):Dr},Rr=n(327).useSyncExternalStoreWithSelector;var Ar,Nr,zr=function(e){"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");var t="function"===typeof e?Or(e):e,n=function(e,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getState,n=arguments.length>2?arguments[2]:void 0,r=Rr(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return(0,m.useDebugValue)(r),r}(t,e,n)};return Object.assign(n,t),n},Br=function(e){return e?zr(e):zr},Fr="undefined"!==typeof window&&(null!=(Ar=window.document)&&Ar.createElement||"ReactNative"===(null==(Nr=window.navigator)?void 0:Nr.product))?m.useLayoutEffect:m.useEffect;function Hr(){var e=Br((function(e){return{current:new Array,version:0,set:e}}));return{In:function(t){var n=t.children,r=e((function(e){return e.set})),a=e((function(e){return e.version}));return Fr((function(){r((function(e){return{version:e.version+1}}))}),[]),Fr((function(){return r((function(e){var t=e.current;return{current:[].concat((0,i.Z)(t),[n])}})),function(){return r((function(e){return{current:e.current.filter((function(e){return e!==n}))}}))}}),[n,a]),null},Out:function(){var t=e((function(e){return e.current}));return m.createElement(m.Fragment,null,t)}}}var Wr=m.createContext(null),Ur=function(){return m.useContext(Wr)},Kr=function(e){var t=e.appState,n=e.elements,r=e.actionManager,a=e.setAppState,i=e.onLockToggle,o=e.onHandToolToggle,l=e.onPenModeToggle,s=e.renderTopRightUI,c=e.renderCustomStats,u=e.renderSidebars,d=e.device,f=e.renderWelcomeScreen,h=e.app,p=Ur(),m=p.WelcomeScreenCenterTunnel,g=p.MainMenuTunnel,y=p.DefaultSidebarTriggerTunnel;return(0,D.jsxs)(D.Fragment,{children:[u(),!t.viewModeEnabled&&(0,D.jsxs)(Er,{side:"top",className:"App-top-bar",children:[f&&(0,D.jsx)(m.Out,{}),(0,D.jsx)(Ir,{heading:"shapes",children:function(e){return(0,D.jsx)(Kt.Col,{gap:4,align:"center",children:(0,D.jsxs)(Kt.Row,{gap:1,className:"App-toolbar-container",children:[(0,D.jsxs)(sn,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[e,(0,D.jsx)(Kt.Row,{gap:1,children:(0,D.jsx)(xn,{appState:t,activeTool:t.activeTool,app:h})})]}),s&&s(!0,t),(0,D.jsxs)("div",{className:"mobile-misc-tools-container",children:[!t.viewModeEnabled&&(0,D.jsx)(y.Out,{}),(0,D.jsx)(jr,{checked:t.penMode,onChange:l,title:(0,S.t)("toolBar.penMode"),isMobile:!0,penDetected:t.penDetected}),(0,D.jsx)(_r,{checked:t.activeTool.locked,onChange:i,title:(0,S.t)("toolBar.lock"),isMobile:!0}),(0,D.jsx)(Lr,{checked:(0,_t.l$)(t),onChange:function(){return o()},title:(0,S.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,D.jsx)(Sr,{appState:t,isMobile:!0,device:d,app:h})]}),!t.openMenu&&t.showStats&&(0,D.jsx)(Pr,{appState:t,setAppState:a,elements:n,onClose:function(){r.executeAction(ft)},renderCustomStats:c}),(0,D.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Tr.nn+2*Tr.WM,marginLeft:Tr.nn+2*Tr.WM,marginRight:Tr.nn+2*Tr.WM},children:(0,D.jsxs)(sn,{padding:0,children:["shape"===t.openMenu&&!t.viewModeEnabled&&(0,M.RT)(t,n)?(0,D.jsx)(Ir,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,D.jsx)(bn,{appState:t,elements:n,renderAction:r.renderAction})}):null,(0,D.jsxs)("footer",{className:"App-toolbar",children:[t.viewModeEnabled?(0,D.jsx)("div",{className:"App-toolbar-content",children:(0,D.jsx)(g.Out,{})}):(0,D.jsxs)("div",{className:"App-toolbar-content",children:[(0,D.jsx)(g.Out,{}),r.renderAction("toggleEditMenu"),r.renderAction("undo"),r.renderAction("redo"),r.renderAction(t.multiElement?"finalize":"duplicateSelection"),r.renderAction("deleteSelectedElements")]}),t.scrolledOutside&&!t.openMenu&&!t.openSidebar&&(0,D.jsx)("button",{className:"scroll-back-to-content",onClick:function(){a((function(e){return(0,v.Z)({},(0,w.W)(n,e))}))},children:(0,S.t)("buttons.scrollBackToContent")})]})]})})]})},Vr=n(5807);var Yr=function(e){var t=(0,m.useRef)(null),n=(0,m.useState)(null),r=(0,o.Z)(n,2),a=r[0],i=r[1];return(0,m.useLayoutEffect)((function(){if(e.spreadsheet){var n,r=(0,Vr.ps)(e.chartType,e.spreadsheet,0,0);i(r);var a=t.current;return(0,c.Z)((0,s.Z)().mark((function t(){var i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ye.$D)(r,{exportBackground:!1,viewBackgroundColor:Hn.white},null);case 2:n=t.sent,null===(i=n.querySelector(".style-fonts"))||void 0===i||i.remove(),a.replaceChildren(),a.appendChild(n),e.selected&&a.parentNode.focus();case 7:case"end":return t.stop()}}),t)})))(),function(){a.replaceChildren()}}}),[e.spreadsheet,e.chartType,e.selected]),(0,D.jsx)("button",{className:"ChartPreview",onClick:function(){a&&e.onClick(e.chartType,a)},children:(0,D.jsx)("div",{ref:t})})},Gr=function(e){var t=e.setAppState,n=e.appState,r=e.onClose,a=Wl().onInsertElements,i=m.useCallback((function(){r&&r()}),[r]),o=function(e,n){a(n),(0,St.L)("magic","chart",e),t({currentChartType:e,pasteDialog:{shown:!1,data:null}})};return(0,D.jsx)(hr,{size:"small",onCloseRequest:i,title:(0,S.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,D.jsxs)("div",{className:"container",children:[(0,D.jsx)(Yr,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:"bar"===n.currentChartType,onClick:o}),(0,D.jsx)(Yr,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:"line"===n.currentChartType,onClick:o})]})})};var Xr=(0,s.Z)().mark(Jr),qr=function(){return(0,D.jsxs)("div",{className:"HelpDialog__header",children:[(0,D.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,S.t)("helpDialog.documentation"),(0,D.jsx)("div",{className:"HelpDialog__link-icon",children:L.h0})]}),(0,D.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,S.t)("helpDialog.blog"),(0,D.jsx)("div",{className:"HelpDialog__link-icon",children:L.h0})]}),(0,D.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,S.t)("helpDialog.github"),(0,D.jsx)("div",{className:"HelpDialog__link-icon",children:L.h0})]})]})},$r=function(e){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("h3",{children:e.title}),(0,D.jsx)("div",{className:"HelpDialog__islands-container",children:e.children})]})},Qr=function(e){return(0,D.jsxs)("div",{className:"HelpDialog__island ".concat(e.className),children:[(0,D.jsx)("h4",{className:"HelpDialog__island-title",children:e.caption}),(0,D.jsx)("div",{className:"HelpDialog__island-content",children:e.children})]})};function Jr(e,t){var n,r,i,o;return(0,s.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:n=!0,r=(0,a.Z)(e),l.prev=2,r.s();case 4:if((i=r.n()).done){l.next=14;break}if(o=i.value,n){l.next=9;break}return l.next=9,t;case 9:return n=!1,l.next=12,o;case 12:l.next=4;break;case 14:l.next=19;break;case 16:l.prev=16,l.t0=l.catch(2),r.e(l.t0);case 19:return l.prev=19,r.f(),l.finish(19);case 22:case"end":return l.stop()}}),Xr,null,[[2,16,19,22]])}var ea=function(e){var t=e.label,n=e.shortcuts,r=e.isOr,a=void 0===r||r,o=n.map((function(e){return(e.endsWith("++")?[].concat((0,i.Z)(e.slice(0,-2).split("+")),["+"]):e.split("+")).map((function(e){return(0,D.jsx)(ta,{children:(t=e,t.replace(/\b[a-z]\b/,(function(e){return e.toUpperCase()})))},e);var t}))}));return(0,D.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,D.jsx)("div",{children:t}),(0,D.jsx)("div",{className:"HelpDialog__key-container",children:(0,i.Z)(Jr(o,a?(0,S.t)("helpDialog.or"):null))})]})},ta=function(e){return(0,D.jsx)("kbd",(0,v.Z)({className:"HelpDialog__key"},e))},na=function(e){var t=e.onClose,n=m.useCallback((function(){t&&t()}),[t]);return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(hr,{onCloseRequest:n,title:(0,S.t)("helpDialog.title"),className:"HelpDialog",children:[(0,D.jsx)(qr,{}),(0,D.jsxs)($r,{title:(0,S.t)("helpDialog.shortcuts"),children:[(0,D.jsxs)(Qr,{className:"HelpDialog__island--tools",caption:(0,S.t)("helpDialog.tools"),children:[(0,D.jsx)(ea,{label:(0,S.t)("toolBar.hand"),shortcuts:[k.tW.H]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.selection"),shortcuts:[k.tW.V,k.tW[1]]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.rectangle"),shortcuts:[k.tW.R,k.tW[2]]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.diamond"),shortcuts:[k.tW.D,k.tW[3]]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.ellipse"),shortcuts:[k.tW.O,k.tW[4]]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.arrow"),shortcuts:[k.tW.A,k.tW[5]]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.line"),shortcuts:[k.tW.L,k.tW[6]]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.freedraw"),shortcuts:[k.tW.P,k.tW[7]]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.text"),shortcuts:[k.tW.T,k.tW[8]]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.image"),shortcuts:[k.tW[9]]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.eraser"),shortcuts:[k.tW.E,k.tW[0]]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.frame"),shortcuts:[k.tW.F]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.laser"),shortcuts:[k.tW.K]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.eyeDropper"),shortcuts:[k.tW.I,"Shift+S","Shift+G"]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,P.uY)("CtrlOrCmd+Enter")]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.editText"),shortcuts:[(0,P.uY)("Enter")]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.textNewLine"),shortcuts:[(0,P.uY)("Enter"),(0,P.uY)("Shift+Enter")]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.textFinish"),shortcuts:[(0,P.uY)("Esc"),(0,P.uY)("CtrlOrCmd+Enter")]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,S.t)("helpDialog.click"),(0,S.t)("helpDialog.click"),(0,S.t)("helpDialog.click")],isOr:!1}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.curvedLine"),shortcuts:["L",(0,S.t)("helpDialog.click"),(0,S.t)("helpDialog.click"),(0,S.t)("helpDialog.click")],isOr:!1}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.lock"),shortcuts:[k.tW.Q]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.preventBinding"),shortcuts:[(0,P.uY)("CtrlOrCmd")]}),(0,D.jsx)(ea,{label:(0,S.t)("toolBar.link"),shortcuts:[(0,P.uY)("CtrlOrCmd+K")]})]}),(0,D.jsxs)(Qr,{className:"HelpDialog__island--view",caption:(0,S.t)("helpDialog.view"),children:[(0,D.jsx)(ea,{label:(0,S.t)("buttons.zoomIn"),shortcuts:[(0,P.uY)("CtrlOrCmd++")]}),(0,D.jsx)(ea,{label:(0,S.t)("buttons.zoomOut"),shortcuts:[(0,P.uY)("CtrlOrCmd+-")]}),(0,D.jsx)(ea,{label:(0,S.t)("buttons.resetZoom"),shortcuts:[(0,P.uY)("CtrlOrCmd+0")]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,D.jsx)(ea,{label:(0,S.t)("buttons.fullScreen"),shortcuts:["F"]}),(0,D.jsx)(ea,{label:(0,S.t)("buttons.zenMode"),shortcuts:[(0,P.uY)("Alt+Z")]}),(0,D.jsx)(ea,{label:(0,S.t)("buttons.objectsSnapMode"),shortcuts:[(0,P.uY)("Alt+S")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.showGrid"),shortcuts:[(0,P.uY)("CtrlOrCmd+'")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.viewMode"),shortcuts:[(0,P.uY)("Alt+R")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.toggleTheme"),shortcuts:[(0,P.uY)("Alt+Shift+D")]}),(0,D.jsx)(ea,{label:(0,S.t)("stats.title"),shortcuts:[(0,P.uY)("Alt+/")]})]}),(0,D.jsxs)(Qr,{className:"HelpDialog__island--editor",caption:(0,S.t)("helpDialog.editor"),children:[(0,D.jsx)(ea,{label:(0,S.t)("labels.moveCanvas"),shortcuts:[(0,P.uY)("Space+".concat((0,S.t)("helpDialog.drag"))),(0,P.uY)("Wheel+".concat((0,S.t)("helpDialog.drag")))],isOr:!0}),(0,D.jsx)(ea,{label:(0,S.t)("buttons.clearReset"),shortcuts:[(0,P.uY)("CtrlOrCmd+Delete")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.delete"),shortcuts:[(0,P.uY)("Delete")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.cut"),shortcuts:[(0,P.uY)("CtrlOrCmd+X")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.copy"),shortcuts:[(0,P.uY)("CtrlOrCmd+C")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.paste"),shortcuts:[(0,P.uY)("CtrlOrCmd+V")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.pasteAsPlaintext"),shortcuts:[(0,P.uY)("CtrlOrCmd+Shift+V")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.selectAll"),shortcuts:[(0,P.uY)("CtrlOrCmd+A")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.multiSelect"),shortcuts:[(0,P.uY)("Shift+".concat((0,S.t)("helpDialog.click")))]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.deepSelect"),shortcuts:[(0,P.uY)("CtrlOrCmd+".concat((0,S.t)("helpDialog.click")))]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,P.uY)("CtrlOrCmd+".concat((0,S.t)("helpDialog.drag")))]}),(ge.vt||q.vU)&&(0,D.jsx)(ea,{label:(0,S.t)("labels.copyAsPng"),shortcuts:[(0,P.uY)("Shift+Alt+C")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.copyStyles"),shortcuts:[(0,P.uY)("CtrlOrCmd+Alt+C")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.pasteStyles"),shortcuts:[(0,P.uY)("CtrlOrCmd+Alt+V")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.sendToBack"),shortcuts:[q.Um?(0,P.uY)("CtrlOrCmd+Alt+["):(0,P.uY)("CtrlOrCmd+Shift+[")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.bringToFront"),shortcuts:[q.Um?(0,P.uY)("CtrlOrCmd+Alt+]"):(0,P.uY)("CtrlOrCmd+Shift+]")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.sendBackward"),shortcuts:[(0,P.uY)("CtrlOrCmd+[")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.bringForward"),shortcuts:[(0,P.uY)("CtrlOrCmd+]")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.alignTop"),shortcuts:[(0,P.uY)("CtrlOrCmd+Shift+Up")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.alignBottom"),shortcuts:[(0,P.uY)("CtrlOrCmd+Shift+Down")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.alignLeft"),shortcuts:[(0,P.uY)("CtrlOrCmd+Shift+Left")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.alignRight"),shortcuts:[(0,P.uY)("CtrlOrCmd+Shift+Right")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.duplicateSelection"),shortcuts:[(0,P.uY)("CtrlOrCmd+D"),(0,P.uY)("Alt+".concat((0,S.t)("helpDialog.drag")))]}),(0,D.jsx)(ea,{label:(0,S.t)("helpDialog.toggleElementLock"),shortcuts:[(0,P.uY)("CtrlOrCmd+Shift+L")]}),(0,D.jsx)(ea,{label:(0,S.t)("buttons.undo"),shortcuts:[(0,P.uY)("CtrlOrCmd+Z")]}),(0,D.jsx)(ea,{label:(0,S.t)("buttons.redo"),shortcuts:q.ED?[(0,P.uY)("CtrlOrCmd+Y"),(0,P.uY)("CtrlOrCmd+Shift+Z")]:[(0,P.uY)("CtrlOrCmd+Shift+Z")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.group"),shortcuts:[(0,P.uY)("CtrlOrCmd+G")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.ungroup"),shortcuts:[(0,P.uY)("CtrlOrCmd+Shift+G")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.flipHorizontal"),shortcuts:[(0,P.uY)("Shift+H")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.flipVertical"),shortcuts:[(0,P.uY)("Shift+V")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.showStroke"),shortcuts:[(0,P.uY)("S")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.showBackground"),shortcuts:[(0,P.uY)("G")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.decreaseFontSize"),shortcuts:[(0,P.uY)("CtrlOrCmd+Shift+<")]}),(0,D.jsx)(ea,{label:(0,S.t)("labels.increaseFontSize"),shortcuts:[(0,P.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},ra=function(e){var t=e.className,n=e.mobile,r=e.collaborators,a=ql(),i=new Map;r.forEach((function(e,t){i.set(e.id||t,e)}));var l=i.size>0&&Array.from(i).filter((function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return 0!==Object.keys(n).length})).map((function(e){var t=(0,o.Z)(e,2),r=t[0],i=t[1],l=a.renderAction("goToCollaborator",[r,i]);return n?(0,D.jsx)(pe.u,{label:i.username||"Unknown user",children:l},r):(0,D.jsx)(m.Fragment,{children:l},r)}));return(0,D.jsx)("div",{className:(0,b.Z)("UserList",t,{UserList_mobile:n}),children:l})};var aa=function(e){var t,n=e.children,r=e.color;return(0,D.jsx)("div",{className:"Card",style:(t={},(0,l.Z)(t,"--card-color","primary"===r?"var(--color-primary)":Hn[r][7]),(0,l.Z)(t,"--card-color-darker","primary"===r?"var(--color-primary-darker)":Hn[r][8]),(0,l.Z)(t,"--card-color-darkest","primary"===r?"var(--color-primary-darkest)":Hn[r][9]),t),children:n})};var ia=function(e){var t=e.elements,n=e.appState,r=e.setAppState,a=e.files,i=e.actionManager,o=e.exportOpts,l=e.canvas,u=e.onCloseRequest,d=o.onExportToBackend;return(0,D.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,D.jsxs)("div",{className:"ExportDialog-cards",children:[o.saveFileToDisk&&(0,D.jsxs)(aa,{color:"lime",children:[(0,D.jsx)("div",{className:"Card-icon",children:L.TP}),(0,D.jsx)("h2",{children:(0,S.t)("exportDialog.disk_title")}),(0,D.jsxs)("div",{className:"Card-details",children:[(0,S.t)("exportDialog.disk_details"),!xe.kr&&i.renderAction("changeProjectName")]}),(0,D.jsx)(E.V,{className:"Card-button",type:"button",title:(0,S.t)("exportDialog.disk_button"),"aria-label":(0,S.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){i.executeAction(Te,"ui")}})]}),d&&(0,D.jsxs)(aa,{color:"pink",children:[(0,D.jsx)("div",{className:"Card-icon",children:L.xP}),(0,D.jsx)("h2",{children:(0,S.t)("exportDialog.link_title")}),(0,D.jsx)("div",{className:"Card-details",children:(0,S.t)("exportDialog.link_details")}),(0,D.jsx)(E.V,{className:"Card-button",type:"button",title:(0,S.t)("exportDialog.link_button"),"aria-label":(0,S.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:(0,c.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,St.L)("export","link","ui (".concat((0,P.$h)(),")")),e.next=4,d(t,n,a,l);case 4:u(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r({errorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))})]}),o.renderCustomUI&&o.renderCustomUI(t,n,a,l)]})})},oa=function(e){var t=e.elements,n=e.appState,r=e.files,a=e.actionManager,i=e.exportOpts,o=e.canvas,l=e.setAppState,s=m.useCallback((function(){l({openDialog:null})}),[l]);return(0,D.jsx)(D.Fragment,{children:"jsonExport"===n.openDialog&&(0,D.jsx)(hr,{onCloseRequest:s,title:(0,S.t)("buttons.export"),children:(0,D.jsx)(ia,{elements:t,appState:n,setAppState:l,files:r,actionManager:a,onCloseRequest:s,exportOpts:i,canvas:o})})})},la=function(e){return(0,D.jsx)("button",{className:"help-icon",onClick:e.onClick,type:"button",title:"".concat((0,S.t)("helpDialog.title")," \u2014 ?"),"aria-label":(0,S.t)("helpDialog.title"),children:L.by})},sa=function(e){var t=e.appState,n=e.actionManager,r=e.showExitZenModeBtn,a=e.renderWelcomeScreen,i=Ur(),o=i.FooterCenterTunnel,l=i.WelcomeScreenHelpHintTunnel,s=Kl(),c=!t.viewModeEnabled&&t.multiElement&&s.isTouchScreen;return(0,D.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,D.jsx)("div",{className:(0,b.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":t.zenModeEnabled}),children:(0,D.jsx)(Kt.Col,{gap:2,children:(0,D.jsxs)(Ir,{heading:"canvasActions",children:[(0,D.jsx)(wn,{renderAction:n.renderAction,zoom:t.zoom}),!t.viewModeEnabled&&(0,D.jsx)(kn,{renderAction:n.renderAction,className:(0,b.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":t.zenModeEnabled})}),c&&(0,D.jsx)(Sn,{renderAction:n.renderAction,className:(0,b.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":t.zenModeEnabled})})]})})}),(0,D.jsx)(o.Out,{}),(0,D.jsx)("div",{className:(0,b.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":t.zenModeEnabled}),children:(0,D.jsxs)("div",{style:{position:"relative"},children:[a&&(0,D.jsx)(l.Out,{}),(0,D.jsx)(la,{onClick:function(){return n.executeAction(Re)}})]})}),(0,D.jsx)(En,{actionManager:n,showExitZenModeBtn:r})]})};const ca=sa;sa.displayName="Footer";var ua=m.createContext({});var da=["type","onSelect","selected","children","className"],fa=function(e){var t=e.type,n=void 0===t?"button":t,r=e.onSelect,a=e.selected,i=e.children,o=e.className,l=void 0===o?"":o,s=(0,Ut.Z)(e,da);return(0,D.jsx)("button",(0,v.Z)((0,v.Z)({onClick:(0,P.Mj)(s.onClick,(function(e){r()})),type:n,className:(0,b.Z)("excalidraw-button",l,{selected:a})},s),{},{children:i}))},ha=function(e){var t=e.children,n=e.className,r=Kl(),a=(0,m.useContext)(ua),i=!(!r.canDeviceFitSidebar||!a.shouldRenderDockButton);return(0,D.jsxs)("div",{className:(0,b.Z)("sidebar__header",n),"data-testid":"sidebar-header",children:[t,(0,D.jsxs)("div",{className:"sidebar__header__buttons",children:[i&&(0,D.jsx)(pe.u,{label:(0,S.t)("labels.sidebarLock"),children:(0,D.jsx)(fa,{onSelect:function(){var e;return null===(e=a.onDock)||void 0===e?void 0:e.call(a,!a.docked)},selected:!!a.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":(0,S.t)("labels.sidebarLock"),children:L.qQ})}),(0,D.jsx)(fa,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:a.onCloseRequest,"aria-label":(0,S.t)("buttons.close"),children:L.Tw})]})]})};ha.displayName="SidebarHeader";var pa=function(e){var t,n=e.name,r=e.tab,a=e.icon,i=e.title,o=e.children,l=e.onToggle,s=e.className,c=e.style,u=Xl(),d=(0,Gn.I)();return(0,D.jsxs)("label",{title:i,children:[(0,D.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:function(e){var t;null===(t=document.querySelector(".layer-ui__wrapper"))||void 0===t||t.classList.remove("animate");var a=e.target.checked;u({openSidebar:a?{name:n,tab:r}:null}),null===l||void 0===l||l(a)},checked:(null===(t=d.openSidebar)||void 0===t?void 0:t.name)===n,"aria-label":i,"aria-keyshortcuts":"0"}),(0,D.jsxs)("div",{className:(0,b.Z)("sidebar-trigger",s),style:c,children:[a&&(0,D.jsx)("div",{children:a}),o&&(0,D.jsx)("div",{className:"sidebar-trigger__label",children:o})]})]})};pa.displayName="SidebarTrigger";var va=n(7462),ma=n(9991),ga=n(2382),ya=n(5449),ba=n(4682),xa=["scope","children"];var wa=n(6147),ka=n(3523),Ea=n(8112),Sa=n(5240),Ca=(0,m.createContext)(void 0);function Ma(e){var t=(0,m.useContext)(Ca);return e||t||"ltr"}var _a=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus"],Za=["__scopeRovingFocusGroup","focusable","active","tabStopId"],Ia="rovingFocusGroup.onEntryFocus",Ta={bubbles:!1,cancelable:!0},ja="RovingFocusGroup",Pa=function(e){var t=e+"CollectionProvider",n=(0,ga.b)(t),r=(0,o.Z)(n,2),a=r[0],i=r[1],s=a(t,{collectionRef:{current:null},itemMap:new Map}),c=(0,o.Z)(s,2),u=c[0],d=c[1],f=function(e){var t=e.scope,n=e.children,r=m.useRef(null),a=m.useRef(new Map).current;return m.createElement(u,{scope:t,itemMap:a,collectionRef:r},n)},h=e+"CollectionSlot",p=m.forwardRef((function(e,t){var n=e.scope,r=e.children,a=d(h,n),i=(0,ya.e)(t,a.collectionRef);return m.createElement(ba.g7,{ref:i},r)})),g=e+"CollectionItemSlot",y="data-radix-collection-item",b=m.forwardRef((function(e,t){var n,r=e.scope,a=e.children,i=(0,Ut.Z)(e,xa),o=m.useRef(null),s=(0,ya.e)(t,o),c=d(g,r);return m.useEffect((function(){return c.itemMap.set(o,(0,v.Z)({ref:o},i)),function(){c.itemMap.delete(o)}})),m.createElement(ba.g7,(n={},(0,l.Z)(n,y,""),(0,l.Z)(n,"ref",s),n),a)}));return[{Provider:f,Slot:p,ItemSlot:b},function(t){var n=d(e+"CollectionConsumer",t);return m.useCallback((function(){var e=n.collectionRef.current;if(!e)return[];var t=Array.from(e.querySelectorAll("[".concat(y,"]")));return Array.from(n.itemMap.values()).sort((function(e,n){return t.indexOf(e.ref.current)-t.indexOf(n.ref.current)}))}),[n.collectionRef,n.itemMap])},i]}(ja),La=(0,o.Z)(Pa,3),Da=La[0],Oa=La[1],Ra=La[2],Aa=(0,ga.b)(ja,[Ra]),Na=(0,o.Z)(Aa,2),za=Na[0],Ba=Na[1],Fa=za(ja),Ha=(0,o.Z)(Fa,2),Wa=Ha[0],Ua=Ha[1],Ka=(0,m.forwardRef)((function(e,t){return(0,m.createElement)(Da.Provider,{scope:e.__scopeRovingFocusGroup},(0,m.createElement)(Da.Slot,{scope:e.__scopeRovingFocusGroup},(0,m.createElement)(Va,(0,va.Z)({},e,{ref:t}))))})),Va=(0,m.forwardRef)((function(e,t){var n=e.__scopeRovingFocusGroup,r=e.orientation,a=e.loop,l=void 0!==a&&a,s=e.dir,c=e.currentTabStopId,u=e.defaultCurrentTabStopId,d=e.onCurrentTabStopIdChange,f=e.onEntryFocus,h=(0,Ut.Z)(e,_a),p=(0,m.useRef)(null),g=(0,ya.e)(t,p),y=Ma(s),b=(0,Sa.T)({prop:c,defaultProp:u,onChange:d}),x=(0,o.Z)(b,2),w=x[0],k=void 0===w?null:w,E=x[1],S=(0,m.useState)(!1),C=(0,o.Z)(S,2),M=C[0],_=C[1],Z=(0,Ea.W)(f),I=Oa(n),T=(0,m.useRef)(!1),j=(0,m.useState)(0),P=(0,o.Z)(j,2),L=P[0],D=P[1];return(0,m.useEffect)((function(){var e=p.current;if(e)return e.addEventListener(Ia,Z),function(){return e.removeEventListener(Ia,Z)}}),[Z]),(0,m.createElement)(Wa,{scope:n,orientation:r,dir:y,loop:l,currentTabStopId:k,onItemFocus:(0,m.useCallback)((function(e){return E(e)}),[E]),onItemShiftTab:(0,m.useCallback)((function(){return _(!0)}),[]),onFocusableItemAdd:(0,m.useCallback)((function(){return D((function(e){return e+1}))}),[]),onFocusableItemRemove:(0,m.useCallback)((function(){return D((function(e){return e-1}))}),[])},(0,m.createElement)(ka.WV.div,(0,va.Z)({tabIndex:M||0===L?-1:0,"data-orientation":r},h,{ref:g,style:(0,v.Z)({outline:"none"},e.style),onMouseDown:(0,ma.M)(e.onMouseDown,(function(){T.current=!0})),onFocus:(0,ma.M)(e.onFocus,(function(e){var t=!T.current;if(e.target===e.currentTarget&&t&&!M){var n=new CustomEvent(Ia,Ta);if(e.currentTarget.dispatchEvent(n),!n.defaultPrevented){var r=I().filter((function(e){return e.focusable}));qa([r.find((function(e){return e.active})),r.find((function(e){return e.id===k}))].concat((0,i.Z)(r)).filter(Boolean).map((function(e){return e.ref.current})))}}T.current=!1})),onBlur:(0,ma.M)(e.onBlur,(function(){return _(!1)}))})))})),Ya="RovingFocusGroupItem",Ga=(0,m.forwardRef)((function(e,t){var n=e.__scopeRovingFocusGroup,r=e.focusable,a=void 0===r||r,i=e.active,o=void 0!==i&&i,l=e.tabStopId,s=(0,Ut.Z)(e,Za),c=(0,wa.M)(),u=l||c,d=Ua(Ya,n),f=d.currentTabStopId===u,h=Oa(n),p=d.onFocusableItemAdd,v=d.onFocusableItemRemove;return(0,m.useEffect)((function(){if(a)return p(),function(){return v()}}),[a,p,v]),(0,m.createElement)(Da.ItemSlot,{scope:n,id:u,focusable:a,active:o},(0,m.createElement)(ka.WV.span,(0,va.Z)({tabIndex:f?0:-1,"data-orientation":d.orientation},s,{ref:t,onMouseDown:(0,ma.M)(e.onMouseDown,(function(e){a?d.onItemFocus(u):e.preventDefault()})),onFocus:(0,ma.M)(e.onFocus,(function(){return d.onItemFocus(u)})),onKeyDown:(0,ma.M)(e.onKeyDown,(function(e){if("Tab"===e.key&&e.shiftKey)d.onItemShiftTab();else if(e.target===e.currentTarget){var t,n,r=function(e,t,n){var r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:Xa[r]}(e,d.orientation,d.dir);if(void 0!==r){e.preventDefault();var a=h().filter((function(e){return e.focusable})).map((function(e){return e.ref.current}));if("last"===r)a.reverse();else if("prev"===r||"next"===r){"prev"===r&&a.reverse();var i=a.indexOf(e.currentTarget);a=d.loop?(n=i+1,(t=a).map((function(e,r){return t[(n+r)%t.length]}))):a.slice(i+1)}setTimeout((function(){return qa(a)}))}}}))})))})),Xa={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qa(e){var t,n=document.activeElement,r=(0,a.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i===n)return;if(i.focus(),document.activeElement!==n)return}}catch(o){r.e(o)}finally{r.f()}}var $a=Ka,Qa=Ga,Ja=n(2008),ei=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],ti=["__scopeTabs","loop"],ni=["__scopeTabs","value","disabled"],ri=["__scopeTabs","value","forceMount","children"],ai="Tabs",ii=(0,ga.b)(ai,[Ba]),oi=(0,o.Z)(ii,2),li=oi[0],si=(oi[1],Ba()),ci=li(ai),ui=(0,o.Z)(ci,2),di=ui[0],fi=ui[1],hi=(0,m.forwardRef)((function(e,t){var n=e.__scopeTabs,r=e.value,a=e.onValueChange,i=e.defaultValue,l=e.orientation,s=void 0===l?"horizontal":l,c=e.dir,u=e.activationMode,d=void 0===u?"automatic":u,f=(0,Ut.Z)(e,ei),h=Ma(c),p=(0,Sa.T)({prop:r,onChange:a,defaultProp:i}),v=(0,o.Z)(p,2),g=v[0],y=v[1];return(0,m.createElement)(di,{scope:n,baseId:(0,wa.M)(),value:g,onValueChange:y,orientation:s,dir:h,activationMode:d},(0,m.createElement)(ka.WV.div,(0,va.Z)({dir:h,"data-orientation":s},f,{ref:t})))})),pi="TabsList",vi=(0,m.forwardRef)((function(e,t){var n=e.__scopeTabs,r=e.loop,a=void 0===r||r,i=(0,Ut.Z)(e,ti),o=fi(pi,n),l=si(n);return(0,m.createElement)($a,(0,va.Z)({asChild:!0},l,{orientation:o.orientation,dir:o.dir,loop:a}),(0,m.createElement)(ka.WV.div,(0,va.Z)({role:"tablist","aria-orientation":o.orientation},i,{ref:t})))})),mi="TabsTrigger",gi=(0,m.forwardRef)((function(e,t){var n=e.__scopeTabs,r=e.value,a=e.disabled,i=void 0!==a&&a,o=(0,Ut.Z)(e,ni),l=fi(mi,n),s=si(n),c=xi(l.baseId,r),u=wi(l.baseId,r),d=r===l.value;return(0,m.createElement)(Qa,(0,va.Z)({asChild:!0},s,{focusable:!i,active:d}),(0,m.createElement)(ka.WV.button,(0,va.Z)({type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c},o,{ref:t,onMouseDown:(0,ma.M)(e.onMouseDown,(function(e){i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(r)})),onKeyDown:(0,ma.M)(e.onKeyDown,(function(e){[" ","Enter"].includes(e.key)&&l.onValueChange(r)})),onFocus:(0,ma.M)(e.onFocus,(function(){var e="manual"!==l.activationMode;d||i||!e||l.onValueChange(r)}))})))})),yi="TabsContent",bi=(0,m.forwardRef)((function(e,t){var n=e.__scopeTabs,r=e.value,a=e.forceMount,i=e.children,o=(0,Ut.Z)(e,ri),l=fi(yi,n),s=xi(l.baseId,r),c=wi(l.baseId,r),u=r===l.value,d=(0,m.useRef)(u);return(0,m.useEffect)((function(){var e=requestAnimationFrame((function(){return d.current=!1}));return function(){return cancelAnimationFrame(e)}}),[]),(0,m.createElement)(Ja.z,{present:a||u},(function(n){var r=n.present;return(0,m.createElement)(ka.WV.div,(0,va.Z)({"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":s,hidden:!r,id:c,tabIndex:0},o,{ref:t,style:(0,v.Z)((0,v.Z)({},e.style),{},{animationDuration:d.current?"0s":void 0})}),r&&i)}))}));function xi(e,t){return"".concat(e,"-trigger-").concat(t)}function wi(e,t){return"".concat(e,"-content-").concat(t)}var ki=hi,Ei=vi,Si=gi,Ci=bi,Mi=["children"],_i=function(e){var t=e.children,n=(0,Ut.Z)(e,Mi);return(0,D.jsx)(Ei,(0,v.Z)((0,v.Z)({className:"sidebar-triggers"},n),{},{children:t}))};_i.displayName="SidebarTabTriggers";var Zi=["children","tab","onSelect"],Ii=function(e){var t=e.children,n=e.tab,r=e.onSelect,a=(0,Ut.Z)(e,Zi);return(0,D.jsx)(Si,{value:n,asChild:!0,onSelect:r,children:(0,D.jsx)("button",(0,v.Z)((0,v.Z)({type:"button",className:"excalidraw-button sidebar-tab-trigger"},a),{},{children:t}))})};Ii.displayName="SidebarTabTrigger";var Ti=["children"],ji=function(e){var t=e.children,n=(0,Ut.Z)(e,Ti),r=(0,Gn.I)(),a=Xl();if(!r.openSidebar)return null;var i=r.openSidebar.name;return(0,D.jsx)(ki,(0,v.Z)((0,v.Z)({className:"sidebar-tabs-root",value:r.openSidebar.tab,onValueChange:function(e){return a((function(t){return(0,v.Z)((0,v.Z)({},t),{},{openSidebar:(0,v.Z)((0,v.Z)({},t.openSidebar),{},{name:i,tab:e})})}))}},n),{},{children:t}))};ji.displayName="SidebarTabs";var Pi=["tab","children"],Li=function(e){var t=e.tab,n=e.children,r=(0,Ut.Z)(e,Pi);return(0,D.jsx)(Ci,(0,v.Z)((0,v.Z)({},r),{},{value:t,children:n}))};Li.displayName="SidebarTab";var Di=["name","children","onDock","docked","className"],Oi=(0,_n.cn)(!1),Ri=(0,m.forwardRef)((function(e,t){e.name;var n=e.children,r=e.onDock,a=e.docked,i=e.className,o=(0,Ut.Z)(e,Di);(void 0).DEV&&r&&null==a&&console.warn("Sidebar: `docked` must be set when `onDock` is supplied for the sidebar to be user-dockable. To hide this message, either pass `docked` or remove `onDock`");var l=Xl(),s=(0,_n.b9)(Oi,An.yE);(0,m.useLayoutEffect)((function(){return s(!!a),function(){s(!1)}}),[s,a]);var c=(0,m.useRef)({});c.current.onCloseRequest=function(){l({openSidebar:null})},c.current.onDock=function(e){return null===r||void 0===r?void 0:r(e)},c.current=(0,P.v4)(c.current,{docked:a,shouldRenderDockButton:!!r&&null!=a});var u=(0,m.useRef)(null);(0,m.useImperativeHandle)(t,(function(){return u.current}));var d=Kl(),f=(0,m.useCallback)((function(){!!document.querySelector(".Dialog")||l({openSidebar:null})}),[l]);return(0,cn.O)(u,(0,m.useCallback)((function(e){e.target.closest(".sidebar-trigger")||a&&d.canDeviceFitSidebar||f()}),[f,a,d.canDeviceFitSidebar])),(0,m.useEffect)((function(){var e=function(e){e.key!==k.tW.ESCAPE||a&&d.canDeviceFitSidebar||f()};return document.addEventListener(q.Ks.KEYDOWN,e),function(){document.removeEventListener(q.Ks.KEYDOWN,e)}}),[f,a,d.canDeviceFitSidebar]),(0,D.jsx)(sn,(0,v.Z)((0,v.Z)({},o),{},{className:(0,b.Z)("sidebar",{"sidebar--docked":a},i),ref:u,children:(0,D.jsx)(ua.Provider,{value:c.current,children:n})}))}));Ri.displayName="SidebarInner";var Ai=Object.assign((0,m.forwardRef)((function(e,t){var n,r=(0,Gn.I)(),a=e.onStateChange,i=(0,m.useRef)(r.openSidebar);(0,m.useEffect)((function(){var t,n,o,l,s;(!r.openSidebar&&(null===i||void 0===i||null===(t=i.current)||void 0===t?void 0:t.name)===e.name||(null===(n=r.openSidebar)||void 0===n?void 0:n.name)===e.name&&(null===i||void 0===i||null===(o=i.current)||void 0===o?void 0:o.name)!==e.name||(null===(l=i.current)||void 0===l?void 0:l.name)===e.name)&&r.openSidebar!==i.current&&(null===a||void 0===a||a((null===(s=r.openSidebar)||void 0===s?void 0:s.name)!==e.name?null:r.openSidebar));i.current=r.openSidebar}),[r.openSidebar,a,e.name]);var l=(0,m.useState)(!1),s=(0,o.Z)(l,2),c=s[0],u=s[1];return(0,m.useLayoutEffect)((function(){return u(!0),function(){return u(!1)}}),[]),c&&(null===(n=r.openSidebar)||void 0===n?void 0:n.name)===e.name?(0,m.createElement)(Ri,(0,v.Z)((0,v.Z)({},e),{},{ref:t,key:e.name})):null})),{Header:ha,TabTriggers:_i,TabTrigger:Ii,Tabs:ji,Tab:Li,Trigger:pa});Ai.displayName="Sidebar";var Ni=(0,_n.cn)(null),zi=function(){var e=(0,_n.KO)(Ni,An.yE),t=(0,o.Z)(e,2),n=t[0],r=t[1],a=ql();return n&&"clearCanvas"===n?(0,D.jsx)(Fn,{onConfirm:function(){a.executeAction(ce.mo),r(null)},onCancel:function(){return r(null)},title:(0,S.t)("clearCanvasDialog.title"),children:(0,D.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,S.t)("alerts.clearReset")]})}):null},Bi=(0,_n.cn)({active:!1});function Fi(e){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)((0,s.Z)().mark((function e(t){var n,r,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,r=t.description,a=t.actionLabel,i=t.color,e.abrupt("return",new Promise((function(e){An.e_.set(Bi,{active:!0,onConfirm:function(){return e(!0)},onClose:function(){return e(!1)},onReject:function(){return e(!1)},title:n,description:r,actionLabel:a,color:i})})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wi=function(){var e=(0,S.QT)().t,t=ql(),n=Yl();if(!t.isActionEnabled(je))return null;var r=function(){var r=(0,c.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=!n.length,r.t0){r.next=5;break}return r.next=4,Fi({title:e("overwriteConfirm.modal.loadFromFile.title"),actionLabel:e("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,D.jsx)(Rn,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:function(e){return(0,D.jsx)("strong",{children:e})},br:function(){return(0,D.jsx)("br",{})}})});case 4:r.t0=r.sent;case 5:if(!r.t0){r.next=7;break}t.executeAction(je);case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,D.jsx)(nn,{icon:L.Tl,onSelect:r,"data-testid":"load-button",shortcut:Ft("loadScene"),"aria-label":e("buttons.load"),children:e("buttons.load")})};Wi.displayName="LoadScene";var Ui=function(){var e=(0,S.QT)().t,t=ql();return t.isActionEnabled(Ie)?(0,D.jsx)(nn,{shortcut:Ft("saveScene"),"data-testid":"save-button",onSelect:function(){return t.executeAction(Ie)},icon:L.a1,"aria-label":"".concat(e("buttons.save")),children:"".concat(e("buttons.save"))}):null};Ui.displayName="SaveToActiveFile";var Ki=function(){var e=Xl(),t=(0,S.QT)().t;return(0,D.jsx)(nn,{icon:L.J8,"data-testid":"image-export-button",onSelect:function(){return e({openDialog:"imageExport"})},shortcut:Ft("imageExport"),"aria-label":t("buttons.exportImage"),children:t("buttons.exportImage")})};Ki.displayName="SaveAsImage";var Vi=function(){var e=(0,S.QT)().t,t=ql();return(0,D.jsx)(nn,{"data-testid":"help-menu-item",icon:L.by,onSelect:function(){return t.executeAction(Re)},shortcut:"?","aria-label":e("helpDialog.title"),children:e("helpDialog.title")})};Vi.displayName="Help";var Yi=function(){var e=(0,S.QT)().t,t=(0,_n.b9)(Ni,An.yE);return ql().isActionEnabled(ce.mo)?(0,D.jsx)(nn,{icon:L.XH,onSelect:function(){return t("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":e("buttons.clearReset"),children:e("buttons.clearReset")}):null};Yi.displayName="ClearCanvas";var Gi=function(){var e=(0,S.QT)().t,t=(0,Gn.I)(),n=ql();return n.isActionEnabled(ce.Zp)?(0,D.jsx)(nn,{onSelect:function(e){return e.preventDefault(),n.executeAction(ce.Zp)},icon:"dark"===t.theme?L.NW:L.kL,"data-testid":"toggle-dark-mode",shortcut:Ft("toggleTheme"),"aria-label":"dark"===t.theme?e("buttons.lightMode"):e("buttons.darkMode"),children:"dark"===t.theme?e("buttons.lightMode"):e("buttons.darkMode")}):null};Gi.displayName="ToggleTheme";var Xi=function(){var e=(0,S.QT)().t,t=(0,Gn.I)(),n=ql(),r=Ul();return t.viewModeEnabled||!r.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,D.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,D.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:e("labels.canvasBackground")}),(0,D.jsx)("div",{style:{padding:"0 0.625rem"},children:n.renderAction("changeViewBackgroundColor")})]})};Xi.displayName="ChangeCanvasBackground";var qi=function(){var e=(0,S.QT)().t,t=Xl();return(0,D.jsx)(nn,{icon:L.Hy,onSelect:function(){t({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":e("buttons.export"),children:e("buttons.export")})};qi.displayName="Export";var $i=function(){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(pn,{icon:L.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,D.jsx)(pn,{icon:L.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,D.jsx)(pn,{icon:L.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};$i.displayName="Socials";var Qi=function(e){var t=e.onSelect,n=e.isCollaborating,r=(0,S.QT)().t;return(0,D.jsx)(nn,{"data-testid":"collab-button",icon:L.jn,className:(0,b.Z)({"active-collab":n}),onSelect:t,children:r("labels.liveCollaboration")})};Qi.displayName="LiveCollaborationTrigger";var Ji=function(e,t){var n=(0,_n.cn)(0),r=function(e){var r=Ur().jotaiScope,a=(0,_n.KO)(n,r),i=(0,o.Z)(a,2)[1],l=(0,m.useRef)({preferHost:!1,counter:0});return(0,m.useLayoutEffect)((function(){var e=l.current;return i((function(t){var n=t+1;return e.counter=n,n})),function(){i((function(t){var n=t-1;return e.counter=n,n||(e.preferHost=!1),n}))}}),[i]),e.__fallback||(l.current.preferHost=!0),!l.current.counter&&e.__fallback&&l.current.preferHost||l.current.counter>1&&e.__fallback?null:(0,D.jsx)(t,(0,v.Z)({},e))};return r.displayName=e,r};const eo=Object.assign(Ji("MainMenu",(function(e){var t=e.children,n=e.onSelect,r=Ur().MainMenuTunnel,a=Kl(),i=(0,Gn.I)(),o=Xl(),l=a.isMobile?void 0:function(){return o({openMenu:null})};return(0,D.jsx)(r.In,{children:(0,D.jsxs)(yn,{open:"canvas"===i.openMenu,children:[(0,D.jsx)(yn.Trigger,{onToggle:function(){o({openMenu:"canvas"===i.openMenu?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:L.RY}),(0,D.jsxs)(yn.Content,{onClickOutside:l,onSelect:(0,P.Mj)(n,(function(){o({openMenu:null})})),children:[t,a.isMobile&&i.collaborators.size>0&&(0,D.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,D.jsx)("legend",{children:(0,S.t)("labels.collaborators")}),(0,D.jsx)(ra,{mobile:!0,collaborators:i.collaborators})]})]})]})})})),{Trigger:yn.Trigger,Item:yn.Item,ItemLink:yn.ItemLink,ItemCustom:yn.ItemCustom,Group:yn.Group,Separator:yn.Separator,DefaultItems:r});var to=function(e){var t=e.title,n=e.children,r=e.actionLabel,a=e.onClick;return(0,D.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,D.jsx)("h4",{children:t}),(0,D.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:n}),(0,D.jsx)(gr,{variant:"outlined",color:"muted",label:r,size:"large",fullWidth:!0,onClick:a})]})},no=Object.assign((function(e){var t=e.children;return(0,D.jsx)("div",{className:"OverwriteConfirm__Actions",children:t})}),{ExportToImage:function(){var e=(0,S.QT)().t,t=ql(),n=Xl();return(0,D.jsx)(to,{title:e("overwriteConfirm.action.exportToImage.title"),actionLabel:e("overwriteConfirm.action.exportToImage.button"),onClick:function(){t.executeAction(Ze,"ui",!0),n({openDialog:"imageExport"})},children:e("overwriteConfirm.action.exportToImage.description")})},SaveToDisk:function(){var e=(0,S.QT)().t,t=ql();return(0,D.jsx)(to,{title:e("overwriteConfirm.action.saveToDisk.title"),actionLabel:e("overwriteConfirm.action.saveToDisk.button"),onClick:function(){t.executeAction(Te,"ui")},children:e("overwriteConfirm.action.saveToDisk.description")})}});var ro=Object.assign(Ji("OverwriteConfirmDialog",(function(e){var t=e.children,n=Ur().OverwriteConfirmDialogTunnel,r=(0,_n.KO)(Bi,An.yE),a=(0,o.Z)(r,2),i=a[0],l=a[1];if(!i.active)return null;return(0,D.jsx)(n.In,{children:(0,D.jsx)(hr,{onCloseRequest:function(){i.onClose(),l((function(e){return(0,v.Z)((0,v.Z)({},e),{},{active:!1})}))},title:!1,size:916,children:(0,D.jsxs)("div",{className:"OverwriteConfirm",children:[(0,D.jsx)("h3",{children:i.title}),(0,D.jsxs)("div",{className:"OverwriteConfirm__Description OverwriteConfirm__Description--color-".concat(i.color),children:[(0,D.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:L.UT}),(0,D.jsx)("div",{children:i.description}),(0,D.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,D.jsx)(gr,{color:i.color,size:"large",label:i.actionLabel,onClick:function(){i.onConfirm(),l((function(e){return(0,v.Z)((0,v.Z)({},e),{},{active:!1})}))}})]}),(0,D.jsx)(no,{children:t})]})})})})),{Actions:no,Action:to}),ao=["children"],io=["children","className","onDock","docked"],oo=Ji("DefaultSidebarTrigger",(function(e){var t=Ur().DefaultSidebarTriggerTunnel;return(0,D.jsx)(t.In,{children:(0,D.jsx)(Ai.Trigger,(0,v.Z)((0,v.Z)({},e),{},{className:"default-sidebar-trigger",name:q.Cc.name}))})}));oo.displayName="DefaultSidebarTrigger";var lo=function(e){var t=e.children,n=(0,Ut.Z)(e,ao),r=Ur().DefaultSidebarTabTriggersTunnel;return(0,D.jsx)(r.In,{children:(0,D.jsx)(Ai.TabTriggers,(0,v.Z)((0,v.Z)({},n),{},{children:t}))})};lo.displayName="DefaultTabTriggers";var so=Object.assign(Ji("DefaultSidebar",(function(e){var t=e.children,n=e.className,r=e.onDock,a=e.docked,i=(0,Ut.Z)(e,io),o=(0,Gn.I)(),l=Xl(),s=Ur().DefaultSidebarTabTriggersTunnel;return(0,m.createElement)(Ai,(0,v.Z)((0,v.Z)({},i),{},{name:"default",key:"default",className:(0,b.Z)("default-sidebar",n),docked:null!==a&&void 0!==a?a:o.defaultSidebarDockedPreference,onDock:!1===r||!r&&null!=a?void 0:(0,P.Mj)(r,(function(e){l({defaultSidebarDockedPreference:e})}))}),(0,D.jsxs)(Ai.Tabs,{children:[(0,D.jsxs)(Ai.Header,{children:[i.__fallback&&(0,D.jsx)("div",{style:{color:"var(--color-primary)",fontSize:"1.2em",fontWeight:"bold",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"1em"},children:(0,S.t)("toolBar.library")}),(0,D.jsx)(s.Out,{})]}),(0,D.jsx)(Ai.Tab,{tab:q.tf,children:(0,D.jsx)(dr,{})}),t]}))})),{Trigger:oo,TabTriggers:lo}),co=n(9035);var uo=n(4937),fo=function(e){return(0,D.jsxs)("label",{className:(0,b.Z)("ToolIcon ToolIcon__LaserPointer","ToolIcon_size_".concat("small"),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,D.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title,"data-testid":"toolbar-LaserPointer"}),(0,D.jsx)("div",{className:"ToolIcon__icon",children:L.d})]})},ho=["suggestedBindings","startBoundElement","cursorButton","scrollX","scrollY"],po=["canvas","appState"],vo=["canvas","appState"],mo=function(e){var t=e.UIOptions;return(0,D.jsxs)(eo,{__fallback:!0,children:[(0,D.jsx)(eo.DefaultItems.LoadScene,{}),(0,D.jsx)(eo.DefaultItems.SaveToActiveFile,{}),t.canvasActions.export&&(0,D.jsx)(eo.DefaultItems.Export,{}),t.canvasActions.saveAsImage&&(0,D.jsx)(eo.DefaultItems.SaveAsImage,{}),(0,D.jsx)(eo.DefaultItems.Help,{}),(0,D.jsx)(eo.DefaultItems.ClearCanvas,{}),(0,D.jsx)(eo.Separator,{}),(0,D.jsx)(eo.Group,{title:"Excalidraw links",children:(0,D.jsx)(eo.DefaultItems.Socials,{})}),(0,D.jsx)(eo.Separator,{}),(0,D.jsx)(eo.DefaultItems.ToggleTheme,{}),(0,D.jsx)(eo.DefaultItems.ChangeCanvasBackground,{})]})},go=function(){return(0,D.jsxs)(ro,{__fallback:!0,children:[(0,D.jsx)(ro.Actions.SaveToDisk,{}),(0,D.jsx)(ro.Actions.ExportToImage,{})]})},yo=function(e){var t=e.actionManager,n=e.appState,r=e.files,i=e.setAppState,s=e.elements,c=e.canvas,u=e.onLockToggle,d=e.onHandToolToggle,f=e.onPenModeToggle,h=e.showExitZenModeBtn,p=e.renderTopRightUI,g=e.renderCustomStats,y=e.UIOptions,x=e.onExportImage,k=e.renderWelcomeScreen,E=e.children,C=e.app,Z=e.isCollaborating,I=Kl(),T=m.useMemo((function(){return{MainMenuTunnel:Hr(),WelcomeScreenMenuHintTunnel:Hr(),WelcomeScreenToolbarHintTunnel:Hr(),WelcomeScreenHelpHintTunnel:Hr(),WelcomeScreenCenterTunnel:Hr(),FooterCenterTunnel:Hr(),DefaultSidebarTriggerTunnel:Hr(),DefaultSidebarTabTriggersTunnel:Hr(),OverwriteConfirmDialogTunnel:Hr(),jotaiScope:Symbol()}}),[]),j=(0,_n.KO)(co.$,An.yE),O=(0,o.Z)(j,2),R=O[0],N=O[1],z=function(){return y.canvasActions.export?(0,D.jsx)(oa,{elements:s,appState:n,files:r,actionManager:t,exportOpts:y.canvasActions.export,canvas:c,setAppState:i}):null},B=function(){return y.canvasActions.saveAsImage?(0,D.jsx)(kr,{elements:s,appState:n,files:r,actionManager:t,onExportImage:x,onCloseRequest:function(){return i({openDialog:null})}}):null},F=function(){return(0,D.jsx)(so,{__fallback:!0,onDock:function(e){(0,St.L)("sidebar","toggleDock (".concat(e?"dock":"undock",")"),"(".concat(I.isMobile?"mobile":"desktop",")"))}})},H=(0,_n.Dv)(Oi,An.yE),W=(0,D.jsxs)(D.Fragment,{children:[E,(0,D.jsx)(mo,{UIOptions:y}),(0,D.jsx)(so.Trigger,{__fallback:!0,icon:L.Vq,title:(0,P.Oo)((0,S.t)("toolBar.library")),onToggle:function(e){e&&(0,St.L)("sidebar","".concat(q.Cc.name," (open)"),"button (".concat(I.isMobile?"mobile":"desktop",")"))},tab:q.Cc.defaultTab,children:(0,S.t)("toolBar.library")}),(0,D.jsx)(go,{}),n.isLoading&&(0,D.jsx)(Cr,{delay:250}),n.errorMessage&&(0,D.jsx)(pr,{onClose:function(){return i({errorMessage:null})},children:n.errorMessage}),R&&!I.isMobile&&(0,D.jsx)(co.p,{colorPickerType:R.colorPickerType,onCancel:function(){N(null)},onChange:function(e,t,n,r){var o=r.altKey;if("elementBackground"===e||"elementStroke"===e)if(n.length){var s,c,u=(0,a.Z)(n);try{for(u.s();!(c=u.n()).done;){var d=c.value;(0,_.DR)(d,(0,l.Z)({},o&&R.swapPreviewOnAlt?"elementBackground"===e?"strokeColor":"backgroundColor":"elementBackground"===e?"backgroundColor":"strokeColor",t),!1),uo.R.delete(d)}}catch(f){u.e(f)}finally{u.f()}null===(s=A.Z.getScene(n[0]))||void 0===s||s.informMutation()}else i("elementBackground"===e?{currentItemBackgroundColor:t}:{currentItemStrokeColor:t})},onSelect:function(e,t){var n;N((function(e){return null!==e&&void 0!==e&&e.keepOpenOnAlt&&t.altKey?e:null})),null===R||void 0===R||null===(n=R.onSelect)||void 0===n||n.call(R,e,t)}}),"help"===n.openDialog&&(0,D.jsx)(na,{onClose:function(){i({openDialog:null})}}),(0,D.jsx)(zi,{}),(0,D.jsx)(T.OverwriteConfirmDialogTunnel.Out,{}),B(),z(),n.pasteDialog.shown&&(0,D.jsx)(Gr,{setAppState:i,appState:n,onClose:function(){return i({pasteDialog:{shown:!1,data:null}})}}),I.isMobile&&(0,D.jsx)(Kr,{app:C,appState:n,elements:s,actionManager:t,renderJSONExportDialog:z,renderImageExportDialog:B,setAppState:i,onLockToggle:u,onHandToolToggle:d,onPenModeToggle:f,renderTopRightUI:p,renderCustomStats:g,renderSidebars:F,device:I,renderWelcomeScreen:k}),!I.isMobile&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"layer-ui__wrapper",style:n.openSidebar&&H&&I.canDeviceFitSidebar?{width:"calc(100% - ".concat(q.EE,"px)")}:{},children:[k&&(0,D.jsx)(T.WelcomeScreenCenterTunnel.Out,{}),function(){var e,r=(0,M.RT)(n,s);return(0,D.jsx)(Er,{side:"top",children:(0,D.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,D.jsxs)(Kt.Col,{gap:6,className:(0,b.Z)("App-menu_top__left"),children:[(0,D.jsxs)("div",{style:{position:"relative"},children:[(0,D.jsx)(T.MainMenuTunnel.Out,{}),k&&(0,D.jsx)(T.WelcomeScreenMenuHintTunnel.Out,{})]}),r&&(0,D.jsx)(Ir,{heading:"selectedShapeActions",className:(0,b.Z)("selected-shape-actions zen-mode-transition",{"transition-left":n.zenModeEnabled}),children:(0,D.jsx)(sn,{className:q.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(n.height-166,"px")},children:(0,D.jsx)(bn,{appState:n,elements:s,renderAction:t.renderAction})})})]}),!n.viewModeEnabled&&(0,D.jsx)(Ir,{heading:"shapes",className:"shapes-section",children:function(e){return(0,D.jsxs)("div",{style:{position:"relative"},children:[k&&(0,D.jsx)(T.WelcomeScreenToolbarHintTunnel.Out,{}),(0,D.jsx)(Kt.Col,{gap:4,align:"start",children:(0,D.jsxs)(Kt.Row,{gap:1,className:(0,b.Z)("App-toolbar-container",{"zen-mode":n.zenModeEnabled}),children:[(0,D.jsxs)(sn,{padding:1,className:(0,b.Z)("App-toolbar",{"zen-mode":n.zenModeEnabled}),children:[(0,D.jsx)(Sr,{appState:n,isMobile:I.isMobile,device:I,app:C}),e,(0,D.jsxs)(Kt.Row,{gap:1,children:[(0,D.jsx)(jr,{zenModeEnabled:n.zenModeEnabled,checked:n.penMode,onChange:f,title:(0,S.t)("toolBar.penMode"),penDetected:n.penDetected}),(0,D.jsx)(_r,{checked:n.activeTool.locked,onChange:u,title:(0,S.t)("toolBar.lock")}),(0,D.jsx)("div",{className:"App-toolbar__divider"}),(0,D.jsx)(Lr,{checked:(0,_t.l$)(n),onChange:function(){return d()},title:(0,S.t)("toolBar.hand"),isMobile:!0}),(0,D.jsx)(xn,{appState:n,activeTool:n.activeTool,app:C})]})]}),Z&&(0,D.jsx)(sn,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,D.jsx)(fo,{title:(0,S.t)("toolBar.laser"),checked:"laser"===n.activeTool.type,onChange:function(){return C.setActiveTool({type:"laser"})},isMobile:!0})})]})})]})}}),(0,D.jsxs)("div",{className:(0,b.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":n.zenModeEnabled}),children:[(0,D.jsx)(ra,{collaborators:n.collaborators}),null===p||void 0===p?void 0:p(I.isMobile,n),!n.viewModeEnabled&&(!H||(null===(e=n.openSidebar)||void 0===e?void 0:e.name)!==q.Cc.name)&&(0,D.jsx)(T.DefaultSidebarTriggerTunnel.Out,{})]})]})})}(),(0,D.jsx)(ca,{appState:n,actionManager:t,showExitZenModeBtn:h,renderWelcomeScreen:k}),n.showStats&&(0,D.jsx)(Pr,{appState:n,setAppState:i,elements:s,onClose:function(){t.executeAction(ft)},renderCustomStats:g}),n.scrolledOutside&&(0,D.jsx)("button",{className:"scroll-back-to-content",onClick:function(){i((function(e){return(0,v.Z)({},(0,w.W)(s,e))}))},children:(0,S.t)("buttons.scrollBackToContent")})]}),F()]})]});return(0,D.jsx)(Gn.k.Provider,{value:n,children:(0,D.jsx)(_n.zt,{scope:T.jotaiScope,children:(0,D.jsx)(Wr.Provider,{value:T,children:W})})})},bo=function(e){e.suggestedBindings,e.startBoundElement,e.cursorButton,e.scrollX,e.scrollY;return(0,Ut.Z)(e,ho)},xo=function(e,t){if(e.children!==t.children)return!1;e.canvas;var n=e.appState,r=(0,Ut.Z)(e,po),a=(t.canvas,t.appState),i=(0,Ut.Z)(t,vo);return(0,P.w8)(bo(n),bo(a),{selectedElementIds:P.w8,selectedGroupIds:P.w8})&&(0,P.w8)(r,i)};const wo=m.memo(yo,xo);var ko=function(e){var t=e.message,n=e.onClose,r=e.closable,a=void 0!==r&&r,i=e.duration,o=void 0===i?5e3:i,l=(0,m.useRef)(0),s=o!==1/0,c=(0,m.useCallback)((function(){s&&(l.current=window.setTimeout((function(){return n()}),o))}),[n,o,s]);(0,m.useEffect)((function(){if(s)return c(),function(){return clearTimeout(l.current)}}),[c,t,o,s]);var u=s?function(){return clearTimeout(null===l||void 0===l?void 0:l.current)}:void 0,d=s?c:void 0;return(0,D.jsxs)("div",{className:"Toast",onMouseEnter:u,onMouseLeave:d,children:[(0,D.jsx)("p",{className:"Toast__message",children:t}),a&&(0,D.jsx)(E.V,{icon:L.Tw,"aria-label":"close",type:"icon",onClick:n,className:"close"})]})},Eo=(0,C.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.viewModeEnabled}},perform:function(e,t){return{appState:(0,v.Z)((0,v.Z)({},t),{},{viewModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.viewModeEnabled},predicate:function(e,t,n){return"undefined"===typeof n.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(e){return!e[k.tW.CTRL_OR_CMD]&&e.altKey&&e.code===k.aU.R}}),So=n(4473),Co=n(3071),Mo=n(8410),_o=n(5049),Zo=(0,d.Z)((function e(t){var n=this,r=t.scene,a=t.onSceneUpdated;(0,u.Z)(this,e),this.scene=void 0,this.onSceneUpdated=void 0,this.onFontsLoaded=function(t){if(t.every((function(t){var n="".concat(t.family,"-").concat(t.style,"-").concat(t.weight);return!!e.loadedFontFaces.has(n)||(e.loadedFontFaces.add(n),!1)})))return!1;var r=!1;n.scene.mapElements((function(e){return(0,M.iB)(e)&&!(0,j.Xh)(e)?(uo.R.delete(e),r=!0,(0,_.BE)(e,(0,v.Z)({},(0,M.JZ)(e)))):e})),r&&n.onSceneUpdated()},this.loadFontsForElements=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all((0,i.Z)(new Set(t.filter((function(e){return(0,M.iB)(e)})).map((function(e){return e})))).map((function(e){var t,n,r,a,i=(0,P.mO)({fontFamily:e.fontFamily,fontSize:16,fontWeight:e.fontWeight});if(null===(t=document.fonts)||void 0===t||null===(n=t.check)||void 0===n||!n.call(t,i))return null===(r=document.fonts)||void 0===r||null===(a=r.load)||void 0===a?void 0:a.call(r,i)})));case 2:r=e.sent,n.onFontsLoaded(r.flat().filter(Boolean));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.scene=r,this.onSceneUpdated=a}));Zo.loadedFontFaces=new Set;var Io=function(e,t){var n=t.scene.getSelectedElements(e);return 1===n.length&&"frame"===n[0].type},To=(0,C.z)({name:"selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t)[0];if(a&&"frame"===a.type){var i=(0,oe.wO)((0,M.Lm)(e),a.id).filter((function(e){return!("text"===e.type&&e.containerId)}));return{elements:e,appState:(0,v.Z)((0,v.Z)({},t),{},{selectedElementIds:i.reduce((function(e,t){return e[t.id]=!0,e}),{})}),commitToHistory:!1}}return{elements:e,appState:t,commitToHistory:!1}},contextItemLabel:"labels.selectAllElementsInFrame",predicate:function(e,t,n,r){return Io(t,r)}}),jo=(0,C.z)({name:"removeAllElementsFromFrame",trackEvent:{category:"history"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t)[0];return a&&"frame"===a.type?{elements:(0,oe.yZ)(e,a,t),appState:(0,v.Z)((0,v.Z)({},t),{},{selectedElementIds:(0,l.Z)({},a.id,!0)}),commitToHistory:!0}:{elements:e,appState:t,commitToHistory:!1}},contextItemLabel:"labels.removeAllElementsFromFrame",predicate:function(e,t,n,r){return Io(t,r)}}),Po=((0,C.z)({name:"updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t){return{elements:e,appState:(0,v.Z)((0,v.Z)({},t),{},{frameRendering:(0,v.Z)((0,v.Z)({},t.frameRendering),{},{enabled:!t.frameRendering.enabled})}),commitToHistory:!1}},contextItemLabel:"labels.updateFrameRendering",checked:function(e){return e.frameRendering.enabled}}),(0,C.z)({name:"setFrameAsActiveTool",trackEvent:{category:"toolbar"},perform:function(e,t,n,r){var a=(0,P.Om)(t,{type:"frame"});return(0,de.Uk)(r.interactiveCanvas,(0,v.Z)((0,v.Z)({},t),{},{activeTool:a})),{elements:e,appState:(0,v.Z)((0,v.Z)({},t),{},{activeTool:(0,P.Om)(t,{type:"frame"})}),commitToHistory:!1}},keyTest:function(e){return!e[k.tW.CTRL_OR_CMD]&&!e.shiftKey&&!e.altKey&&e.key.toLocaleLowerCase()===k.tW.F}}),function(e){return 8/e}),Lo=(0,d.Z)((function e(){(0,u.Z)(this,e)}));Lo.referenceSnapPoints=null,Lo.visibleGaps=null,Lo.setReferenceSnapPoints=function(e){Lo.referenceSnapPoints=e},Lo.getReferenceSnapPoints=function(){return Lo.referenceSnapPoints},Lo.setVisibleGaps=function(e){Lo.visibleGaps=e},Lo.getVisibleGaps=function(){return Lo.visibleGaps},Lo.destroy=function(){Lo.referenceSnapPoints=null,Lo.visibleGaps=null};var Do=function(e){var t=e.event,n=e.appState,r=e.selectedElements;return t?n.objectsSnapModeEnabled&&!t[k.tW.CTRL_OR_CMD]||!n.objectsSnapModeEnabled&&t[k.tW.CTRL_OR_CMD]&&null===n.gridSize:(1!==r.length||"arrow"!==r[0].type)&&n.objectsSnapModeEnabled},Oo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{omitCenter:!1,boundingBoxCorners:!1},n=t.omitCenter,r=t.boundingBoxCorners,a=t.dragOffset,i=[];if(1===e.length){var l=e[0],s=(0,Ve.qf)(l),c=(0,o.Z)(s,6),u=c[0],d=c[1],f=c[2],h=c[3],p=c[4],v=c[5];a&&(u+=a.x,f+=a.x,p+=a.x,d+=a.y,h+=a.y,v+=a.y);var m=(f-u)/2,g=(h-d)/2;if("diamond"!==l.type&&"ellipse"!==l.type||r){var y=(0,ue.xj)([u,d],[p,v],l.angle),b=(0,ue.xj)([f,d],[p,v],l.angle),x=(0,ue.xj)([u,h],[p,v],l.angle),w=(0,ue.xj)([f,h],[p,v],l.angle);i=n?[y,b,x,w]:[y,b,x,w,[p,v]]}else{var k=(0,ue.xj)([u,d+g],[p,v],l.angle),E=(0,ue.xj)([u+m,d],[p,v],l.angle),S=(0,ue.xj)([f,d+g],[p,v],l.angle),C=(0,ue.xj)([u+m,h],[p,v],l.angle);i=n?[k,E,S,C]:[k,E,S,C,[p,v]]}}else if(e.length>1){var M=(0,Ve.hC)(e,null!==a&&void 0!==a?a:{x:0,y:0}),_=(0,o.Z)(M,4),Z=_[0],I=_[1],T=_[2],j=_[3],P=[Z,I],L=[T,I],D=[Z,j],O=[T,j];i=n?[P,L,D,O]:[P,L,D,O,[Z+(T-Z)/2,I+(j-I)/2]]}return i.map((function(e){return[zo(e[0]),zo(e[1])]}))},Ro=function(e,t,n){var r=t.filter((function(e){return(0,j.He)(e)})).map((function(e){return e.id}));return(0,te.CF)(e,t,n).filter((function(e){return!(e.frameId&&r.includes(e.frameId))}))},Ao=function(e,t,n,r,i,l,s){if(!Do({appState:n,event:r,selectedElements:e}))return[];if(0===e.length)return[];var c=Lo.getVisibleGaps();if(c){var u,d=c.horizontalGaps,f=c.verticalGaps,h=(0,Ve.hC)(e,t).map((function(e){return zo(e)})),p=(0,o.Z)(h,4),v=p[0],m=p[1],g=p[2],y=p[3],b=(v+g)/2,x=(m+y)/2,w=(0,a.Z)(d);try{for(w.s();!(u=w.n()).done;){var k=u.value;if((0,ue.ep)([m,y],k.overlap)){var E=k.startSide[0][0]+k.length/2,S=zo(E-b);if(k.length>g-v&&Math.abs(S)<=s.x){Math.abs(S)<s.x&&(i.length=0),s.x=Math.abs(S);var C={type:"gap",direction:"center_horizontal",gap:k,offset:S};i.push(C)}else{var M=v-(0,o.Z)(k.endBounds,3)[2],_=zo(k.length-M);if(Math.abs(_)<=s.x){Math.abs(_)<s.x&&(i.length=0),s.x=Math.abs(_);var Z={type:"gap",direction:"side_right",gap:k,offset:_};i.push(Z)}else{var I=(0,o.Z)(k.startBounds,3)[0],T=zo(I-g-k.length);if(Math.abs(T)<=s.x){Math.abs(T)<s.x&&(i.length=0),s.x=Math.abs(T);var j={type:"gap",direction:"side_left",gap:k,offset:T};i.push(j)}else;}}}}}catch(K){w.e(K)}finally{w.f()}var P,L=(0,a.Z)(f);try{for(L.s();!(P=L.n()).done;){var D=P.value;if((0,ue.ep)([v,g],D.overlap)){var O=D.startSide[0][1]+D.length/2,R=zo(O-x);if(D.length>y-m&&Math.abs(R)<=s.y){Math.abs(R)<s.y&&(l.length=0),s.y=Math.abs(R);var A={type:"gap",direction:"center_vertical",gap:D,offset:R};l.push(A)}else{var N=(0,o.Z)(D.startBounds,3)[1],z=zo(N-y-D.length);if(Math.abs(z)<=s.y){Math.abs(z)<s.y&&(l.length=0),s.y=Math.abs(z);var B={type:"gap",direction:"side_top",gap:D,offset:z};l.push(B)}else{var F=(0,o.Z)(D.endBounds,4)[3],H=zo(m-F),W=D.length-H;if(Math.abs(W)<=s.y){Math.abs(W)<s.y&&(l.length=0),s.y=Math.abs(W);var U={type:"gap",direction:"side_bottom",gap:D,offset:W};l.push(U)}else;}}}}}catch(K){L.e(K)}finally{L.f()}}},No=function(e,t,n,r,i,o,l){if(!Do({appState:n,event:r,selectedElements:e})||0===e.length&&0===t.length)return[];var s=Lo.getReferenceSnapPoints();if(s){var c,u=(0,a.Z)(t);try{for(u.s();!(c=u.n()).done;){var d,f=c.value,h=(0,a.Z)(s);try{for(h.s();!(d=h.n()).done;){var p=d.value,v=p[0]-f[0],m=p[1]-f[1];Math.abs(v)<=l.x&&(Math.abs(v)<l.x&&(i.length=0),i.push({type:"point",points:[f,p],offset:v}),l.x=Math.abs(v)),Math.abs(m)<=l.y&&(Math.abs(m)<l.y&&(o.length=0),o.push({type:"point",points:[f,p],offset:m}),l.y=Math.abs(m))}}catch(g){h.e(g)}finally{h.f()}}}catch(g){u.e(g)}finally{u.f()}}},zo=function(e){return Math.round(e*Math.pow(10,6))/Math.pow(10,6)},Bo=function(e){var t,n=new Map,r=(0,a.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.join(",");n.has(o)||n.set(o,i)}}catch(l){r.e(l)}finally{r.f()}return Array.from(n.values())},Fo=function(e,t){var n={},r={};if(e.length>0){var l,s=(0,a.Z)(e);try{for(s.s();!(l=s.n()).done;){var c=l.value;if("point"===c.type){var u,d=zo(c.points[0][0]);n[d]||(n[d]=[]),(u=n[d]).push.apply(u,(0,i.Z)(c.points.map((function(e){return[zo(e[0]),zo(e[1])]}))))}}}catch(g){s.e(g)}finally{s.f()}}if(t.length>0){var f,h=(0,a.Z)(t);try{for(h.s();!(f=h.n()).done;){var p=f.value;if("point"===p.type){var v,m=zo(p.points[0][1]);r[m]||(r[m]=[]),(v=r[m]).push.apply(v,(0,i.Z)(p.points.map((function(e){return[zo(e[0]),zo(e[1])]}))))}}}catch(g){h.e(g)}finally{h.f()}}return Object.entries(n).map((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return{type:"points",points:Bo(r.map((function(e){return[Number(n),e[1]]})).sort((function(e,t){return e[1]-t[1]})))}})).concat(Object.entries(r).map((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return{type:"points",points:Bo(r.map((function(e){return[e[0],Number(n)]})).sort((function(e,t){return e[0]-t[0]})))}})))},Ho=function(e,t,n){var r,i=(0,Ve.hC)(e,t),l=(0,o.Z)(i,4),s=l[0],c=l[1],u=l[2],d=l[3],f=[],h=(0,a.Z)(n);try{for(h.s();!(r=h.n()).done;){var p=r.value,m=(0,o.Z)(p.gap.startBounds,4),g=m[0],y=m[1],b=m[2],x=m[3],w=(0,o.Z)(p.gap.endBounds,4),k=w[0],E=w[1],S=w[2],C=w[3],M=(0,ue.mW)([c,d],p.gap.overlap),_=(0,ue.mW)([s,u],p.gap.overlap);switch(p.direction){case"center_horizontal":if(M){var Z=(M[0]+M[1])/2;f.push({type:"gap",direction:"horizontal",points:[[p.gap.startSide[0][0],Z],[s,Z]]},{type:"gap",direction:"horizontal",points:[[u,Z],[p.gap.endSide[0][0],Z]]})}break;case"center_vertical":if(_){var I=(_[0]+_[1])/2;f.push({type:"gap",direction:"vertical",points:[[I,p.gap.startSide[0][1]],[I,c]]},{type:"gap",direction:"vertical",points:[[I,d],[I,p.gap.endSide[0][1]]]})}break;case"side_right":if(M){var T=(M[0]+M[1])/2;f.push({type:"gap",direction:"horizontal",points:[[b,T],[k,T]]},{type:"gap",direction:"horizontal",points:[[S,T],[s,T]]})}break;case"side_left":if(M){var j=(M[0]+M[1])/2;f.push({type:"gap",direction:"horizontal",points:[[u,j],[g,j]]},{type:"gap",direction:"horizontal",points:[[b,j],[k,j]]})}break;case"side_top":if(_){var P=(_[0]+_[1])/2;f.push({type:"gap",direction:"vertical",points:[[P,d],[P,y]]},{type:"gap",direction:"vertical",points:[[P,x],[P,E]]})}break;case"side_bottom":if(_){var L=(_[0]+_[1])/2;f.push({type:"gap",direction:"vertical",points:[[L,x],[L,E]]},{type:"gap",direction:"vertical",points:[[L,C],[L,c]]})}}}}catch(D){h.e(D)}finally{h.f()}return function(e){var t,n=new Map,r=(0,a.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.points.flat().map((function(e){return[zo(e)]})).join(",");n.has(o)||n.set(o,i)}}catch(D){r.e(D)}finally{r.f()}return Array.from(n.values())}(f.map((function(e){return(0,v.Z)((0,v.Z)({},e),{},{points:e.points.map((function(e){return[zo(e[0]),zo(e[1])]}))})})))},Wo=function(e,t,n,r,a,i){var l,s,c,u;if(!Do({event:r,selectedElements:e,appState:n})||0===e.length||1===e.length&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}(e[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};var d=(0,Ve.KP)(t),f=(0,o.Z)(d,4),h=f[0],p=f[1],v=f[2],m=f[3];i&&(i.includes("e")?v+=a.x:i.includes("w")&&(h+=a.x),i.includes("n")?p+=a.y:i.includes("s")&&(m+=a.y));var g=[];if(i)switch(i){case"e":g.push([v,p],[v,m]);break;case"w":g.push([h,p],[h,m]);break;case"n":g.push([h,p],[v,p]);break;case"s":g.push([h,m],[v,m]);break;case"ne":g.push([v,p]);break;case"nw":g.push([h,p]);break;case"se":g.push([v,m]);break;case"sw":g.push([h,m])}var y=Po(n.zoom.value),b={x:y,y:y},x=[],w=[];No(t,g,n,r,x,w,b);var k={x:null!==(l=null===(s=x[0])||void 0===s?void 0:s.offset)&&void 0!==l?l:0,y:null!==(c=null===(u=w[0])||void 0===u?void 0:u.offset)&&void 0!==c?c:0};b.x=0,b.y=0,x.length=0,w.length=0;var E=(0,Ve.KP)(e).map((function(e){return zo(e)})),S=(0,o.Z)(E,4),C=S[0],M=S[1],_=S[2],Z=S[3];return No(e,[[C,M],[C,Z],[_,M],[_,Z]],n,r,x,w,b),{snapOffset:k,snapLines:Fo(x,w)}};const Uo=function(){return(0,D.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,D.jsx)("p",{children:(0,D.jsx)(Rn,{i18nKey:"errors.brave_measure_text_error.line1",bold:function(e){return(0,D.jsx)("span",{style:{fontWeight:600},children:e})}})}),(0,D.jsx)("p",{children:(0,D.jsx)(Rn,{i18nKey:"errors.brave_measure_text_error.line2",bold:function(e){return(0,D.jsx)("span",{style:{fontWeight:600},children:e})}})}),(0,D.jsx)("p",{children:(0,D.jsx)(Rn,{i18nKey:"errors.brave_measure_text_error.line3",link:function(e){return(0,D.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:e})}})}),(0,D.jsx)("p",{children:(0,D.jsx)(Rn,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:function(e){return(0,D.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:e})},discordLink:function(e){return(0,D.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[e,"."]})}})})]})};var Ko=n(9525),Vo=100,Yo=0,Go=100,Xo=function(e,t){var n=(0,Ue.VL)((0,v.Z)((0,v.Z)({x:0,y:0,textAlign:q.I8.CENTER,verticalAlign:q.oX.MIDDLE},t),{},{containerId:e.id,strokeColor:t.strokeColor||e.strokeColor}));return Object.assign(e,{boundElements:(e.boundElements||[]).concat({type:"text",id:n.id})}),(0,M.oN)(n,e),[e,n]},qo=function(e,t,n,r){var a,i;if(Object.assign(e,{startBinding:(null===e||void 0===e?void 0:e.startBinding)||null,endBinding:e.endBinding||null}),t){var o,l,s,c=null!==(o=null===t||void 0===t?void 0:t.width)&&void 0!==o?o:Go,u=null!==(l=null===t||void 0===t?void 0:t.height)&&void 0!==l?l:Go;t.id&&((s=r.getElement(t.id))||console.error("No element for start binding with id ".concat(t.id," found")));var d=t.x||e.x-c,f=t.y||e.y-u/2,h=s?s.type:t.type;if(h){if("text"===h){var p="";s&&"text"===s.type?p=s.text:"text"===t.type&&(p=t.text),p||console.error("No text found for start binding text element for ".concat(e.id)),a=(0,Ue.VL)((0,v.Z)((0,v.Z)((0,v.Z)({x:d,y:f,type:"text"},s),t),{},{text:p})),Object.assign(a,{x:t.x||e.x-a.width,y:t.y||e.y-a.height/2})}else switch(h){case"rectangle":case"ellipse":case"diamond":a=(0,M.Up)((0,v.Z)((0,v.Z)((0,v.Z)({x:d,y:f,width:c,height:u},s),t),{},{type:h}));break;default:(0,P.vE)(e,'Unhandled element start type "'.concat(t.type,'"'),!0)}(0,T.UZ)(e,a,"start")}}if(n){var m,g,y,b=null!==(m=null===n||void 0===n?void 0:n.height)&&void 0!==m?m:Go,x=null!==(g=null===n||void 0===n?void 0:n.width)&&void 0!==g?g:Go;n.id&&((y=r.getElement(n.id))||console.error("No element for end binding with id ".concat(n.id," found")));var w=n.x||e.x+e.width,k=n.y||e.y-b/2,E=y?y.type:n.type;if(E){if("text"===E){var S="";y&&"text"===y.type?S=y.text:"text"===n.type&&(S=n.text),S||console.error("No text found for end binding text element for ".concat(e.id)),i=(0,Ue.VL)((0,v.Z)((0,v.Z)((0,v.Z)({x:w,y:k,type:"text"},y),n),{},{text:S})),Object.assign(i,{y:n.y||e.y-i.height/2})}else switch(E){case"rectangle":case"ellipse":case"diamond":i=(0,M.Up)((0,v.Z)((0,v.Z)((0,v.Z)({x:w,y:k,width:x,height:b},y),n),{},{type:E}));break;default:(0,P.vE)(e,'Unhandled element end type "'.concat(E,'"'),!0)}(0,T.UZ)(e,i,"end")}}var C=e.points.length-1,_=.5,Z=JSON.parse(JSON.stringify(e.points));return e.points[C][0]>e.points[C-1][0]&&(Z[0][0]=_,Z[C][0]-=_),e.points[C][0]<e.points[C-1][0]&&(Z[0][0]=-.5,Z[C][0]+=_),e.points[C][1]>e.points[C-1][1]&&(Z[0][1]=_,Z[C][1]-=_),e.points[C][1]<e.points[C-1][1]&&(Z[0][1]=-.5,Z[C][1]+=_),Object.assign(e,{points:Z}),{linearElement:e,startBoundElement:a,endBoundElement:i}},$o=(0,d.Z)((function e(){var t=this;(0,u.Z)(this,e),this.excalidrawElements=new Map,this.add=function(e){e&&t.excalidrawElements.set(e.id,e)},this.getElements=function(){return Array.from(t.excalidrawElements.values())},this.getElement=function(e){return t.excalidrawElements.get(e)}})),Qo=function(e,t){if(!e)return[];var n,r=JSON.parse(JSON.stringify(e)),i=new $o,l=new Map,s=new Map,c=(0,a.Z)(r);try{for(c.s();!(n=c.n()).done;){var u=n.value,d=void 0,f=u.id;switch(!1!==(null===t||void 0===t?void 0:t.regenerateIds)&&Object.assign(u,{id:(0,Ae.kb)()}),u.type){case"rectangle":case"ellipse":case"diamond":var h,p,m=null!==u&&void 0!==u&&null!==(h=u.label)&&void 0!==h&&h.text&&void 0===u.width?0:(null===u||void 0===u?void 0:u.width)||Go,g=null!==u&&void 0!==u&&null!==(p=u.label)&&void 0!==p&&p.text&&void 0===u.height?0:(null===u||void 0===u?void 0:u.height)||Go;d=(0,M.Up)((0,v.Z)((0,v.Z)({},u),{},{width:m,height:g}));break;case"line":var y=u.width||Vo,b=u.height||Yo;d=(0,M.y8)((0,v.Z)({width:y,height:b,points:[[0,0],[y,b]]},u));break;case"arrow":var x=u.width||Vo,w=u.height||Yo;d=(0,M.y8)((0,v.Z)({width:x,height:w,endArrowhead:"arrow",points:[[0,0],[x,w]]},u)),Object.assign(d,(0,Ko.k)(d.points));break;case"text":var k,E=(null===u||void 0===u?void 0:u.fontFamily)||q.rk,S=(null===u||void 0===u?void 0:u.fontSize)||q.n5,C=(null===u||void 0===u?void 0:u.fontWeight)||q.P3,_=(null===u||void 0===u?void 0:u.lineHeight)||(0,re.PT)(E),Z=null!==(k=u.text)&&void 0!==k?k:"",I=(0,re.bG)(Z),T=(0,re.X1)(I,(0,P.mO)({fontFamily:E,fontSize:S,fontWeight:C}),_);d=(0,Ue.VL)((0,v.Z)({width:T.width,height:T.height,fontFamily:E,fontWeight:C,fontSize:S},u));break;case"image":d=(0,Ue.vw)((0,v.Z)({width:(null===u||void 0===u?void 0:u.width)||Go,height:(null===u||void 0===u?void 0:u.height)||Go},u));break;case"freedraw":case"frame":case"embeddable":d=u;break;default:d=u,(0,P.vE)(u,'Unhandled element type "'.concat(u.type,'"'),!0)}i.getElement(d.id)?console.error("Duplicate id found for ".concat(d.id)):(i.add(d),l.set(d.id,u),f&&s.set(f,d.id))}}catch(le){c.e(le)}finally{c.f()}var j,L=(0,a.Z)(l);try{for(L.s();!(j=L.n()).done;){var D=(0,o.Z)(j.value,2),O=D[0],R=D[1],A=i.getElement(O);switch(R.type){case"rectangle":case"ellipse":case"diamond":case"arrow":var N;if(null!==(N=R.label)&&void 0!==N&&N.text){var z=Xo(A,null===R||void 0===R?void 0:R.label),B=(0,o.Z)(z,2),F=B[0],H=B[1];if(i.add(F),i.add(H),"arrow"===F.type){var W="arrow"===R.type?null===R||void 0===R?void 0:R.start:void 0,U="arrow"===R.type?null===R||void 0===R?void 0:R.end:void 0;if(W&&W.id){var K=s.get(W.id);K&&Object.assign(W,{id:K})}if(U&&U.id){var V=s.get(U.id);V&&Object.assign(U,{id:V})}var Y=qo(F,W,U,i),G=Y.linearElement,X=Y.startBoundElement,$=Y.endBoundElement;F=G,i.add(G),i.add(X),i.add($)}}else if("arrow"===R.type){var Q=R.start,J=R.end;if(Q&&Q.id){var ee=s.get(Q.id);Object.assign(Q,{id:ee})}if(J&&J.id){var te=s.get(J.id);Object.assign(J,{id:te})}var ne=qo(A,Q,J,i),ae=ne.linearElement,ie=ne.startBoundElement,oe=ne.endBoundElement;i.add(ae),i.add(ie),i.add(oe)}}}}catch(le){L.e(le)}finally{L.f()}return i.getElements()},Jo=n(8841),el=function(e){var t=(0,m.useRef)(!1);return(0,m.useEffect)((function(){var n;if(t.current){var r={},a={},i={},o={},l={};e.appState.collaborators.forEach((function(t,n){if(t.selectedElementIds)for(var s=0,c=Object.keys(t.selectedElementIds);s<c.length;s++){var u=c[s];u in i||(i[u]=[]),i[u].push(n)}t.pointer&&(t.username&&(o[n]=t.username),t.userState&&(l[n]=t.userState),a[n]=(0,P._i)({sceneX:t.pointer.x,sceneY:t.pointer.y},e.appState),r[n]=t.button)}));var s=(null===(n=e.containerRef)||void 0===n?void 0:n.current)&&getComputedStyle(e.containerRef.current).getPropertyValue("--color-selection")||"#6965db";(0,Jo.tp)({canvas:e.canvas,elements:e.elements,visibleElements:e.visibleElements,selectedElements:e.selectedElements,scale:window.devicePixelRatio,appState:e.appState,renderConfig:{remotePointerViewportCoords:a,remotePointerButton:r,remoteSelectedElementIds:i,remotePointerUsernames:o,remotePointerUserStates:l,selectionColor:s,renderScrollbars:!1},callback:e.renderInteractiveSceneCallback},(0,P.G9)())}else t.current=!0})),(0,D.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:e.appState.width,height:e.appState.height,cursor:e.appState.viewModeEnabled?q.oc.GRAB:q.oc.AUTO},width:e.appState.width*e.scale,height:e.appState.height*e.scale,ref:e.handleCanvasRef,onContextMenu:e.onContextMenu,onPointerMove:e.onPointerMove,onPointerUp:e.onPointerUp,onPointerCancel:e.onPointerCancel,onTouchMove:e.onTouchMove,onPointerDown:e.onPointerDown,onDoubleClick:e.appState.viewModeEnabled?void 0:e.onDoubleClick,children:(0,S.t)("labels.drawingCanvas")})},tl=function(e){return{zoom:e.zoom,scrollX:e.scrollX,scrollY:e.scrollY,width:e.width,height:e.height,viewModeEnabled:e.viewModeEnabled,editingGroupId:e.editingGroupId,editingLinearElement:e.editingLinearElement,selectedElementIds:e.selectedElementIds,frameToHighlight:e.frameToHighlight,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,theme:e.theme,pendingImageElementId:e.pendingImageElementId,selectionElement:e.selectionElement,selectedGroupIds:e.selectedGroupIds,selectedLinearElement:e.selectedLinearElement,multiElement:e.multiElement,isBindingEnabled:e.isBindingEnabled,suggestedBindings:e.suggestedBindings,isRotating:e.isRotating,elementsToHighlight:e.elementsToHighlight,openSidebar:e.openSidebar,showHyperlinkPopup:e.showHyperlinkPopup,collaborators:e.collaborators,activeEmbeddable:e.activeEmbeddable,snapLines:e.snapLines,zenModeEnabled:e.zenModeEnabled}},nl=function(e,t){return e.selectionNonce===t.selectionNonce&&e.versionNonce===t.versionNonce&&e.scale===t.scale&&e.elements===t.elements&&e.visibleElements===t.visibleElements&&e.selectedElements===t.selectedElements&&(0,P.w8)(tl(e.appState),tl(t.appState))};const rl=m.memo(el,nl);var al=function(e){var t=(0,m.useRef)(null),n=(0,m.useRef)(!1);return(0,m.useEffect)((function(){var r=t.current;if(r){var a=e.canvas;n.current||(n.current=!0,r.replaceChildren(a),a.classList.add("excalidraw__canvas","static"));var i="".concat(e.appState.width,"px"),o="".concat(e.appState.height,"px");a.style.width!==i&&(a.style.width=i),a.style.height!==o&&(a.style.height=o);var l=e.appState.width*e.scale,s=e.appState.height*e.scale;a.width!==l&&(a.width=l),a.height!==s&&(a.height=s),(0,Jo.AW)({canvas:a,rc:e.rc,scale:e.scale,elements:e.elements,visibleElements:e.visibleElements,appState:e.appState,renderConfig:e.renderConfig},(0,P.G9)())}})),(0,D.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:t})},il=function(e){return{zoom:e.zoom,scrollX:e.scrollX,scrollY:e.scrollY,width:e.width,height:e.height,viewModeEnabled:e.viewModeEnabled,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,theme:e.theme,pendingImageElementId:e.pendingImageElementId,shouldCacheIgnoreZoom:e.shouldCacheIgnoreZoom,viewBackgroundColor:e.viewBackgroundColor,exportScale:e.exportScale,selectedElementsAreBeingDragged:e.selectedElementsAreBeingDragged,gridSize:e.gridSize,frameRendering:e.frameRendering,selectedElementIds:e.selectedElementIds,frameToHighlight:e.frameToHighlight,editingGroupId:e.editingGroupId}},ol=function(e,t){return e.versionNonce===t.versionNonce&&e.scale===t.scale&&e.elements===t.elements&&e.visibleElements===t.visibleElements&&((0,P.w8)(il(e.appState),il(t.appState))&&(0,P.w8)(e.renderConfig,t.renderConfig))};const ll=m.memo(al,ol);var sl=function(){function e(t){var n=this;(0,u.Z)(this,e),this.scene=void 0,this.getRenderableElements=(0,P.HP)((function(e){var t=e.zoom,r=e.offsetLeft,a=e.offsetTop,i=e.scrollX,o=e.scrollY,l=e.height,s=e.width,c=e.editingElement,u=e.pendingImageElementId,d=(e.versionNonce,function(e){var t=e.editingElement,n=e.elements,r=e.pendingImageElementId;return n.filter((function(e){return(!(0,j.pC)(e)||r!==e.id)&&(!t||"text"!==t.type||e.id!==t.id)}))}({elements:n.scene.getNonDeletedElements(),editingElement:c,pendingImageElementId:u})),f=function(e){var t=e.elements,n=e.zoom,r=e.offsetLeft,a=e.offsetTop,i=e.scrollX,o=e.scrollY,l=e.height,s=e.width;return t.filter((function(e){return(0,Ot.PZ)(e,s,l,{zoom:n,offsetLeft:r,offsetTop:a,scrollX:i,scrollY:o})}))}({elements:d,zoom:t,offsetLeft:r,offsetTop:a,scrollX:i,scrollY:o,height:l,width:s});return{canvasElements:d,visibleElements:f}})),this.scene=t}return(0,d.Z)(e,[{key:"destroy",value:function(){(0,Jo.n_)(),this.getRenderableElements.clear()}}]),e}(),cl=function(e){var t=e.manager,n=(0,m.useRef)(null);return(0,m.useEffect)((function(){return n.current&&t.start(n.current),function(){t.stop()}}),[t]),(0,D.jsx)("div",{className:"LaserToolOverlay",children:(0,D.jsx)("svg",{ref:n,className:"LaserToolOverlayCanvas"})})};var ul,dl,fl,hl;function pl(e,t){var n=(0,o.Z)(e,3),r=n[0],a=n[1],i=n[2],l=(0,o.Z)(t,3);return[r+l[0],a+l[1],i+l[2]]}function vl(e,t){var n=(0,o.Z)(e,3),r=n[0],a=n[1],i=n[2],l=(0,o.Z)(t,3);return[r-l[0],a-l[1],i-l[2]]}function ml(e,t){var n=(0,o.Z)(e,3);return[n[0]*t,n[1]*t,n[2]*t]}function gl(e){var t=(0,o.Z)(e,3),n=t[0],r=t[1],a=t[2];return[n/Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),r/Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),a]}function yl(e,t){var n=(0,o.Z)(e,3),r=n[0],a=n[1],i=n[2];return[Math.cos(t)*r-Math.sin(t)*a,Math.sin(t)*r+Math.cos(t)*a,i]}function bl(e,t,n){return Math.atan2(n[1]-e[1],n[0]-e[0])-Math.atan2(t[1]-e[1],t[0]-e[0])}function xl(e){return Math.atan2(Math.sin(e),Math.cos(e))}function wl(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function kl(e,t){var n=(0,o.Z)(e,2),r=n[0],a=n[1],i=(0,o.Z)(t,2),l=i[0],s=i[1];return Math.sqrt(Math.pow(l-r,2)+Math.pow(s-a,2))}ul={},dl="LaserPointer",fl=function(){return Ml},Object.defineProperty(ul,dl,{get:fl,set:hl,enumerable:!0,configurable:!0});var El=function(e,t,n){return Math.max(t,Math.min(n,e))};function Sl(e,t,n){var r=kl(t,n);if(0===r)return kl(e,t);var a=El(((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/Math.pow(r,2),0,1);return kl([t[0]+a*(n[0]-t[0]),t[1]+a*(n[1]-t[1]),e[2]],e)}function Cl(e,t){if(0===t)return e;if(e.length<=2)return e;var n=e[0],r=e[e.length-1],a=e.reduce((function(e,t,a){var i=(0,o.Z)(e,2),l=i[0],s=i[1],c=Sl(t,n,r);return c>l?[c,a]:[l,s]}),[0,-1]),l=(0,o.Z)(a,2),s=l[0],c=l[1];if(s>=t){var u=e[c];return[].concat((0,i.Z)(Cl([n].concat((0,i.Z)(e.slice(1,c)),[u]),t).slice(0,-1)),[u],(0,i.Z)(Cl([u].concat((0,i.Z)(e.slice(c,-1)),[r]),t).slice(1)))}return[n,r]}var Ml=function(){function e(t){(0,u.Z)(this,e),this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},e.defaults,t)}return(0,d.Z)(e,[{key:"lastPoint",get:function(){var e;return null!==(e=this.tailPoints[this.tailPoints.length-1])&&void 0!==e?e:this.stablePoints[this.stablePoints.length-1]}},{key:"addPoint",value:function(t){var n=this.originalPoints[this.originalPoints.length-1];if(!n||n[0]!==t[0]||n[1]!==t[1]){if(this.originalPoints.push(t),this.isFresh)return this.isFresh=!1,void this.stablePoints.push(t);var r,a,i;this.options.streamline>0&&(r=this.lastPoint,a=t,i=1-this.options.streamline,t=pl(r,ml(vl(a,r),i))),this.tailPoints.push(t),function(e){if(e.length<2)return 0;for(var t=0,n=1;n<=e.length-1;n++)t+=kl(e[n-1],e[n]);return t+kl(e[e.length-2],e[e.length-1])}(this.tailPoints)>e.constants.maxTailLength&&this.stabilizeTail()}}},{key:"close",value:function(){this.stabilizeTail()}},{key:"stabilizeTail",value:function(){if(this.options.simplify>0&&"tail"==this.options.simplifyPhase)throw new Error("Not implemented yet");var e;(e=this.stablePoints).push.apply(e,(0,i.Z)(this.tailPoints)),this.tailPoints=[]}},{key:"getSize",value:function(e,t,n,r,a){return(null!==e&&void 0!==e?e:this.options.size)*this.options.sizeMapping({pressure:t,runningLength:a,currentIndex:n,totalLength:r})}},{key:"getStrokeOutline",value:function(t){if(this.isFresh)return[];var n=[].concat((0,i.Z)(this.stablePoints),(0,i.Z)(this.tailPoints));this.options.simplify>0&&"input"===this.options.simplifyPhase&&(n=Cl(n,this.options.simplify));var r=n.length;if(0===r)return[];if(1===r){for(var a=n[0],o=[],l=0;l<=2*Math.PI;l+=Math.PI/16)o.push(pl(a,ml(yl([1,0,0],l),this.getSize(t,a[2],0,r,0))));return o.push(pl(a,ml([1,0,0],this.getSize(t,a[2],0,r,0)))),o}if(2===r){for(var s=n[0],c=n[1],u=[],d=bl(s,[s[0],s[1]-100,s[2]],c),f=d;f<=Math.PI+d;f+=Math.PI/16)u.push(pl(s,ml(yl([1,0,0],f),this.getSize(t,s[2],0,r,0))));for(var h=Math.PI+d;h<=2*Math.PI+d;h+=Math.PI/16)u.push(pl(c,ml(yl([1,0,0],h),this.getSize(t,c[2],0,r,0))));return u.push(u[0]),u}for(var p=[],v=[],m=0,g=0,y=0,b=0,x=1;x<r-1;x++){var w=n[x-1],k=n[x],E=n[x+1],S=k[2],C=kl(w,k);b+=C,m=g+.2*(C-g);var M=this.getSize(t,S,x,r,b);if(0!==M){var _=gl(vl(w,k)),Z=gl(vl(E,k)),I=yl(_,Math.PI/2),T=yl(_,-Math.PI/2),j=yl(Z,Math.PI/2),P=yl(Z,-Math.PI/2),L=pl(k,ml(I,M)),D=pl(k,ml(T,M)),O=pl(k,ml(j,M)),R=pl(k,ml(P,M)),A=pl(I,P),N=pl(T,j),z=pl(k,ml(0===wl(A)?_:gl(A),M)),B=pl(k,ml(0===wl(N)?Z:gl(N),M)),F=xl(bl(k,w,E)),H=e.constants.cornerDetectionMaxAngle/180*Math.PI*e.constants.cornerDetectionVariance(m);if(Math.abs(F)<H){var W=Math.abs(xl(Math.PI-F));if(0===W)continue;if(F<0){v.push(D,B);for(var U=0;U<=W;U+=W/4)p.push(pl(k,yl(ml(I,M),U)));for(var K=W;K>=0;K-=W/4)v.push(pl(k,yl(ml(I,M),K)));v.push(B,O)}else{p.push(L,z);for(var V=0;V<=W;V+=W/4)v.push(pl(k,yl(ml(I,-M),-V)));for(var Y=W;Y>=0;Y-=W/4)p.push(pl(k,yl(ml(I,-M),-Y)));p.push(z,R)}}else p.push(z),v.push(B);g=m}else y=x+1}var G=n[y],X=n[y+1],q=n[r-2],$=n[r-1];if(y>=r-2)return[];for(var Q=gl(vl(X,G)),J=gl(vl(q,$)),ee=yl(Q,-Math.PI/2),te=yl(J,Math.PI/2),ne=this.getSize(t,G[2],0,r,0),re=[],ae=this.getSize(t,q[2],r-2,r,b),ie=[],oe=0;oe<=Math.PI;oe+=Math.PI/16)re.unshift(pl(G,yl(ml(ee,ne),-oe)));re.unshift(pl(G,ml(ee,-ne)));for(var le=0;le<=Math.PI;le+=Math.PI/16)ie.push(pl($,yl(ml(te,-ae),-le)));var se=[].concat(re,p,(0,i.Z)(ie.reverse()),(0,i.Z)(v.reverse()));return re.length>0&&se.push(re[0]),this.options.simplify>0&&"output"===this.options.simplifyPhase?Cl(se,this.options.simplify):se}}]),e}(),_l=(Ml.defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",sizeMapping:function(){return 1}},Ml.constants={cornerDetectionMaxAngle:120,cornerDetectionVariance:function(e){return e>35?.5:1},maxTailLength:50},1e3),Zl=function(e,t){return(e+t)/2};function Il(e){return 1-Math.pow(1-e,3)}function Tl(){return{currentPath:void 0,finishedPaths:[],lastPoint:[-1e4,-1e4],svg:document.createElementNS("http://www.w3.org/2000/svg","path")}}function jl(){return Ml.constants.cornerDetectionMaxAngle=70,new Ml({simplify:0,streamline:.4,sizeMapping:function(e){var t=Math.max(0,1-(performance.now()-e.pressure)/1e3),n=(50-Math.min(50,e.totalLength-e.currentIndex))/50;return Math.min(Il(n),Il(t))}})}var Pl=function(){function e(t){(0,u.Z)(this,e),this.app=t,this.ownState=void 0,this.collaboratorsState=new Map,this.rafId=void 0,this.isDrawing=!1,this.container=void 0,this.isRunning=!1,this.ownState=Tl()}return(0,d.Z)(e,[{key:"destroy",value:function(){this.stop(),this.isDrawing=!1,this.ownState=Tl(),this.collaboratorsState=new Map}},{key:"startPath",value:function(e,t){this.ownState.currentPath=jl(),this.ownState.currentPath.addPoint([e,t,performance.now()]),this.updatePath(this.ownState)}},{key:"addPointToPath",value:function(e,t){var n;this.ownState.currentPath&&(null===(n=this.ownState.currentPath)||void 0===n||n.addPoint([e,t,performance.now()]),this.updatePath(this.ownState))}},{key:"endPath",value:function(){this.ownState.currentPath&&(this.ownState.currentPath.close(),this.ownState.finishedPaths.push(this.ownState.currentPath),this.updatePath(this.ownState))}},{key:"updatePath",value:function(e){this.isDrawing=!0,this.isRunning||this.start()}},{key:"start",value:function(e){e&&(this.container=e,this.container.appendChild(this.ownState.svg)),this.stop(),this.isRunning=!0,this.loop()}},{key:"stop",value:function(){this.isRunning=!1,this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=void 0}},{key:"loop",value:function(){this.rafId=requestAnimationFrame(this.loop.bind(this)),this.updateCollabolatorsState(),this.isDrawing?this.update():this.isRunning=!1}},{key:"draw",value:function(e){var t=this;return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.length;if(n<4)return"";for(var r=e[0],a=e[1],i=e[2],o="M".concat(r[0].toFixed(2),",").concat(r[1].toFixed(2)," Q").concat(a[0].toFixed(2),",").concat(a[1].toFixed(2)," ").concat(Zl(a[0],i[0]).toFixed(2),",").concat(Zl(a[1],i[1]).toFixed(2)," T"),l=2,s=n-1;l<s;l++)r=e[l],a=e[l+1],o+="".concat(Zl(r[0],a[0]).toFixed(2),",").concat(Zl(r[1],a[1]).toFixed(2)," ");return t&&(o+="Z"),o}(e.getStrokeOutline(e.options.size/this.app.state.zoom.value).map((function(e){var n=(0,o.Z)(e,2),r=n[0],a=n[1],i=(0,P._i)({sceneX:r,sceneY:a},t.app.state);return[i.x,i.y]})),!0)}},{key:"updateCollabolatorsState",value:function(){if(this.container&&this.app.state.collaborators.size){var e,t=(0,a.Z)(this.app.state.collaborators.entries());try{for(t.s();!(e=t.n()).done;){var n=(0,o.Z)(e.value,2),r=n[0],i=n[1];if(!this.collaboratorsState.has(r)){var l=Tl();this.container.appendChild(l.svg),this.collaboratorsState.set(r,l),this.updatePath(l)}var s=this.collaboratorsState.get(r);i.pointer&&"laser"===i.pointer.tool&&("down"===i.button&&void 0===s.currentPath&&(s.lastPoint=[i.pointer.x,i.pointer.y],s.currentPath=jl(),s.currentPath.addPoint([i.pointer.x,i.pointer.y,performance.now()]),this.updatePath(s)),"down"===i.button&&void 0!==s.currentPath&&(i.pointer.x===s.lastPoint[0]&&i.pointer.y===s.lastPoint[1]||(s.lastPoint=[i.pointer.x,i.pointer.y],s.currentPath.addPoint([i.pointer.x,i.pointer.y,performance.now()]),this.updatePath(s))),"up"===i.button&&void 0!==s.currentPath&&(s.lastPoint=[i.pointer.x,i.pointer.y],s.currentPath.addPoint([i.pointer.x,i.pointer.y,performance.now()]),s.currentPath.close(),s.finishedPaths.push(s.currentPath),s.currentPath=void 0,this.updatePath(s)))}}catch(c){t.e(c)}finally{t.f()}}}},{key:"update",value:function(){var e=this;if(this.container){var t,n=!1,r=(0,a.Z)(this.collaboratorsState.entries());try{for(r.s();!(t=r.n()).done;){var i=(0,o.Z)(t.value,2),l=i[0],s=i[1];if(this.app.state.collaborators.has(l)){s.finishedPaths=s.finishedPaths.filter((function(e){var t=e.originalPoints[e.originalPoints.length-1];return!(t&&t[2]<performance.now()-_l)}));var c=s.finishedPaths.map((function(t){return e.draw(t)})).join(" ");s.currentPath&&(c+=" ".concat(this.draw(s.currentPath))),c.trim()&&(n=!0),s.svg.setAttribute("d",c),s.svg.setAttribute("fill",(0,Fe.G)(l))}else s.svg.remove(),this.collaboratorsState.delete(l)}}catch(d){r.e(d)}finally{r.f()}this.ownState.finishedPaths=this.ownState.finishedPaths.filter((function(e){var t=e.originalPoints[e.originalPoints.length-1];return!(t&&t[2]<performance.now()-_l)}));var u=this.ownState.finishedPaths.map((function(t){return e.draw(t)})).join(" ");this.ownState.currentPath&&(u+=" ".concat(this.draw(this.ownState.currentPath))),(u=u.trim())&&(n=!0),this.ownState.svg.setAttribute("d",u),this.ownState.svg.setAttribute("fill","red"),n||(this.isDrawing=!1)}}}]),e}(),Ll=function(){function e(t){var n;(0,u.Z)(this,e),this.subscribers=[],this.value=void 0,this.updateOnChangeOnly=void 0,this.updateOnChangeOnly=null!==(n=null===t||void 0===t?void 0:t.updateOnChangeOnly)&&void 0!==n&&n,this.value=null===t||void 0===t?void 0:t.initialState}return(0,d.Z)(e,[{key:"on",value:function(){for(var e,t=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r.flat().filter((function(e){return"function"===typeof e}));return(e=this.subscribers).push.apply(e,(0,i.Z)(o)),function(){return t.off(o)}}},{key:"off",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.flat();this.subscribers=this.subscribers.filter((function(e){return!r.includes(e)}))}},{key:"trigger",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.updateOnChangeOnly&&this.value===t?[]:(this.value=t,this.subscribers.map((function(e){return e.apply(void 0,t)})))}},{key:"destroy",value:function(){this.subscribers=[],this.value=void 0}}]),e}(),Dl=m.createContext(null),Ol=m.createContext(null),Rl={isSmScreen:!1,isMobile:!1,isTouchScreen:!1,canDeviceFitSidebar:!1,isLandscape:!1},Al=m.createContext(Rl);Al.displayName="DeviceContext";var Nl=m.createContext({container:null,id:null});Nl.displayName="ExcalidrawContainerContext";var zl=m.createContext([]);zl.displayName="ExcalidrawElementsContext";var Bl=m.createContext((0,v.Z)((0,v.Z)({},(0,_t.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));Bl.displayName="ExcalidrawAppStateContext";var Fl=m.createContext((function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")}));Fl.displayName="ExcalidrawSetAppStateContext";var Hl=m.createContext(null);Hl.displayName="ExcalidrawActionManagerContext";var Wl=function(){return(0,m.useContext)(Dl)},Ul=function(){return(0,m.useContext)(Ol)},Kl=function(){return(0,m.useContext)(Al)},Vl=function(){return(0,m.useContext)(Nl)},Yl=function(){return(0,m.useContext)(zl)},Gl=function(){return(0,m.useContext)(Bl)},Xl=function(){return(0,m.useContext)(Fl)},ql=function(){return(0,m.useContext)(Hl)},$l=!1,Ql=0,Jl=!1,es=!1,ts=!1,ns={horizontal:null,vertical:null},rs=0,as=!1,is=new Map,os=!1,ls=0,ss=!1,cs=null,us={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},ds=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e){var r;(0,u.Z)(this,n),(r=t.call(this,e)).canvas=void 0,r.interactiveCanvas=null,r.rc=void 0,r.unmounted=!1,r.actionManager=void 0,r.device=Rl,r.detachIsMobileMqHandler=void 0,r.excalidrawContainerRef=m.createRef(),r.scene=void 0,r.renderer=void 0,r.fonts=void 0,r.resizeObserver=void 0,r.nearestScrollableContainer=void 0,r.library=void 0,r.libraryItemsFromStorage=void 0,r.id=void 0,r.history=void 0,r.excalidrawContainerValue=void 0,r.files={},r.imageCache=new Map,r.iFrameRefs=new Map,r.hitLinkElement=void 0,r.lastPointerDownEvent=null,r.lastPointerUpEvent=null,r.lastViewportPosition={x:0,y:0},r.laserPathManager=new Pl((0,f.Z)(r)),r.onChangeEmitter=new Ll,r.onPointerDownEmitter=new Ll,r.onPointerUpEmitter=new Ll,r.updateEmbeddables=function(){var e=new Map,t=!1;r.scene.getNonDeletedElements().filter((function(n){if((0,j.gs)(n)&&(e.set(n.id,!0),null==n.validated)){t=!0;var a=(0,Nt.xm)(n.link,r.props.validateEmbeddable);(0,_.DR)(n,{validated:a},!1),uo.R.delete(n)}return!1})),t&&r.scene.informMutation(),r.iFrameRefs.forEach((function(t,n){e.has(n)||r.iFrameRefs.delete(n)}))},r.getFrameNameDOMId=function(e){return"".concat(r.id,"-frame-name-").concat(e.id)},r.frameNameBoundsCache={get:function(e){var t=r.frameNameBoundsCache._cache.get(e.id);if(!t||t.zoom!==r.state.zoom.value||t.versionNonce!==e.versionNonce){var n=document.getElementById(r.getFrameNameDOMId(e));if(n){var a=n.getBoundingClientRect(),i=(0,P.dE)({clientX:a.x,clientY:a.y},r.state),o=(0,P.dE)({clientX:a.right,clientY:a.bottom},r.state);return t={x:i.x,y:i.y,width:o.x-i.x,height:o.y-i.y,angle:0,zoom:r.state.zoom.value,versionNonce:e.versionNonce},r.frameNameBoundsCache._cache.set(e.id,t),t}return null}return t},_cache:new Map},r.renderFrameNames=function(){if(!r.state.frameRendering.enabled||!r.state.frameRendering.name)return null;var e="dark"===r.state.theme;return r.scene.getNonDeletedFrames().map((function(t,n){if(!(0,Ot.PZ)(t,r.canvas.width/window.devicePixelRatio,r.canvas.height/window.devicePixelRatio,{offsetLeft:r.state.offsetLeft,offsetTop:r.state.offsetTop,scrollX:r.state.scrollX,scrollY:r.state.scrollY,zoom:r.state.zoom}))return null;var a,i=(0,P._i)({sceneX:t.x,sceneY:t.y},r.state),o=i.x,l=i.y,s=(0,P._i)({sceneX:t.x+t.width,sceneY:t.y+t.height},r.state).x,c=function(){var e;""===(null===(e=t.name)||void 0===e?void 0:e.trim())&&(0,_.DR)(t,{name:null}),r.setState({editingFrame:null})};if(t.id===r.state.editingFrame){var u=null==t.name?"Frame ".concat(n+1):t.name;a=(0,D.jsx)("input",{autoFocus:!0,value:u,onChange:function(e){(0,_.DR)(t,{name:e.target.value})},onBlur:function(){return c()},onKeyDown:function(e){e.key!==k.tW.ESCAPE&&e.key!==k.tW.ENTER||c()},style:{background:r.state.viewBackgroundColor,filter:e?q.ZF:"none",zIndex:2,border:"none",display:"block",padding:"".concat(6,"px"),borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",fontWeight:"normal",transform:"translateY(-".concat(6,"px)"),color:"var(--color-gray-80)",overflow:"hidden",maxWidth:"".concat(Math.min(s-o-6,document.body.clientWidth-o-6),"px")},size:u.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else a=null==t.name||""===t.name.trim()?"Frame ".concat(n+1):t.name.trim();return(0,D.jsx)("div",{id:r.getFrameNameDOMId(t),style:{position:"absolute",top:"".concat(l-20-r.state.offsetTop,"px"),left:"".concat(o-r.state.offsetLeft-(r.state.editingFrame===t.id?6:0),"px"),zIndex:2,fontSize:"14px",fontWeight:"normal",color:e?"var(--color-gray-60)":"var(--color-gray-50)",width:"max-content",maxWidth:"".concat(s-o+12,"px"),overflow:t.id===r.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:q.oc.MOVE,pointerEvents:r.state.viewModeEnabled?q.XI.disabled:q.XI.enabled},onPointerDown:function(e){return r.handleCanvasPointerDown(e)},onWheel:function(e){return r.handleWheel(e)},onContextMenu:r.handleCanvasContextMenu,onDoubleClick:function(){r.setState({editingFrame:t.id})},children:a},t.id)}))},r.focusContainer=function(){var e;null===(e=r.excalidrawContainerRef.current)||void 0===e||e.focus()},r.getSceneElementsIncludingDeleted=function(){return r.scene.getElementsIncludingDeleted()},r.getSceneElements=function(){return r.scene.getNonDeletedElements()},r.onInsertElements=function(e){r.addElementsFromPasteOrLibrary({elements:e,position:"center",files:null})},r.onExportImage=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,St.L)("export",t,"ui"),e.next=3,ke(t,n,r.state,r.files,{exportBackground:r.state.exportBackground,name:r.state.name,viewBackgroundColor:r.state.viewBackgroundColor}).catch(P.FG).catch((function(e){console.error(e),r.setState({errorMessage:e.message})}));case 3:a=e.sent,r.state.exportEmbedScene&&a&&(0,be.g8)(a)&&r.setState({fileHandle:a});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.openEyeDropper=function(e){var t=e.type;An.e_.set(co.$,{swapPreviewOnAlt:!0,colorPickerType:"stroke"===t?"elementStroke":"elementBackground",onSelect:function(e,n){var a="background"===t&&n.altKey||"stroke"===t&&!n.altKey;r.scene.getSelectedElements(r.state).length&&"selection"===r.state.activeTool.type?r.updateScene({elements:r.scene.getElementsIncludingDeleted().map((function(t){return r.state.selectedElementIds[t.id]?(0,_.BE)(t,(0,l.Z)({},a?"strokeColor":"backgroundColor",e)):t}))}):a?r.syncActionResult({appState:(0,v.Z)((0,v.Z)({},r.state),{},{currentItemStrokeColor:e}),commitToHistory:!0}):r.syncActionResult({appState:(0,v.Z)((0,v.Z)({},r.state),{},{currentItemBackgroundColor:e}),commitToHistory:!0})},keepOpenOnAlt:!1})},r.syncActionResult=(0,P.tH)((function(e){if(!r.unmounted&&!1!==e){var t=null;if(e.elements&&(e.elements.forEach((function(e){var n;(null===(n=r.state.editingElement)||void 0===n?void 0:n.id)===e.id&&r.state.editingElement!==e&&(0,M.qP)(e)&&(t=e)})),r.scene.replaceAllElements(e.elements),e.commitToHistory&&r.history.resumeRecording()),e.files&&(r.files=e.replaceFiles?e.files:(0,v.Z)((0,v.Z)({},r.files),e.files),r.addNewImagesToImageCache()),e.appState||t||r.state.contextMenu){var n,a,i,o,l,s,c,u,d,f;e.commitToHistory&&r.history.resumeRecording();var h=(null===e||void 0===e||null===(n=e.appState)||void 0===n?void 0:n.viewModeEnabled)||!1,p=(null===e||void 0===e||null===(a=e.appState)||void 0===a?void 0:a.zenModeEnabled)||!1,m=(null===e||void 0===e||null===(i=e.appState)||void 0===i?void 0:i.gridSize)||null,g=(null===e||void 0===e||null===(o=e.appState)||void 0===o?void 0:o.theme)||r.props.theme||q.C6.LIGHT,y=null!==(l=null===e||void 0===e||null===(s=e.appState)||void 0===s?void 0:s.name)&&void 0!==l?l:r.state.name,b=null!==(c=null===e||void 0===e||null===(u=e.appState)||void 0===u?void 0:u.errorMessage)&&void 0!==c?c:r.state.errorMessage;"undefined"!==typeof r.props.viewModeEnabled&&(h=r.props.viewModeEnabled),"undefined"!==typeof r.props.zenModeEnabled&&(p=r.props.zenModeEnabled),"undefined"!==typeof r.props.gridModeEnabled&&(m=r.props.gridModeEnabled?q.k:null),"undefined"!==typeof r.props.name&&(y=r.props.name),null!==(f=t=t||(null===(d=e.appState)||void 0===d?void 0:d.editingElement)||null)&&void 0!==f&&f.isDeleted&&(t=null),r.setState((function(n){return Object.assign(e.appState||{},{contextMenu:null,editingElement:t,viewModeEnabled:h,zenModeEnabled:p,gridSize:m,theme:g,name:y,errorMessage:b})}),(function(){e.syncHistory&&r.history.setCurrentState(r.state,r.scene.getElementsIncludingDeleted())}))}}})),r.onBlur=(0,P.tH)((function(){Jl=!1,r.setState({isBindingEnabled:!0})})),r.onUnload=function(){r.onBlur()},r.disableEvent=function(e){e.preventDefault()},r.resetHistory=function(){r.history.clear()},r.resetScene=(0,P.tH)((function(e){r.scene.replaceAllElements([]),r.setState((function(t){return(0,v.Z)((0,v.Z)({},(0,_t.im)()),{},{isLoading:(null===e||void 0===e||!e.resetLoadingState)&&t.isLoading,theme:r.state.theme})})),r.resetHistory()})),r.initializeScene=(0,c.Z)((0,s.Z)().mark((function e(){var t,n,a,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.files.length){e.next=2;break}return e.abrupt("return");case 2:return n=t.files[0],e.next=5,n.getFile();case 5:a=e.sent,r.loadFileToCanvas(new File([a],a.name||"",{type:a.type}),n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.props.theme&&r.setState({theme:r.props.theme}),r.state.isLoading||r.setState({isLoading:!0}),a=null,e.prev=4,e.next=7,r.props.initialData;case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0=null;case 10:a=e.t0,null!==(i=a)&&void 0!==i&&i.libraryItems&&r.library.updateLibrary({libraryItems:a.libraryItems,merge:!0}).catch((function(e){console.error(e)})),e.next=18;break;case 14:e.prev=14,e.t1=e.catch(4),console.error(e.t1),a={appState:{errorMessage:e.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(o=(0,It.nu)(a,null,null,{repairBindings:!0})).appState=(0,v.Z)((0,v.Z)({},o.appState),{},{theme:r.props.theme||o.appState.theme,openSidebar:(null===(t=o.appState)||void 0===t?void 0:t.openSidebar)||r.state.openSidebar,activeTool:"image"===o.appState.activeTool.type?(0,v.Z)((0,v.Z)({},o.appState.activeTool),{},{type:"selection"}):o.appState.activeTool,isLoading:!1,toast:r.state.toast}),null!==(n=a)&&void 0!==n&&n.scrollToContent&&(o.appState=(0,v.Z)((0,v.Z)({},o.appState),(0,w.W)(o.elements,(0,v.Z)((0,v.Z)({},o.appState),{},{width:r.state.width,height:r.state.height,offsetTop:r.state.offsetTop,offsetLeft:r.state.offsetLeft})))),r.fonts.loadFontsForElements(o.elements),r.resetHistory(),r.syncActionResult((0,v.Z)((0,v.Z)({},o),{},{commitToHistory:!0}));case 24:case"end":return e.stop()}}),e,null,[[4,14]])}))),r.refreshDeviceState=function(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height,i=null!=r.props.UIOptions.dockedSidebarBreakpoint?r.props.UIOptions.dockedSidebarBreakpoint:q.sk;r.device=(0,P.v4)(r.device,{isLandscape:n>a,isSmScreen:n<q.eF,isMobile:n<q.kV||a<q.Yx&&n<q.sS,canDeviceFitSidebar:n>i})},r.onResize=(0,P.tH)((function(){r.scene.getElementsIncludingDeleted().forEach((function(e){return uo.R.delete(e)})),r.setState({})})),r.renderInteractiveSceneCallback=function(e){var t=e.atLeastOneVisibleElement,n=e.scrollBars,a=e.elements;n&&(ns=n);var i=!(0,M.iB)(r.state.editingElement)&&(!t&&a.length>0);r.state.scrolledOutside!==i&&r.setState({scrolledOutside:i}),r.scheduleImageRefresh()},r.onScroll=(0,P.Ds)((function(){var e=r.getCanvasOffsets(),t=e.offsetTop,n=e.offsetLeft;r.setState((function(e){return e.offsetLeft===n&&e.offsetTop===t?null:{offsetTop:t,offsetLeft:n}}))}),q.HM),r.onCut=(0,P.tH)((function(e){var t;(null===(t=r.excalidrawContainerRef.current)||void 0===t?void 0:t.contains(document.activeElement))&&!(0,P.s)(e.target)&&(r.actionManager.executeAction(it,"keyboard",e),e.preventDefault(),e.stopPropagation())})),r.onCopy=(0,P.tH)((function(e){var t;(null===(t=r.excalidrawContainerRef.current)||void 0===t?void 0:t.contains(document.activeElement))&&!(0,P.s)(e.target)&&(r.actionManager.executeAction(rt,"keyboard",e),e.preventDefault(),e.stopPropagation())})),r.onTouchStart=function(e){if(q.Dt||e.preventDefault(),!$l)return $l=!0,clearTimeout(Ql),void(Ql=window.setTimeout(n.resetTapTwice,q.Gj));if($l&&1===e.touches.length){var t=e.touches[0];r.handleCanvasDoubleClick({clientX:t.clientX,clientY:t.clientY}),$l=!1,clearTimeout(Ql)}q.Dt&&e.preventDefault(),2===e.touches.length&&r.setState({selectedElementIds:(0,te.Oh)({},r.state),activeEmbeddable:null})},r.onTouchEnd=function(e){r.resetContextMenuTimer(),e.touches.length>0?r.setState({previousSelectedElementIds:{},selectedElementIds:(0,te.Oh)(r.state.previousSelectedElementIds,r.state)}):us.pointers.clear()},r.pasteFromClipboard=(0,P.tH)(function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n,a,i,o,c,u,d,f,h,p,v,m,g,y,b,x,w;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!!os,o=document.activeElement,c=null===(n=r.excalidrawContainerRef.current)||void 0===n?void 0:n.contains(o),!t||c){e.next=5;break}return e.abrupt("return");case 5:if(u=document.elementFromPoint(r.lastViewportPosition.x,r.lastViewportPosition.y),!t||u instanceof HTMLCanvasElement&&!(0,P.s)(o)){e.next=8;break}return e.abrupt("return");case 8:return d=(0,P.dE)({clientX:r.lastViewportPosition.x,clientY:r.lastViewportPosition.y},r.state),f=d.x,h=d.y,p=null===t||void 0===t||null===(a=t.clipboardData)||void 0===a?void 0:a.files[0],e.next=12,(0,ge.mQ)(t,i);case 12:if(v=e.sent,p||i){e.next=19;break}if(!v.mixedContent){e.next=18;break}return e.abrupt("return",r.addElementsFromMixedContentPaste(v.mixedContent,{isPlainPaste:i,sceneX:f,sceneY:h}));case 18:v.text&&(m=v.text.trim()).startsWith("<svg")&&m.endsWith("</svg>")&&(p=(0,be.Pn)(m));case 19:if(!(0,be.Wr)(p)||v.spreadsheet){e.next=25;break}return g=r.createImageElement({sceneX:f,sceneY:h}),r.insertImageElement(g,p),r.initializeImageDimensions(g),r.setState({selectedElementIds:(0,te.Oh)((0,l.Z)({},g.id,!0),r.state)}),e.abrupt("return");case 25:if(!r.props.onPaste){e.next=37;break}return e.prev=26,e.next=29,r.props.onPaste(v,t);case 29:if(e.t0=e.sent,!1!==e.t0){e.next=32;break}return e.abrupt("return");case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(26),console.error(e.t1);case 37:if(!v.errorMessage){e.next=41;break}r.setState({errorMessage:v.errorMessage}),e.next=57;break;case 41:if(!v.spreadsheet||i){e.next=45;break}r.setState({pasteDialog:{data:v.spreadsheet,shown:!0}}),e.next=57;break;case 45:if(!v.elements){e.next=50;break}y=v.programmaticAPI?Qo(v.elements):v.elements,r.addElementsFromPasteOrLibrary({elements:y,files:v.files||null,position:"cursor",retainSeed:i}),e.next=57;break;case 50:if(!v.text){e.next=57;break}if(x=(0,Nt.eX)(v.text),i||!(0,Nt.xm)(x,r.props.validateEmbeddable)||!/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(x)&&"video"!==(null===(b=(0,Nt.LM)(x))||void 0===b?void 0:b.type)){e.next=56;break}return(w=r.insertEmbeddableElement({sceneX:f,sceneY:h,link:(0,Mo.$u)(x)}))&&r.setState({selectedElementIds:(0,l.Z)({},w.id,!0)}),e.abrupt("return");case 56:r.addTextFromPaste(v.text,i);case 57:r.setActiveTool({type:"selection"}),null===t||void 0===t||t.preventDefault();case 59:case"end":return e.stop()}}),e,null,[[26,34]])})));return function(t){return e.apply(this,arguments)}}()),r.addElementsFromPasteOrLibrary=function(e){var t=(0,It.ET)(e.elements,null,void 0),n=(0,M.KP)(t),a=(0,o.Z)(n,4),l=a[0],s=a[1],c=a[2],u=a[3],d=(0,P.TE)(l,c)/2,h=(0,P.TE)(s,u)/2,p="object"===typeof e.position?e.position.clientX:"cursor"===e.position?r.lastViewportPosition.x:r.state.width/2+r.state.offsetLeft,m="object"===typeof e.position?e.position.clientY:"cursor"===e.position?r.lastViewportPosition.y:r.state.height/2+r.state.offsetTop,g=(0,P.dE)({clientX:p,clientY:m},r.state),y=g.x-d,b=g.y-h,x=(0,ue.wC)(y,b,r.state.gridSize),w=(0,o.Z)(x,2),k=w[0],E=w[1],S=(0,Ue._N)(t.map((function(e){return(0,_.BE)(e,{x:e.x+k-l,y:e.y+E-s})})),{randomizeSeed:!e.retainSeed}),C=[].concat((0,i.Z)(r.scene.getElementsIncludingDeleted()),(0,i.Z)(S));r.scene.replaceAllElements(C),S.forEach((function(e){if((0,M.iB)(e)&&(0,j.Xh)(e)){var t=(0,re.tl)(e);(0,M.oN)(e,t)}})),e.files&&(r.files=(0,v.Z)((0,v.Z)({},r.files),e.files)),r.history.resumeRecording();var I=(0,te.aI)(S);r.setState((0,v.Z)((0,v.Z)({},r.state),{},{openSidebar:r.state.openSidebar&&r.device.canDeviceFitSidebar&&An.e_.get(Oi)?r.state.openSidebar:null},(0,Z.bO)({editingGroupId:null,selectedElementIds:I.reduce((function(e,t){return(0,j.Xh)(t)||(e[t.id]=!0),e}),{})},r.scene.getNonDeletedElements(),r.state,(0,f.Z)(r))),(function(){e.files&&r.addNewImagesToImageCache()})),r.setActiveTool({type:"selection"})},r.setAppState=function(e,t){r.setState(e,t)},r.removePointer=function(e){rs&&r.resetContextMenuTimer(),us.pointers.delete(e.pointerId)},r.toggleLock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ui";r.state.activeTool.locked||(0,St.L)("toolbar","toggleLock","".concat(e," (").concat(r.device.isMobile?"mobile":"desktop",")")),r.setState((function(e){return{activeTool:(0,v.Z)((0,v.Z)((0,v.Z)({},e.activeTool),(0,P.Om)(r.state,e.activeTool.locked?{type:"selection"}:e.activeTool)),{},{locked:!e.activeTool.locked})}}))},r.updateFrameRendering=function(e){r.setState((function(t){var n,r,a,i,o="function"===typeof e?e(t.frameRendering):e;return{frameRendering:{enabled:null!==(n=null===o||void 0===o?void 0:o.enabled)&&void 0!==n?n:t.frameRendering.enabled,clip:null!==(r=null===o||void 0===o?void 0:o.clip)&&void 0!==r?r:t.frameRendering.clip,name:null!==(a=null===o||void 0===o?void 0:o.name)&&void 0!==a?a:t.frameRendering.name,outline:null!==(i=null===o||void 0===o?void 0:o.outline)&&void 0!==i?i:t.frameRendering.outline}}}))},r.togglePenMode=function(e){r.setState((function(t){return{penMode:null!==e&&void 0!==e?e:!t.penMode,penDetected:!0}}))},r.onHandToolToggle=function(){r.actionManager.executeAction(ce.eF)},r.zoomCanvas=function(e){r.setState((0,v.Z)({},(0,Rt.E)({viewportX:r.state.width/2+r.state.offsetLeft,viewportY:r.state.height/2+r.state.offsetTop,nextZoom:(0,w.j)(e)},r.state)))},r.cancelInProgresAnimation=null,r.scrollToContent=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.scene.getNonDeletedElements(),a=arguments.length>1?arguments[1]:void 0;null===(e=(t=r).cancelInProgresAnimation)||void 0===e||e.call(t);var i=Array.isArray(n)?n:[n],o=r.state.zoom,l=r.state.scrollX,s=r.state.scrollY;if(null!==a&&void 0!==a&&a.fitToContent||null!==a&&void 0!==a&&a.fitToViewport){var c=(0,ce.JB)({targetElements:i,appState:r.state,fitToViewport:!(null===a||void 0===a||!a.fitToViewport),viewportZoomFactor:null===a||void 0===a?void 0:a.viewportZoomFactor}).appState;o=c.zoom,l=c.scrollX,s=c.scrollY}else{var u=(0,w.W)(i,r.state);l=u.scrollX,s=u.scrollY}if(null!==a&&void 0!==a&&a.animate){var d,f=r.state.scrollX,h=r.state.scrollY,p=r.state.zoom.value,v=(0,P.B4)({fromValues:{scrollX:f,scrollY:h,zoom:p},toValues:{scrollX:l,scrollY:s,zoom:o.value},interpolateValue:function(e,t,n,r){if("zoom"===r)return e*Math.pow(t/e,(0,P.Vv)(n))},onStep:function(e){var t=e.scrollX,n=e.scrollY,a=e.zoom;r.setState({scrollX:t,scrollY:n,zoom:{value:a}})},onStart:function(){r.setState({shouldCacheIgnoreZoom:!0})},onEnd:function(){r.setState({shouldCacheIgnoreZoom:!1})},onCancel:function(){r.setState({shouldCacheIgnoreZoom:!1})},duration:null!==(d=null===a||void 0===a?void 0:a.duration)&&void 0!==d?d:500});r.cancelInProgresAnimation=function(){v(),r.cancelInProgresAnimation=null}}else r.setState({scrollX:l,scrollY:s,zoom:o})},r.translateCanvas=function(e){var t,n;null===(t=(n=r).cancelInProgresAnimation)||void 0===t||t.call(n),r.setState(e)},r.setToast=function(e){r.setState({toast:e})},r.restoreFileFromShare=(0,c.Z)((0,s.Z)().mark((function e(){var t,n,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,caches.open("web-share-target");case 3:return t=e.sent,e.next=6,t.match("shared-file");case 6:if(!(n=e.sent)){e.next=16;break}return e.next=10,n.blob();case 10:return a=e.sent,i=new File([a],a.name||"",{type:a.type}),r.loadFileToCanvas(i,null),e.next=15,t.delete("shared-file");case 15:window.history.replaceState(null,q.iC,window.location.pathname);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),r.setState({errorMessage:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[0,18]])}))),r.addFiles=(0,P.tH)((function(e){var t=e.reduce((function(e,t){return e.set(t.id,t),e}),new Map);r.files=(0,v.Z)((0,v.Z)({},r.files),Object.fromEntries(t)),r.scene.getNonDeletedElements().forEach((function(e){(0,j.wi)(e)&&t.has(e.fileId)&&(r.imageCache.delete(e.fileId),uo.R.delete(e))})),r.scene.informMutation(),r.addNewImagesToImageCache()})),r.updateScene=(0,P.tH)((function(e){e.commitToHistory&&r.history.resumeRecording(),e.appState&&r.setState(e.appState),e.elements&&r.scene.replaceAllElements(e.elements),e.collaborators&&r.setState({collaborators:e.collaborators})})),r.onSceneUpdated=function(){r.setState({})},r.toggleSidebar=function(e){var t,n,a=e.name,i=e.tab,o=e.force;void 0===o?t=(null===(n=r.state.openSidebar)||void 0===n?void 0:n.name)===a?null:a:t=o?a:null;return r.setState({openSidebar:t?{name:t,tab:i}:null}),!!t},r.updateCurrentCursorPosition=(0,P.tH)((function(e){r.lastViewportPosition.x=e.clientX,r.lastViewportPosition.y=e.clientY})),r.onKeyDown=(0,P.tH)((function(e){if("Proxy"in window&&(!e.shiftKey&&/^[A-Z]$/.test(e.key)||e.shiftKey&&/^[a-z]$/.test(e.key))&&(e=new Proxy(e,{get:function(t,n){var r=t[n];return"function"===typeof r?r.bind(t):"key"===n?e.shiftKey?t.key.toUpperCase():t.key.toLowerCase():r}})),e[k.tW.CTRL_OR_CMD]&&e.key.toLowerCase()===k.tW.V&&(os=e.shiftKey,clearTimeout(ls),ls=window.setTimeout((function(){os=!1}),100)),!e[k.tW.CTRL_OR_CMD]||!(0,P.s)(e.target)||e.code!==k.aU.MINUS&&e.code!==k.aU.EQUAL){if(!((0,P.s)(e.target)&&e.key!==k.tW.ESCAPE||(0,k.Wl)(e.key)&&(0,P._Z)(e.target)))if(e.key!==k.tW.QUESTION_MARK){if(e.key.toLowerCase()===k.tW.E&&e.shiftKey&&e[k.tW.CTRL_OR_CMD])return e.preventDefault(),void r.setState({openDialog:"imageExport"});if(e.key===k.tW.PAGE_UP||e.key===k.tW.PAGE_DOWN){var t=(e.shiftKey?r.state.width:r.state.height)/r.state.zoom.value;e.key===k.tW.PAGE_DOWN&&(t=-t),e.shiftKey?r.translateCanvas((function(e){return{scrollX:e.scrollX+t}})):r.translateCanvas((function(e){return{scrollY:e.scrollY+t}}))}if(!r.actionManager.handleKeyDown(e)&&!r.state.viewModeEnabled){if(e[k.tW.CTRL_OR_CMD]&&r.state.isBindingEnabled&&r.setState({isBindingEnabled:!1}),(0,k.Wl)(e.key)){var n=r.state.gridSize&&(e.shiftKey?q.$e:r.state.gridSize)||(e.shiftKey?q.Iw:q.$e),a=0,i=0;e.key===k.tW.ARROW_LEFT?a=-n:e.key===k.tW.ARROW_RIGHT?a=n:e.key===k.tW.ARROW_UP?i=-n:e.key===k.tW.ARROW_DOWN&&(i=n);var o=r.scene.getSelectedElements({selectedElementIds:r.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});o.forEach((function(e){(0,_.DR)(e,{x:e.x+a,y:e.y+i}),(0,T.Ww)(e,{simultaneouslyUpdated:o})})),r.maybeSuggestBindingForAll(o),e.preventDefault()}else if(e.key===k.tW.ENTER){var l=r.scene.getSelectedElements(r.state);if(1===l.length){var s=l[0];if(e[k.tW.CTRL_OR_CMD])(0,j.bt)(s)&&(r.state.editingLinearElement&&r.state.editingLinearElement.elementId===l[0].id||(r.history.resumeRecording(),r.setState({editingLinearElement:new I._(s,r.scene)})));else{if((0,M.iB)(s)||(0,re.Zr)(s)){var c;(0,M.iB)(s)||(c=s);var u=(0,re.TP)(s,r.state),d=u.x,f=u.y;return r.startTextEditing({sceneX:d,sceneY:f,container:c}),void e.preventDefault()}(0,j.He)(s)&&r.setState({editingFrame:s.id})}}}else if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&null===r.state.draggingElement){var h=function(e){var t=At.find((function(t,n){return null!=t.numericKey&&e===t.numericKey.toString()||t.key&&("string"===typeof t.key?t.key===e:t.key.includes(e))}));return(null===t||void 0===t?void 0:t.value)||null}(e.key);h?(r.state.activeTool.type!==h&&(0,St.L)("toolbar",h,"keyboard (".concat(r.device.isMobile?"mobile":"desktop",")")),r.setActiveTool({type:h}),e.stopPropagation()):e.key===k.tW.Q&&(r.toggleLock("keyboard"),e.stopPropagation())}if(e.key===k.tW.SPACE&&0===us.pointers.size&&(Jl=!0,(0,de.KJ)(r.interactiveCanvas,q.oc.GRAB),e.preventDefault()),(e.key===k.tW.G||e.key===k.tW.S)&&!e.altKey&&!e[k.tW.CTRL_OR_CMD]){var p=r.scene.getSelectedElements(r.state);if("selection"===r.state.activeTool.type&&!p.length)return;e.key===k.tW.G&&((0,w.$b)(r.state.activeTool.type)||p.some((function(e){return(0,w.$b)(e.type)})))&&(r.setState({openPopup:"elementBackground"}),e.stopPropagation()),e.key===k.tW.S&&(r.setState({openPopup:"elementStroke"}),e.stopPropagation())}if(e.key!==k.tW.K||e.altKey||e[k.tW.CTRL_OR_CMD]){!e[k.tW.CTRL_OR_CMD]||e.key!==k.tW.BACKSPACE&&e.key!==k.tW.DELETE||An.e_.set(Ni,"clearCanvas");var v=e.key.toLocaleLowerCase(),m=v===k.tW.S&&e.shiftKey,g=e.key===k.tW.I||v===k.tW.G&&e.shiftKey;(m||g)&&r.openEyeDropper({type:m?"stroke":"background"})}else"laser"===r.state.activeTool.type?r.setActiveTool({type:"selection"}):r.setActiveTool({type:"laser"})}}else r.setState({openDialog:"help"})}else e.preventDefault()})),r.onWheel=(0,P.tH)((function(e){e.target instanceof HTMLCanvasElement||!e.ctrlKey||e.preventDefault()})),r.onKeyUp=(0,P.tH)((function(e){if(e.key===k.tW.SPACE&&(r.state.viewModeEnabled?(0,de.KJ)(r.interactiveCanvas,q.oc.GRAB):"selection"===r.state.activeTool.type?(0,de.z8)(r.interactiveCanvas):((0,de.Uk)(r.interactiveCanvas,r.state),r.setState({selectedElementIds:(0,te.Oh)({},r.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),Jl=!1),e[k.tW.CTRL_OR_CMD]||r.state.isBindingEnabled||r.setState({isBindingEnabled:!0}),(0,k.Wl)(e.key)){var t=r.scene.getSelectedElements(r.state);(0,T.N1)(r.state)?(0,T.el)(t):(0,T.H)(t),r.setState({suggestedBindings:[]})}})),r.setActiveTool=function(e){var t,n=(0,P.Om)(r.state,e);("hand"===n.type?(0,de.KJ)(r.interactiveCanvas,q.oc.GRAB):Jl||(0,de.Uk)(r.interactiveCanvas,r.state),(0,P.wO)(document.activeElement)&&r.focusContainer(),(0,j.dt)(n.type)||r.setState({suggestedBindings:[]}),"image"===n.type)&&r.onImageAction({insertOnCanvasDirectly:null!==(t="image"===e.type&&e.insertOnCanvasDirectly)&&void 0!==t&&t});r.setState((function(e){var t={snapLines:e.snapLines.length?[]:e.snapLines,originSnapOffset:null,activeEmbeddable:null};return"selection"!==n.type?(0,v.Z)((0,v.Z)({},e),{},{activeTool:n,selectedElementIds:(0,te.Oh)({},e),selectedGroupIds:(0,te.Oh)({},e),editingGroupId:null,multiElement:null},t):(0,v.Z)((0,v.Z)({},e),{},{activeTool:n},t)}))},r.setCursor=function(e){(0,de.KJ)(r.interactiveCanvas,e)},r.resetCursor=function(){(0,de.z8)(r.interactiveCanvas)},r.isTouchScreenMultiTouchGesture=function(){return us.pointers.size>=2},r.onGestureStart=(0,P.tH)((function(e){e.preventDefault(),r.isTouchScreenMultiTouchGesture()&&r.setState({selectedElementIds:(0,te.Oh)({},r.state),activeEmbeddable:null}),us.initialScale=r.state.zoom.value})),r.onGestureChange=(0,P.tH)((function(e){if(e.preventDefault(),!r.isTouchScreenMultiTouchGesture()){var t=us.initialScale;t&&r.setState((function(n){return(0,v.Z)({},(0,Rt.E)({viewportX:r.lastViewportPosition.x,viewportY:r.lastViewportPosition.y,nextZoom:(0,w.j)(t*e.scale)},n))}))}})),r.onGestureEnd=(0,P.tH)((function(e){e.preventDefault(),r.isTouchScreenMultiTouchGesture()&&r.setState({previousSelectedElementIds:{},selectedElementIds:(0,te.Oh)(r.state.previousSelectedElementIds,r.state)}),us.initialScale=null})),r.startTextEditing=function(e){var t,n,a,i,o=e.sceneX,l=e.sceneY,s=e.insertAtParentCenter,c=void 0===s||s,u=e.container,d=!1,f=c&&r.getTextWysiwygSnappedToCenterPosition(o,l,r.state,u);u&&f&&((0,re.WJ)(u)||(d=!0));var h=null,p=r.scene.getSelectedElements(r.state),v=(null===(t=h=1===p.length?(0,M.iB)(p[0])?p[0]:u?(0,re.WJ)(p[0]):r.getTextElementAtPosition(o,l):r.getTextElementAtPosition(o,l))||void 0===t?void 0:t.fontFamily)||r.state.currentItemFontFamily,m=(null===(n=h)||void 0===n?void 0:n.lineHeight)||(0,re.PT)(v),g=r.state.currentItemFontSize,y=r.state.currentItemFontWeight;if(!h&&d&&u&&!(0,j.Yv)(u)){var b={fontSize:g,fontFamily:v,fontWeight:y},x=(0,re.AT)((0,P.mO)(b),m),w=(0,re.w_)(g,m),k=Math.max(u.height,w),E=Math.max(u.width,x);(0,_.DR)(u,{height:k,width:E}),o=u.x+E/2,l=u.y+k/2,f&&(f=r.getTextWysiwygSnappedToCenterPosition(o,l,r.state,u))}var S=r.getTopLayerFrameAtSceneCoords({x:o,y:l}),C=h||(0,M.VL)({x:f?f.elementCenterX:o,y:f?f.elementCenterY:l,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,text:"",fontSize:g,fontWeight:y,fontFamily:v,textAlign:f?"center":r.state.currentItemTextAlign,verticalAlign:f?q.oX.MIDDLE:q.hs,containerId:d?null===u||void 0===u?void 0:u.id:void 0,groupIds:null!==(a=null===u||void 0===u?void 0:u.groupIds)&&void 0!==a?a:[],lineHeight:m,angle:null!==(i=null===u||void 0===u?void 0:u.angle)&&void 0!==i?i:0,frameId:S?S.id:null});if(!h&&d&&u&&(0,_.DR)(u,{boundElements:(u.boundElements||[]).concat({type:"text",id:C.id})}),r.setState({editingElement:C}),!h)if(u&&d){var Z=r.scene.getElementIndex(u.id);r.scene.insertElementAtIndex(C,Z+1)}else r.scene.addNewElement(C);r.setState({editingElement:C}),r.handleTextWysiwyg(C,{isExistingElement:!!h})},r.handleCanvasDoubleClick=function(e){if(!r.state.multiElement&&"selection"===r.state.activeTool.type){var t=r.scene.getSelectedElements(r.state);if(1===t.length&&(0,j.bt)(t[0])){if(e[k.tW.CTRL_OR_CMD]&&(!r.state.editingLinearElement||r.state.editingLinearElement.elementId!==t[0].id))return r.history.resumeRecording(),void r.setState({editingLinearElement:new I._(t[0],r.scene)});if(r.state.editingLinearElement&&r.state.editingLinearElement.elementId===t[0].id)return}(0,de.z8)(r.interactiveCanvas);var n=(0,P.dE)(e,r.state),a=n.x,i=n.y;if((0,Z.iJ)(r.state).length>0){var o=r.getElementAtPosition(a,i),s=o&&(0,Z.YS)(o,r.state.selectedGroupIds);if(s)return void r.setState((function(e){return(0,v.Z)((0,v.Z)({},e),(0,Z.bO)({editingGroupId:s,selectedElementIds:(0,l.Z)({},o.id,!0)},r.scene.getNonDeletedElements(),e,(0,f.Z)(r)))}))}if((0,de.z8)(r.interactiveCanvas),!e[k.tW.CTRL_OR_CMD]&&!r.state.viewModeEnabled){var c=r.getElementAtPosition(a,i);if((0,j.gs)(c))return void r.setState({activeEmbeddable:{element:c,state:"active"}});var u=(0,re.OW)(r.scene.getNonDeletedElements(),r.state,a,i);if(u&&((0,j.Xo)(u)||!(0,P.Qm)(u.backgroundColor)||(0,Co.Qu)(u,r.state,r.frameNameBoundsCache,[a,i]))){var d=(0,re.TP)(u,r.state);a=d.x,i=d.y}r.startTextEditing({sceneX:a,sceneY:i,insertAtParentCenter:!e.altKey,container:u})}}},r.getElementLinkAtPosition=function(e,t){var n=r.scene.getNonDeletedElements().slice().reverse(),a=1/0;return n.find((function(n,i){return t&&n.id===t.id&&(a=i),n.link&&i<=a&&(0,yt.Ni)(n,r.state,[e.x,e.y],r.device.isMobile)}))},r.redirectToLink=function(e,t){var n=(0,ue.LW)(r.lastPointerDownEvent.clientX,r.lastPointerDownEvent.clientY,r.lastPointerUpEvent.clientX,r.lastPointerUpEvent.clientY);if(!(!r.hitLinkElement||t&&n>q.f||!t&&0!==n)){var a=(0,P.dE)(r.lastPointerDownEvent,r.state),i=(0,yt.Ni)(r.hitLinkElement,r.state,[a.x,a.y],r.device.isMobile),o=(0,P.dE)(r.lastPointerUpEvent,r.state),l=(0,yt.Ni)(r.hitLinkElement,r.state,[o.x,o.y],r.device.isMobile);if(i&&l){var s,c,u=r.hitLinkElement.link;if(u)if(u=(0,Mo.$u)(u),r.props.onLinkOpen&&(c=(0,P.ag)(q.Ks.EXCALIDRAW_LINK,e.nativeEvent),r.props.onLinkOpen((0,v.Z)((0,v.Z)({},r.hitLinkElement),{},{link:u}),c)),null===(s=c)||void 0===s||!s.defaultPrevented){var d=(0,Mo.q$)(u)?"_self":"_blank",f=window.open(void 0,d);f&&(f.opener=null,f.location=u)}}}},r.getTopLayerFrameAtSceneCoords=function(e){var t=r.scene.getNonDeletedFrames().filter((function(t){return(0,oe.Dn)(e,t)}));return t.length?t[t.length-1]:null},r.handleCanvasPointerMove=function(e){r.savePointer(e.clientX,e.clientY,r.state.cursorButton),us.pointers.has(e.pointerId)&&us.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY});var t=us.initialScale;if(2===us.pointers.size&&us.lastCenter&&t&&us.initialDistance){var n=Tt(us.pointers),l=n.x-us.lastCenter.x,s=n.y-us.lastCenter.y;us.lastCenter=n;var c=jt(Array.from(us.pointers.values())),u="freedraw"===r.state.activeTool.type&&r.state.penMode?1:c/us.initialDistance,d=u?(0,w.j)(t*u):r.state.zoom.value;r.setState((function(e){var t=(0,Rt.E)({viewportX:n.x,viewportY:n.y,nextZoom:d},e);r.translateCanvas({zoom:t.zoom,scrollX:t.scrollX+l/d,scrollY:t.scrollY+s/d,shouldCacheIgnoreZoom:!0})})),r.resetShouldCacheIgnoreZoomDebounced()}else us.lastCenter=us.initialDistance=us.initialScale=null;if(!(Jl||es||ts||(0,_t.l$)(r.state))){var f=(0,w._4)(ns,e.clientX-r.state.offsetLeft,e.clientY-r.state.offsetTop).isOverEither;r.state.draggingElement||r.state.multiElement||(f?(0,de.z8)(r.interactiveCanvas):(0,de.Uk)(r.interactiveCanvas,r.state));var h,p=(0,P.dE)(e,r.state),v=p.x,m=p.y;if(r.state.draggingElement||"rectangle"!==(h=r.state.activeTool.type)&&"ellipse"!==h&&"diamond"!==h&&"frame"!==h&&"image"!==h)r.state.draggingElement||r.setState({snapLines:[]});else{var y=function(e,t,n,r){if(!Do({event:r,selectedElements:[],appState:t}))return{originOffset:{x:0,y:0},snapLines:[]};var i,o=(0,te.CF)(e,[],t),l=Po(t.zoom.value),s={x:l,y:l},c=[],u=[],d=(0,a.Z)(o);try{for(d.s();!(i=d.n()).done;){var f,h=i.value,p=Oo([h]),v=(0,a.Z)(p);try{for(v.s();!(f=v.n()).done;){var m=f.value,g=m[0]-n.x;Math.abs(g)<=Math.abs(s.x)&&(Math.abs(g)<Math.abs(s.x)&&(u.length=0),u.push({type:"pointer",points:[m,[m[0],n.y]],direction:"vertical"}),s.x=g);var y=m[1]-n.y;Math.abs(y)<=Math.abs(s.y)&&(Math.abs(y)<Math.abs(s.y)&&(c.length=0),c.push({type:"pointer",points:[m,[n.x,m[1]]],direction:"horizontal"}),s.y=y)}}catch(b){v.e(b)}finally{v.f()}}}catch(b){d.e(b)}finally{d.f()}return{originOffset:{x:u.length>0?u[0].points[0][0]-n.x:0,y:c.length>0?c[0].points[0][1]-n.y:0},snapLines:[].concat(u,c)}}(r.scene.getNonDeletedElements(),r.state,{x:v,y:m},e),b=y.originOffset,x=y.snapLines;r.setState({snapLines:x,originSnapOffset:b})}if(r.state.editingLinearElement&&!r.state.editingLinearElement.isDragging){var E=I._.handlePointerMove(e,v,m,r.state);E&&E!==r.state.editingLinearElement&&(0,g.flushSync)((function(){r.setState({editingLinearElement:E})})),null!=(null===E||void 0===E?void 0:E.lastUncommittedPoint)?r.maybeSuggestBindingAtCursor(p):(0,g.flushSync)((function(){r.setState({suggestedBindings:[]})}))}if((0,j.Lx)(r.state.activeTool.type)){var S=r.state.draggingElement;(0,j.Mn)(S,!1)?r.maybeSuggestBindingsForLinearElementAtCoords(S,[p],r.state.startBoundElement):r.maybeSuggestBindingAtCursor(p)}if(r.state.multiElement){var C=r.state.multiElement,Z=C.x,T=C.y,L=C.points,D=C.lastCommittedPoint,O=L[L.length-1];if((0,de.Uk)(r.interactiveCanvas,r.state),O===D)(0,ue.LW)(v-Z,m-T,O[0],O[1])>=q.qx?(0,_.DR)(C,{points:[].concat((0,i.Z)(L),[[v-Z,m-T]])}):(0,de.KJ)(r.interactiveCanvas,q.oc.POINTER);else if(L.length>2&&D&&(0,ue.LW)(v-Z,m-T,D[0],D[1])<q.qx)(0,de.KJ)(r.interactiveCanvas,q.oc.POINTER),(0,_.DR)(C,{points:L.slice(0,-1)});else{var R,A=(0,ue.wC)(v,m,e[k.tW.CTRL_OR_CMD]?null:r.state.gridSize),N=(0,o.Z)(A,2),z=N[0],B=N[1],F=null!==(R=null===C||void 0===C?void 0:C.lastCommittedPoint)&&void 0!==R?R:[0,0],H=(0,o.Z)(F,2),W=H[0],U=H[1],K=z-Z-W,V=B-T-U;if((0,k.Ge)(e)){var Y=(0,M.o4)(W+Z,U+T,z,B);K=Y.width,V=Y.height}(0,ue.g6)(L,r.state.zoom.value)&&(0,de.KJ)(r.interactiveCanvas,q.oc.POINTER),(0,_.DR)(C,{points:[].concat((0,i.Z)(L.slice(0,-1)),[[W+K,U+V]])})}}else{if(!(Boolean(e.buttons)||"selection"!==r.state.activeTool.type&&"text"!==r.state.activeTool.type&&"eraser"!==r.state.activeTool.type)){var G=r.scene.getNonDeletedElements(),X=r.scene.getSelectedElements(r.state);if(1!==X.length||f||r.state.editingLinearElement){if(X.length>1&&!f){var $=(0,M.n2)((0,M.KP)(X),v,m,r.state.zoom,e.pointerType);if($)return void(0,de.KJ)(r.interactiveCanvas,(0,M.Un)({transformHandleType:$}))}}else{var Q=(0,M.jt)(G,r.state,v,m,r.state.zoom,e.pointerType);if(Q&&Q.transformHandleType)return void(0,de.KJ)(r.interactiveCanvas,(0,M.Un)(Q))}var J=r.getElementAtPosition(p.x,p.y);if(r.hitLinkElement=r.getElementLinkAtPosition(p,J),!(0,_t.EN)(r.state))if(r.hitLinkElement&&!r.state.selectedElementIds[r.hitLinkElement.id])(0,de.KJ)(r.interactiveCanvas,q.oc.POINTER),(0,yt.Pp)(r.hitLinkElement,r.state);else if((0,yt.lV)(),J&&(J.link||(0,j.gs)(J))&&r.state.selectedElementIds[J.id]&&!r.state.contextMenu&&!r.state.showHyperlinkPopup)r.setState({showHyperlinkPopup:"info"});else if("text"===r.state.activeTool.type)(0,de.KJ)(r.interactiveCanvas,(0,M.iB)(J)?q.oc.TEXT:q.oc.CROSSHAIR);else if(r.state.viewModeEnabled)(0,de.KJ)(r.interactiveCanvas,q.oc.GRAB);else if(f)(0,de.KJ)(r.interactiveCanvas,q.oc.AUTO);else if(r.state.selectedLinearElement)r.handleHoverSelectedLinearElement(r.state.selectedLinearElement,v,m);else if(e[k.tW.CTRL_OR_CMD])(0,de.KJ)(r.interactiveCanvas,q.oc.AUTO);else{var ee;if((J||r.isHittingCommonBoundingBoxOfSelectedElements(p,X))&&(null===J||void 0===J||!J.locked))if(J&&(0,j.gs)(J)&&r.isEmbeddableCenter(J,e,v,m))(0,de.KJ)(r.interactiveCanvas,q.oc.POINTER),r.setState({activeEmbeddable:{element:J,state:"hover"}});else(0,de.KJ)(r.interactiveCanvas,q.oc.MOVE),"hover"===(null===(ee=r.state.activeEmbeddable)||void 0===ee?void 0:ee.state)&&r.setState({activeEmbeddable:null})}}}}},r.handleEraser=function(e,t,n){for(var a=function(n){n.forEach((function(n){n.locked||(i.push(n.id),e.altKey?t.elementIdsToErase[n.id]&&t.elementIdsToErase[n.id].erase&&(t.elementIdsToErase[n.id].erase=!1):t.elementIdsToErase[n.id]||(t.elementIdsToErase[n.id]={erase:!0,opacity:n.opacity}))}))},i=[],o=(0,ue.LW)(t.lastCoords.x,t.lastCoords.y,n.x,n.y),l=10/r.state.zoom.value,s=(0,v.Z)({},t.lastCoords),c=0;c<=o;){if(a(r.getElementsAtPosition(s.x,s.y)),c===o)break;var u=(c=Math.min(c+l,o))/o,d=(1-u)*s.x+u*n.x,f=(1-u)*s.y+u*n.y;s.x=d,s.y=f}var h=r.scene.getElementsIncludingDeleted().map((function(n){var r=(0,j.Xh)(n)&&i.includes(n.containerId)?n.containerId:n.id;if(i.includes(r)){if(!e.altKey)return(0,_.BE)(n,{opacity:q.xY});if(t.elementIdsToErase[r]&&!1===t.elementIdsToErase[r].erase)return(0,_.BE)(n,{opacity:t.elementIdsToErase[r].opacity})}return n}));r.scene.replaceAllElements(h),t.lastCoords.x=n.x,t.lastCoords.y=n.y},r.handleTouchMove=function(e){as=!0},r.handleCanvasPointerDown=function(e){var t,n;if(r.state.contextMenu&&r.setState({contextMenu:null}),r.state.snapLines&&r.setAppState({snapLines:[]}),r.updateGestureOnPointerDown(e),"touch"===e.pointerType&&r.state.draggingElement&&"freedraw"===r.state.draggingElement.type){var a=r.state.draggingElement;r.updateScene((0,v.Z)((0,v.Z)({},a.points.length<10?{elements:r.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==a.id}))}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:(0,te.Oh)(Object.keys(r.state.selectedElementIds).filter((function(e){return e!==a.id})).reduce((function(e,t){return e[t]=r.state.selectedElementIds[t],e}),{}),r.state)}}))}else{var i=document.getSelection();if(null!==i&&void 0!==i&&i.anchorNode&&i.removeAllRanges(),r.maybeOpenContextMenuAfterPointerDownOnTouchDevices(e),r.maybeCleanupAfterMissingPointerUp(e),r.state.penDetected||"pen"!==e.pointerType||r.setState((function(e){return{penMode:!0,penDetected:!0}})),!r.device.isTouchScreen&&["pen","touch"].includes(e.pointerType)&&(r.device=(0,P.v4)(r.device,{isTouchScreen:!0})),!es&&(r.lastPointerDownEvent=e,!r.handleCanvasPanUsingWheelOrSpaceDrag(e)&&(r.setState({lastPointerDownWith:e.pointerType,cursorButton:"down"}),r.savePointer(e.clientX,e.clientY,"down"),(e.button===q.Oh.MAIN||e.button===q.Oh.TOUCH)&&!(us.pointers.size>1)))){var o=r.initialPointerDownState(e);if(r.setState({selectedElementsAreBeingDragged:!1}),!r.handleDraggingScrollBar(e,o))if(r.clearSelectionIfNotUsingSelection(),r.updateBindingEnabledOnPointerMove(e),!r.handleSelectionOnPointerDown(e,o))if(!r.state.penMode||"touch"!==e.pointerType||"selection"===r.state.activeTool.type||"text"===r.state.activeTool.type||"image"===r.state.activeTool.type)if("text"!==r.state.activeTool.type){if("arrow"===r.state.activeTool.type||"line"===r.state.activeTool.type)r.handleLinearElementOnPointerDown(e,r.state.activeTool.type,o);else if("image"===r.state.activeTool.type){(0,de.KJ)(r.interactiveCanvas,q.oc.CROSSHAIR);var l=r.state.pendingImageElementId&&r.scene.getElement(r.state.pendingImageElementId);if(!l)return;r.setState({draggingElement:l,editingElement:l,pendingImageElementId:null,multiElement:null});var s=(0,P.dE)(e,r.state),c=s.x,u=s.y;(0,_.DR)(l,{x:c,y:u})}else"freedraw"===r.state.activeTool.type?r.handleFreeDrawElementOnPointerDown(e,r.state.activeTool.type,o):"custom"===r.state.activeTool.type?(0,de.Uk)(r.interactiveCanvas,r.state):"frame"===r.state.activeTool.type?r.createFrameElementOnPointerDown(o):"laser"===r.state.activeTool.type?r.laserPathManager.startPath(o.lastCoords.x,o.lastCoords.y):"eraser"!==r.state.activeTool.type&&"hand"!==r.state.activeTool.type&&r.createGenericElementOnPointerDown(r.state.activeTool.type,o);null===(t=r.props)||void 0===t||null===(n=t.onPointerDown)||void 0===n||n.call(t,r.state.activeTool,o),r.onPointerDownEmitter.trigger(r.state.activeTool,o,e);var d=r.onPointerMoveFromPointerDownHandler(o),f=r.onPointerUpFromPointerDownHandler(o),h=r.onKeyDownFromPointerDownHandler(o),p=r.onKeyUpFromPointerDownHandler(o);cs=f,r.state.viewModeEnabled&&"laser"!==r.state.activeTool.type||(window.addEventListener(q.Ks.POINTER_MOVE,d),window.addEventListener(q.Ks.POINTER_UP,f),window.addEventListener(q.Ks.KEYDOWN,h),window.addEventListener(q.Ks.KEYUP,p),o.eventListeners.onMove=d,o.eventListeners.onUp=f,o.eventListeners.onKeyUp=p,o.eventListeners.onKeyDown=h)}else r.handleTextOnPointerDown(e,o)}}},r.handleCanvasPointerUp=function(e){var t,n;r.removePointer(e),r.lastPointerUpEvent=e;var a=(0,P.dE)({clientX:e.clientX,clientY:e.clientY},r.state),i=e.timeStamp-(null!==(t=null===(n=r.lastPointerDownEvent)||void 0===n?void 0:n.timeStamp)&&void 0!==t?t:0);if(r.device.isMobile&&i<300){var o=r.getElementAtPosition(a.x,a.y);if((0,j.gs)(o)&&r.isEmbeddableCenter(o,e,a.x,a.y))return void r.handleEmbeddableCenterClick(o)}if(r.device.isTouchScreen){var l=r.getElementAtPosition(a.x,a.y);r.hitLinkElement=r.getElementLinkAtPosition(a,l)}r.hitLinkElement&&!r.state.selectedElementIds[r.hitLinkElement.id]?i<300&&"embeddable"===r.hitLinkElement.type&&!(0,yt.wq)(r.hitLinkElement,r.state,[a.x,a.y])?r.handleEmbeddableCenterClick(r.hitLinkElement):r.redirectToLink(e,r.device.isTouchScreen):r.state.viewModeEnabled&&r.setState({activeEmbeddable:null,selectedElementIds:{}})},r.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(e){"touch"===e.pointerType&&(as=!1,rs?as=!0:rs=window.setTimeout((function(){rs=0,as||r.handleCanvasContextMenu(e)}),q.nM))},r.resetContextMenuTimer=function(){clearTimeout(rs),rs=0,as=!1},r.handleCanvasPanUsingWheelOrSpaceDrag=function(e){if(!(us.pointers.size<=1&&(e.button===q.Oh.WHEEL||e.button===q.Oh.MAIN&&Jl||(0,_t.l$)(r.state)||r.state.viewModeEnabled))||(0,M.iB)(r.state.editingElement))return!1;es=!0,e.preventDefault();var t=!1,n=/Linux/.test(window.navigator.platform);(0,de.KJ)(r.interactiveCanvas,q.oc.GRABBING);var a=e.clientX,i=e.clientY,o=(0,P.$9)((function(e){var o=a-e.clientX,l=i-e.clientY;if(a=e.clientX,i=e.clientY,n&&!t&&(Math.abs(o)>1||Math.abs(l)>1)){t=!0;var s=function e(t){document.body.removeEventListener(q.Ks.PASTE,e),t.stopPropagation()};document.body.addEventListener(q.Ks.PASTE,s),window.addEventListener(q.Ks.POINTER_UP,(function e(){setTimeout((function(){document.body.removeEventListener(q.Ks.PASTE,s),window.removeEventListener(q.Ks.POINTER_UP,e)}),100)}))}r.translateCanvas({scrollX:r.state.scrollX-o/r.state.zoom.value,scrollY:r.state.scrollY-l/r.state.zoom.value})})),l=(0,P.tH)(cs=function(){cs=null,es=!1,Jl||(r.state.viewModeEnabled?(0,de.KJ)(r.interactiveCanvas,q.oc.GRAB):(0,de.Uk)(r.interactiveCanvas,r.state)),r.setState({cursorButton:"up"}),r.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener(q.Ks.POINTER_MOVE,o),window.removeEventListener(q.Ks.POINTER_UP,l),window.removeEventListener(q.Ks.BLUR,l),o.flush()});return window.addEventListener(q.Ks.BLUR,l),window.addEventListener(q.Ks.POINTER_MOVE,o,{passive:!0}),window.addEventListener(q.Ks.POINTER_UP,l),!0},r.clearSelectionIfNotUsingSelection=function(){"selection"!==r.state.activeTool.type&&r.setState({selectedElementIds:(0,te.Oh)({},r.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})},r.handleSelectionOnPointerDown=function(e,t){if("selection"===r.state.activeTool.type){var n=r.scene.getNonDeletedElements(),a=r.scene.getSelectedElements(r.state);if(1!==a.length||r.state.editingLinearElement)a.length>1&&(t.resize.handleType=(0,M.n2)((0,M.KP)(a),t.origin.x,t.origin.y,r.state.zoom,e.pointerType));else{var i=(0,M.jt)(n,r.state,t.origin.x,t.origin.y,r.state.zoom,e.pointerType);null!=i&&(r.setState({resizingElement:i.element}),t.resize.handleType=i.transformHandleType)}if(t.resize.handleType)t.resize.isResizing=!0,t.resize.offset=(0,P.AK)((0,M.xx)(t.resize.handleType,a,t.origin.x,t.origin.y)),1===a.length&&(0,j.bt)(a[0])&&2===a[0].points.length&&(t.resize.arrowDirection=(0,M.T)(t.resize.handleType,a[0]));else{var o;if(r.state.selectedLinearElement){var s=r.state.editingLinearElement||r.state.selectedLinearElement,c=I._.handlePointerDown(e,r.state,r.history,t.origin,s);if(c.hitElement&&(t.hit.element=c.hitElement),c.linearElementEditor&&(r.setState({selectedLinearElement:c.linearElementEditor}),r.state.editingLinearElement&&r.setState({editingLinearElement:c.linearElementEditor})),c.didAddPoint)return!0}if(t.hit.element=null!==(o=t.hit.element)&&void 0!==o?o:r.getElementAtPosition(t.origin.x,t.origin.y),t.hit.element)if(r.getElementLinkAtPosition({x:t.origin.x,y:t.origin.y},t.hit.element))return!1;t.hit.allHitElements=r.getElementsAtPosition(t.origin.x,t.origin.y);var u=t.hit.element,d=t.hit.allHitElements.some((function(e){return r.isASelectedElement(e)}));if(null!==u&&d||e.shiftKey||t.hit.hasHitCommonBoundingBoxOfSelectedElements||r.clearSelection(u),r.state.editingLinearElement)r.setState({selectedElementIds:(0,te.Oh)((0,l.Z)({},r.state.editingLinearElement.elementId,!0),r.state)});else if(null!=u){if(e[k.tW.CTRL_OR_CMD])return r.state.selectedElementIds[u.id]||(t.hit.wasAddedToSelection=!0),r.setState((function(e){return(0,v.Z)((0,v.Z)({},(0,Z.iE)(e,u)),{},{previousSelectedElementIds:r.state.selectedElementIds})})),!1;r.state.selectedElementIds[u.id]||(r.state.editingGroupId&&!(0,Z.Nd)(u,r.state.editingGroupId)&&r.setState({selectedElementIds:(0,te.Oh)({},r.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),d||t.hit.hasHitCommonBoundingBoxOfSelectedElements||(r.setState((function(e){var t=(0,v.Z)((0,v.Z)({},e.selectedElementIds),{},(0,l.Z)({},u.id,!0)),n=[];if(Object.keys(e.selectedElementIds).forEach((function(e){var t=r.scene.getElement(e);t&&n.push(t)})),"frame"===u.type)(0,oe.wO)(n,u.id).forEach((function(e){delete t[e.id]}));else if(u.frameId)t[u.frameId]&&delete t[u.id];else{var a=u.groupIds,i=new Set(a.flatMap((function(e){return(0,Z.Fb)(r.scene.getNonDeletedElements(),e)})).filter((function(e){return"frame"===e.type})).map((function(e){return e.id})));i.size>0&&n.forEach((function(e){e.frameId&&i.has(e.frameId)&&(delete t[e.id],e.groupIds.flatMap((function(e){return(0,Z.Fb)(r.scene.getNonDeletedElements(),e)})).forEach((function(e){delete t[e.id]})))}))}return(0,v.Z)((0,v.Z)({},(0,Z.bO)({editingGroupId:e.editingGroupId,selectedElementIds:t},r.scene.getNonDeletedElements(),e,(0,f.Z)(r))),{},{showHyperlinkPopup:!(!u.link&&!(0,j.gs)(u))&&"info"})})),t.hit.wasAddedToSelection=!0))}r.setState({previousSelectedElementIds:r.state.selectedElementIds})}}return!1},r.handleTextOnPointerDown=function(e,t){if(!(0,M.iB)(r.state.editingElement)){var n=t.origin.x,a=t.origin.y,i=r.getElementAtPosition(n,a,{includeBoundTextElement:!0}),o=(0,re.OW)(r.scene.getNonDeletedElements(),r.state,n,a);(0,j.Xo)(i)&&(o=i,n=i.x+i.width/2,a=i.y+i.height/2),r.startTextEditing({sceneX:n,sceneY:a,insertAtParentCenter:!e.altKey,container:o}),(0,de.z8)(r.interactiveCanvas),r.state.activeTool.locked||r.setState({activeTool:(0,P.Om)(r.state,{type:"selection"})})}},r.handleFreeDrawElementOnPointerDown=function(e,t,n){var a=(0,ue.wC)(n.origin.x,n.origin.y,null),l=(0,o.Z)(a,2),s=l[0],c=l[1],u=r.getTopLayerFrameAtSceneCoords({x:s,y:c}),d=(0,Ue.KE)({type:t,x:s,y:c,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:null,simulatePressure:.5===e.pressure,locked:!1,frameId:u?u.id:null});r.setState((function(e){var t=(0,v.Z)({},e.selectedElementIds);return delete t[d.id],{selectedElementIds:(0,te.Oh)(t,e)}}));var f=d.simulatePressure?d.pressures:[].concat((0,i.Z)(d.pressures),[e.pressure]);(0,_.DR)(d,{points:[[0,0]],pressures:f});var h=(0,T.Y9)(n.origin,r.scene);r.scene.addNewElement(d),r.setState({draggingElement:d,editingElement:d,startBoundElement:h,suggestedBindings:[]})},r.insertEmbeddableElement=function(e){var t,n=e.sceneX,a=e.sceneY,l=e.link,s=(0,ue.wC)(n,a,null!==(t=r.lastPointerDownEvent)&&void 0!==t&&t[k.tW.CTRL_OR_CMD]?null:r.state.gridSize),c=(0,o.Z)(s,2),u=c[0],d=c[1],f=(0,Nt.LM)(l);if(f){f.warning&&r.setToast({message:f.warning,closable:!0});var h=(0,Ue.M)({type:"embeddable",x:u,y:d,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,roundness:r.getCurrentItemRoundness("embeddable"),opacity:r.state.currentItemOpacity,locked:!1,width:f.aspectRatio.w,height:f.aspectRatio.h,link:l,validated:null});return r.scene.replaceAllElements([].concat((0,i.Z)(r.scene.getElementsIncludingDeleted()),[h])),h}},r.createImageElement=function(e){var t,n=e.sceneX,a=e.sceneY,i=(0,ue.wC)(n,a,null!==(t=r.lastPointerDownEvent)&&void 0!==t&&t[k.tW.CTRL_OR_CMD]?null:r.state.gridSize),l=(0,o.Z)(i,2),s=l[0],c=l[1],u=r.getTopLayerFrameAtSceneCoords({x:s,y:c});return(0,M.vw)({type:"image",x:s,y:c,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,roundness:null,opacity:r.state.currentItemOpacity,locked:!1,frameId:u?u.id:null})},r.handleLinearElementOnPointerDown=function(e,t,n){if(r.state.multiElement){var a=r.state.multiElement;if("line"===a.type&&(0,ue.g6)(a.points,r.state.zoom.value))return(0,_.DR)(a,{lastCommittedPoint:a.points[a.points.length-1]}),void r.actionManager.executeAction(fe);var s=a.x,c=a.y,u=a.lastCommittedPoint;if(a.points.length>1&&u&&(0,ue.LW)(n.origin.x-s,n.origin.y-c,u[0],u[1])<q.qx)return void r.actionManager.executeAction(fe);r.setState((function(e){return{selectedElementIds:(0,te.Oh)((0,v.Z)((0,v.Z)({},e.selectedElementIds),{},(0,l.Z)({},a.id,!0)),e)}})),(0,_.DR)(a,{lastCommittedPoint:a.points[a.points.length-1]}),(0,de.KJ)(r.interactiveCanvas,q.oc.POINTER)}else{var d=(0,ue.wC)(n.origin.x,n.origin.y,e[k.tW.CTRL_OR_CMD]?null:r.state.gridSize),f=(0,o.Z)(d,2),h=f[0],p=f[1],m=r.getTopLayerFrameAtSceneCoords({x:h,y:p}),g=r.state,y=g.currentItemStartArrowhead,b=g.currentItemEndArrowhead,x="arrow"===t?[y,b]:[null,null],w=(0,o.Z)(x,2),E=w[0],S=w[1],C=(0,M.y8)({type:t,x:h,y:p,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:"round"===r.state.currentItemRoundness?{type:q.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:E,endArrowhead:S,locked:!1,frameId:m?m.id:null});r.setState((function(e){var t=(0,v.Z)({},e.selectedElementIds);return delete t[C.id],{selectedElementIds:(0,te.Oh)(t,e)}})),(0,_.DR)(C,{points:[].concat((0,i.Z)(C.points),[[0,0]])});var Z=(0,T.Y9)(n.origin,r.scene);r.scene.addNewElement(C),r.setState({draggingElement:C,editingElement:C,startBoundElement:Z,suggestedBindings:[]})}},r.createGenericElementOnPointerDown=function(e,t){var n,a,i=(0,ue.wC)(t.origin.x,t.origin.y,null!==(n=r.lastPointerDownEvent)&&void 0!==n&&n[k.tW.CTRL_OR_CMD]?null:r.state.gridSize),l=(0,o.Z)(i,2),s=l[0],c=l[1],u=r.getTopLayerFrameAtSceneCoords({x:s,y:c}),d={x:s,y:c,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:r.getCurrentItemRoundness(e),locked:!1,frameId:u?u.id:null};"selection"===(a="embeddable"===e?(0,Ue.M)((0,v.Z)({type:"embeddable",validated:null},d)):(0,M.Up)((0,v.Z)({type:e},d))).type?r.setState({selectionElement:a,draggingElement:a}):(r.scene.addNewElement(a),r.setState({multiElement:null,draggingElement:a,editingElement:a}))},r.createFrameElementOnPointerDown=function(e){var t,n=(0,ue.wC)(e.origin.x,e.origin.y,null!==(t=r.lastPointerDownEvent)&&void 0!==t&&t[k.tW.CTRL_OR_CMD]?null:r.state.gridSize),a=(0,o.Z)(n,2),l=a[0],s=a[1],c=(0,Ue.M3)((0,v.Z)({x:l,y:s,opacity:r.state.currentItemOpacity,locked:!1},q.iG));r.scene.replaceAllElements([].concat((0,i.Z)(r.scene.getElementsIncludingDeleted()),[c])),r.setState({multiElement:null,draggingElement:c,editingElement:c})},r.restoreReadyToEraseElements=function(e){var t=r.scene.getElementsIncludingDeleted().map((function(t){return e.elementIdsToErase[t.id]&&e.elementIdsToErase[t.id].erase?(0,_.BE)(t,{opacity:e.elementIdsToErase[t.id].opacity}):(0,j.Xh)(t)&&e.elementIdsToErase[t.containerId]&&e.elementIdsToErase[t.containerId].erase?(0,_.BE)(t,{opacity:e.elementIdsToErase[t.containerId].opacity}):t.frameId&&e.elementIdsToErase[t.frameId]&&e.elementIdsToErase[t.frameId].erase?(0,_.BE)(t,{opacity:e.elementIdsToErase[t.frameId].opacity}):t}));r.scene.replaceAllElements(t)},r.eraseElements=function(e){var t=r.scene.getElementsIncludingDeleted().map((function(t){return e.elementIdsToErase[t.id]&&e.elementIdsToErase[t.id].erase||(0,j.Xh)(t)&&e.elementIdsToErase[t.containerId]&&e.elementIdsToErase[t.containerId].erase||t.frameId&&e.elementIdsToErase[t.frameId]&&e.elementIdsToErase[t.frameId].erase?(0,_.BE)(t,{isDeleted:!0}):t}));r.history.resumeRecording(),r.scene.replaceAllElements(t)},r.initializeImage=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n,a,i,o,u,d,f,h,p,m,g,y,b,x,w;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.imageFile,u=t.imageElement,d=t.showCursorImagePreview,f=void 0!==d&&d,(0,be.Wr)(o)){e.next=3;break}throw new Error((0,S.t)("errors.unsupportedFileType"));case 3:if(h=o.type,(0,de.KJ)(r.interactiveCanvas,"wait"),h!==q.LO.svg){e.next=23;break}return e.prev=6,e.t0=be.Pn,e.t1=So.bp,e.next=11,o.text();case 11:return e.t2=e.sent,e.next=14,(0,e.t1)(e.t2);case 14:e.t3=e.sent,e.t4=o.name,o=(0,e.t0)(e.t3,e.t4),e.next=23;break;case 19:throw e.prev=19,e.t5=e.catch(6),console.warn(e.t5),new Error((0,S.t)("errors.svgImageInsertError"));case 23:return e.next=25,(null===(n=(a=r.props).generateIdForFile)||void 0===n?void 0:n.call(a,o))||(0,be.tW)(o);case 25:if(p=e.sent){e.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,S.t)("errors.imageInsertError"));case 29:if(null!==(m=r.files[p])&&void 0!==m&&m.dataURL){e.next=42;break}return e.prev=31,e.next=34,(0,be.Tu)(o,{maxWidthOrHeight:q.h6});case 34:o=e.sent,e.next=40;break;case 37:e.prev=37,e.t6=e.catch(31),console.error("error trying to resing image file on insertion",e.t6);case 40:if(!(o.size>q.$n)){e.next=42;break}throw new Error((0,S.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(q.$n/1024/1024),"MB")}));case 42:if(f&&(y=null===(g=r.files[p])||void 0===g?void 0:g.dataURL,b=y&&(0,be.KG)(y),r.setImagePreviewCursor(b||o)),e.t7=null===(i=r.files[p])||void 0===i?void 0:i.dataURL,e.t7){e.next=48;break}return e.next=47,(0,be.Sf)(o);case 47:e.t7=e.sent;case 48:return x=e.t7,w=(0,_.DR)(u,{fileId:p},!1),e.abrupt("return",new Promise(function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n){var a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.files=(0,v.Z)((0,v.Z)({},r.files),{},(0,l.Z)({},p,{mimeType:h,id:p,dataURL:x,created:Date.now(),lastRetrieved:Date.now()})),i=r.imageCache.get(p)){e.next=7;break}return r.addNewImagesToImageCache(),e.next=7,r.updateImageCache([w]);case 7:if(!((null===i||void 0===i?void 0:i.image)instanceof Promise)){e.next=10;break}return e.next=10,i.image;case 10:r.state.pendingImageElementId!==w.id&&(null===(a=r.state.draggingElement)||void 0===a?void 0:a.id)!==w.id&&r.initializeImageDimensions(w,!0),t(w),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),n(new Error((0,S.t)("errors.imageInsertError")));case 18:return e.prev=18,f||(0,de.z8)(r.interactiveCanvas),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(t,n){return e.apply(this,arguments)}}()));case 51:case"end":return e.stop()}}),e,null,[[6,19],[31,37]])})));return function(t){return e.apply(this,arguments)}}(),r.insertImageElement=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n,a){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.scene.addNewElement(t),e.prev=1,e.next=4,r.initializeImage({imageFile:n,imageElement:t,showCursorImagePreview:a});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),(0,_.DR)(t,{isDeleted:!0}),r.actionManager.executeAction(fe),r.setState({errorMessage:e.t0.message||(0,S.t)("errors.imageInsertError")}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.setImagePreviewCursor=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n,a,i,o,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=96,e.next=3,(0,be.Tu)(t,{maxWidthOrHeight:n});case 3:return a=e.sent,e.next=6,(0,be.Sf)(a);case 6:if(i=e.sent,t.type!==q.LO.svg){e.next=20;break}return e.next=10,(0,So.PK)(i);case 10:o=e.sent,l=Math.min(o.height,n),(c=l*(o.width/o.height))>n&&(l=(c=n)*(o.height/o.width)),(u=document.createElement("canvas")).height=l,u.width=c,u.getContext("2d").drawImage(o,0,0,c,l),i=u.toDataURL(q.LO.svg);case 20:r.state.pendingImageElementId&&(0,de.KJ)(r.interactiveCanvas,"url(".concat(i,") 4 4, auto"));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onImageAction=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n,a,i,o,c,u,d,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.insertOnCanvasDirectly,e.prev=1,a=r.state.width/2+r.state.offsetLeft,i=r.state.height/2+r.state.offsetTop,o=(0,P.dE)({clientX:a,clientY:i},r.state),c=o.x,u=o.y,e.next=7,(0,xe.I$)({description:"Image",extensions:Object.keys(q.KL)});case 7:d=e.sent,f=r.createImageElement({sceneX:c,sceneY:u}),n?(r.insertImageElement(f,d),r.initializeImageDimensions(f),r.setState({selectedElementIds:(0,te.Oh)((0,l.Z)({},f.id,!0),r.state)},(function(){r.actionManager.executeAction(fe)}))):r.setState({pendingImageElementId:f.id},(function(){r.insertImageElement(f,d,!0)})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),"AbortError"!==e.t0.name?console.error(e.t0):console.warn(e.t0),r.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,P.Om)(r.state,{type:"selection"})},(function(){r.actionManager.executeAction(fe)}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),r.initializeImageDimensions=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=(0,j.wi)(e)&&(null===(t=r.imageCache.get(e.fileId))||void 0===t?void 0:t.image);if(!a||a instanceof Promise){if(e.width<q.f/r.state.zoom.value&&e.height<q.f/r.state.zoom.value){var i=100/r.state.zoom.value;(0,_.DR)(e,{x:e.x-i/2,y:e.y-i/2,width:i,height:i})}}else if(n||e.width<q.f/r.state.zoom.value&&e.height<q.f/r.state.zoom.value){var o=Math.max(r.state.height-120,160),l=Math.min(o,Math.floor(.5*r.state.height)/r.state.zoom.value),s=Math.min(a.naturalHeight,l),c=s*(a.naturalWidth/a.naturalHeight),u=e.x+e.width/2-c/2,d=e.y+e.height/2-s/2;(0,_.DR)(e,{x:u,y:d,width:c,height:s})}},r.updateImageCache=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n,i,o,l,c,u,d,f=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:r.files,e.next=3,(0,So.Xx)({imageCache:r.imageCache,fileIds:t.map((function(e){return e.fileId})),files:n});case 3:if(i=e.sent,o=i.updatedFiles,l=i.erroredFiles,o.size||l.size){c=(0,a.Z)(t);try{for(c.s();!(u=c.n()).done;)d=u.value,o.has(d.fileId)&&uo.R.delete(d)}catch(s){c.e(s)}finally{c.f()}}return l.size&&r.scene.replaceAllElements(r.scene.getElementsIncludingDeleted().map((function(e){return(0,j.wi)(e)&&l.has(e.fileId)?(0,_.BE)(e,{status:"error"}):e}))),e.abrupt("return",{updatedFiles:o,erroredFiles:l});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addNewImagesToImageCache=(0,c.Z)((0,s.Z)().mark((function e(){var t,n,a,i,o=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:(0,So.oA)(r.scene.getNonDeletedElements()),n=o.length>1&&void 0!==o[1]?o[1]:r.files,!(a=t.filter((function(e){return!e.isDeleted&&!r.imageCache.has(e.fileId)}))).length){e.next=9;break}return e.next=6,r.updateImageCache(a,n);case 6:i=e.sent,i.updatedFiles.size&&r.scene.informMutation();case 9:case"end":return e.stop()}}),e)}))),r.scheduleImageRefresh=ir()((function(){r.addNewImagesToImageCache()}),q.LL),r.updateBindingEnabledOnPointerMove=function(e){var t=(0,T.cz)(e);r.state.isBindingEnabled!==t&&r.setState({isBindingEnabled:t})},r.maybeSuggestBindingAtCursor=function(e){var t=(0,T.Y9)(e,r.scene);r.setState({suggestedBindings:null!=t?[t]:[]})},r.maybeSuggestBindingsForLinearElementAtCoords=function(e,t,n){if(t.length){var a=t.reduce((function(t,a){var i=(0,T.Y9)(a,r.scene);return null==i||(0,T.DK)(e,null===n||void 0===n?void 0:n.id,i)||t.push(i),t}),[]);r.setState({suggestedBindings:a})}},r.handleInteractiveCanvasRef=function(e){var t,n,a;null!==e?(r.interactiveCanvas=e,r.interactiveCanvas.addEventListener(q.Ks.WHEEL,r.handleWheel),r.interactiveCanvas.addEventListener(q.Ks.TOUCH_START,r.onTouchStart),r.interactiveCanvas.addEventListener(q.Ks.TOUCH_END,r.onTouchEnd)):(null===(t=r.interactiveCanvas)||void 0===t||t.removeEventListener(q.Ks.WHEEL,r.handleWheel),null===(n=r.interactiveCanvas)||void 0===n||n.removeEventListener(q.Ks.TOUCH_START,r.onTouchStart),null===(a=r.interactiveCanvas)||void 0===a||a.removeEventListener(q.Ks.TOUCH_END,r.onTouchEnd))},r.handleAppOnDrop=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n,a,i,o,c,u,d,f,h,p,m,g,y,b,x,w;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,be.bv)(t);case 2:if(i=e.sent,o=i.file,c=i.fileHandle,u=(0,P.dE)(t,r.state),d=u.x,f=u.y,e.prev=6,!(0,be.Wr)(o)){e.next=26;break}if((null===o||void 0===o?void 0:o.type)!==q.LO.png&&(null===o||void 0===o?void 0:o.type)!==q.LO.svg){e.next=21;break}return e.prev=9,e.next=12,(0,be.cT)(o,r.state,r.scene.getElementsIncludingDeleted(),c);case 12:return h=e.sent,r.syncActionResult((0,v.Z)((0,v.Z)({},h),{},{appState:(0,v.Z)((0,v.Z)({},h.appState||r.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),e.abrupt("return");case 17:if(e.prev=17,e.t0=e.catch(9),"EncodingError"===e.t0.name){e.next=21;break}throw e.t0;case 21:return p=r.createImageElement({sceneX:d,sceneY:f}),r.insertImageElement(p,o),r.initializeImageDimensions(p),r.setState({selectedElementIds:(0,te.Oh)((0,l.Z)({},p.id,!0),r.state)}),e.abrupt("return");case 26:e.next=31;break;case 28:return e.prev=28,e.t1=e.catch(6),e.abrupt("return",r.setState({isLoading:!1,errorMessage:e.t1.message}));case 31:if(!(m=t.dataTransfer.getData(q.LO.excalidrawlib))||"string"!==typeof m){e.next=35;break}try{g=(0,be.wf)(m),r.addElementsFromPasteOrLibrary({elements:(0,Zt.WV)(g),position:t,files:null})}catch(s){r.setState({errorMessage:s.message})}return e.abrupt("return");case 35:if(!o){e.next=38;break}return e.next=38,r.loadFileToCanvas(o,c);case 38:null!==(n=t.dataTransfer)&&void 0!==n&&null!==(a=n.types)&&void 0!==a&&a.includes("text/plain")&&(x=null===(y=t.dataTransfer)||void 0===y?void 0:y.getData("text"))&&(0,Nt.xm)(x,r.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(x)||"video"===(null===(b=(0,Nt.LM)(x))||void 0===b?void 0:b.type))&&(w=r.insertEmbeddableElement({sceneX:d,sceneY:f,link:(0,Mo.$u)(x)}))&&r.setState({selectedElementIds:(0,l.Z)({},w.id,!0)});case 39:case"end":return e.stop()}}),e,null,[[6,28],[9,17]])})));return function(t){return e.apply(this,arguments)}}(),r.loadFileToCanvas=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,be.gY)(t);case 2:return t=e.sent,e.prev=3,e.next=6,(0,be.ZY)(t,r.state,r.scene.getElementsIncludingDeleted(),n);case 6:if((a=e.sent).type!==q.LO.excalidraw){e.next=12;break}r.setState({isLoading:!0}),r.syncActionResult((0,v.Z)((0,v.Z)({},a.data),{},{appState:(0,v.Z)((0,v.Z)({},a.data.appState||r.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),e.next=15;break;case 12:if(a.type!==q.LO.excalidrawlib){e.next=15;break}return e.next=15,r.library.updateLibrary({libraryItems:t,merge:!0,openLibraryMenu:!0}).catch((function(e){console.error(e),r.setState({errorMessage:(0,S.t)("errors.importLibraryError")})}));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),r.setState({isLoading:!1,errorMessage:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t,n){return e.apply(this,arguments)}}(),r.handleCanvasContextMenu=function(e){if(e.preventDefault(),!("pointerType"in e.nativeEvent&&"touch"===e.nativeEvent.pointerType||"pointerType"in e.nativeEvent&&"pen"===e.nativeEvent.pointerType&&e.button!==q.Oh.SECONDARY)||"selection"===r.state.activeTool.type){var t=(0,P.dE)(e,r.state),n=t.x,a=t.y,i=r.getElementAtPosition(n,a,{preferSelected:!0,includeLockedElements:!0}),o=r.scene.getSelectedElements(r.state),s=r.isHittingCommonBoundingBoxOfSelectedElements({x:n,y:a},o),c=i||s?"element":"canvas",u=r.excalidrawContainerRef.current.getBoundingClientRect(),d=u.top,h=u.left,p=e.clientX-h,m=e.clientY-d;(0,St.L)("contextMenu","openContextMenu",c),r.setState((0,v.Z)((0,v.Z)({},i&&!r.state.selectedElementIds[i.id]?(0,v.Z)((0,v.Z)((0,v.Z)({},r.state),(0,Z.bO)({editingGroupId:r.state.editingGroupId,selectedElementIds:(0,l.Z)({},i.id,!0)},r.scene.getNonDeletedElements(),r.state,(0,f.Z)(r))),{},{selectedLinearElement:(0,j.bt)(i)?new I._(i,r.scene):null}):r.state),{},{showHyperlinkPopup:!1}),(function(){r.setState({contextMenu:{top:m,left:p,items:r.getContextMenuItems(c)}})}))}},r.maybeDragNewGenericElement=function(e,t){var n=r.state.draggingElement,a=e.lastCoords;if(n)if("selection"===n.type&&"eraser"!==r.state.activeTool.type)(0,M.EJ)(n,r.state.activeTool.type,e.origin.x,e.origin.y,a.x,a.y,(0,P.TE)(e.origin.x,a.x),(0,P.TE)(e.origin.y,a.y),(0,k.E0)(t),(0,k.OA)(t));else{var i,l,s,c,u,d=(0,ue.wC)(a.x,a.y,t[k.tW.CTRL_OR_CMD]?null:r.state.gridSize),f=(0,o.Z)(d,2),h=f[0],p=f[1],v=(0,j.wi)(n)&&(null===(i=r.imageCache.get(n.fileId))||void 0===i?void 0:i.image),m=!v||v instanceof Promise?null:v.width/v.height;r.maybeCacheReferenceSnapPoints(t,[n]);var g=function(e,t,n,r,a){var i,o,l,s;if(!Do({event:n,selectedElements:[e],appState:t}))return{snapOffset:{x:0,y:0},snapLines:[]};var c=[[r.x+a.x,r.y+a.y]],u=Po(t.zoom.value),d={x:u,y:u},f=[],h=[];No([e],c,t,n,f,h,d);var p={x:null!==(i=null===(o=f[0])||void 0===o?void 0:o.offset)&&void 0!==i?i:0,y:null!==(l=null===(s=h[0])||void 0===s?void 0:s.offset)&&void 0!==l?l:0};d.x=0,d.y=0,f.length=0,h.length=0;var v=Oo([e],{boundingBoxCorners:!0,omitCenter:!0});return No([e],v,t,n,f,h,d),{snapOffset:p,snapLines:Fo(f,h)}}(n,r.state,t,{x:e.originInGrid.x+(null!==(l=null===(s=r.state.originSnapOffset)||void 0===s?void 0:s.x)&&void 0!==l?l:0),y:e.originInGrid.y+(null!==(c=null===(u=r.state.originSnapOffset)||void 0===u?void 0:u.y)&&void 0!==c?c:0)},{x:h-e.originInGrid.x,y:p-e.originInGrid.y}),y=g.snapOffset,b=g.snapLines;h+=y.x,p+=y.y,r.setState({snapLines:b}),(0,M.EJ)(n,r.state.activeTool.type,e.originInGrid.x,e.originInGrid.y,h,p,(0,P.TE)(e.originInGrid.x,h),(0,P.TE)(e.originInGrid.y,p),(0,j.pC)(n)?!(0,k.E0)(t):(0,k.E0)(t),(0,k.OA)(t),m,r.state.originSnapOffset),r.maybeSuggestBindingForAll([n]),"frame"===r.state.activeTool.type&&r.setState({elementsToHighlight:(0,oe.ni)(r.scene.getNonDeletedElements(),n,r.state)})}},r.maybeHandleResize=function(e,t){var n=r.scene.getSelectedElements(r.state),a=n.filter((function(e){return"frame"===e.type})),l=e.resize.handleType;if(a.length>0&&"rotation"===l)return!1;r.setState({isResizing:l&&"rotation"!==l,isRotating:"rotation"===l,activeEmbeddable:null});var s=e.lastCoords,c=(0,ue.wC)(s.x-e.resize.offset.x,s.y-e.resize.offset.y,t[k.tW.CTRL_OR_CMD]?null:r.state.gridSize),u=(0,o.Z)(c,2),d=u[0],f=u[1],h=new Map;if(a.forEach((function(e){(0,oe.wO)(r.scene.getNonDeletedElements(),e.id).forEach((function(t){h.set(e.id+t.id,{x:t.x-e.x,y:t.y-e.y})}))})),!r.state.selectedElementsAreBeingDragged){var p=(0,ue.wC)(s.x,s.y,t[k.tW.CTRL_OR_CMD]?null:r.state.gridSize),v=(0,o.Z)(p,2),m=v[0],g=v[1],y={x:m-e.originInGrid.x,y:g-e.originInGrid.y},b=(0,i.Z)(e.originalElements.values());r.maybeCacheReferenceSnapPoints(t,n);var x=Wo(n,(0,w.eD)(b,r.state),r.state,t,y,l),E=x.snapOffset,S=x.snapLines;d+=E.x,f+=E.y,r.setState({snapLines:S})}if((0,M.vY)(e,l,n,e.resize.arrowDirection,(0,k.Ge)(t),(0,k.OA)(t),1===n.length&&(0,j.pC)(n[0])?!(0,k.E0)(t):(0,k.E0)(t),d,f,e.resize.center.x,e.resize.center.y,r.state)){r.maybeSuggestBindingForAll(n);var C=new Set;return a.forEach((function(e){var t=(0,oe.wO)(r.scene.getNonDeletedElements(),e.id);l&&(l.includes("w")&&t.forEach((function(t){var n,r;(0,_.DR)(t,{x:e.x+((null===(n=h.get(e.id+t.id))||void 0===n?void 0:n.x)||0),y:e.y+((null===(r=h.get(e.id+t.id))||void 0===r?void 0:r.y)||0)})})),l.includes("n")&&t.forEach((function(t){var n,r;(0,_.DR)(t,{x:e.x+((null===(n=h.get(e.id+t.id))||void 0===n?void 0:n.x)||0),y:e.y+((null===(r=h.get(e.id+t.id))||void 0===r?void 0:r.y)||0)})}))),(0,oe.ni)(r.scene.getNonDeletedElements(),e,r.state).forEach((function(e){return C.add(e)}))})),r.setState({elementsToHighlight:(0,i.Z)(C)}),!0}return!1},r.getContextMenuItems=function(e){var t=[];return t.push(lt,ot),"canvas"===e?r.state.viewModeEnabled?[].concat(t,[ct,ut,Eo,ft]):[at,Ht,lt,ot,st,Ht,ne,wt,Ht,ct,dt,ut,Eo,ft]:(t.push(st),r.state.viewModeEnabled?[rt].concat(t):[it,rt,at,To,jo,Ht].concat(t,[Ht,De,Oe,Ht,ze,pt,vt,gt,Be,Ht,Ke,Ht,$,Q,J,ee,Ht,Je,et,Ht,kt,yt.nz,le,xt,Ht,R]))},r.handleWheel=(0,P.tH)((function(e){if(e.preventDefault(),!es){var t=e.deltaX,n=e.deltaY;if(e.metaKey||e.ctrlKey){var a=Math.sign(n),i=100*q.V4,o=Math.abs(n),l=n;o>i&&(l=i*a);var s=r.state.zoom.value-l/100;return s+=Math.log10(Math.max(1,r.state.zoom.value))*-a*Math.min(1,o/20),r.translateCanvas((function(e){return(0,v.Z)((0,v.Z)({},(0,Rt.E)({viewportX:r.lastViewportPosition.x,viewportY:r.lastViewportPosition.y,nextZoom:(0,w.j)(s)},e)),{},{shouldCacheIgnoreZoom:!0})})),void r.resetShouldCacheIgnoreZoomDebounced()}e.shiftKey?r.translateCanvas((function(e){var r=e.zoom;return{scrollX:e.scrollX-(n||t)/r.value}})):r.translateCanvas((function(e){var r=e.zoom,a=e.scrollX,i=e.scrollY;return{scrollX:a-t/r.value,scrollY:i-n/r.value}}))}})),r.savePointer=function(e,t,n){var a,i;if(e&&t){var o=(0,P.dE)({clientX:e,clientY:t},r.state),l=o.x,s=o.y;isNaN(l)||isNaN(s);var c={x:l,y:s,tool:"laser"===r.state.activeTool.type?"laser":"pointer"};null===(a=(i=r.props).onPointerUpdate)||void 0===a||a.call(i,{pointer:c,button:n,pointersMap:us.pointers})}},r.resetShouldCacheIgnoreZoomDebounced=(0,P.Ds)((function(){r.unmounted||r.setState({shouldCacheIgnoreZoom:!1})}),300),r.updateDOMRect=function(e){var t;if(null!==(t=r.excalidrawContainerRef)&&void 0!==t&&t.current){var n=r.excalidrawContainerRef.current.getBoundingClientRect(),a=n.width,i=n.height,o=n.left,l=n.top,s=r.state,c=s.width,u=s.height,d=s.offsetTop,f=s.offsetLeft;if(a===c&&i===u&&o===f&&l===d)return void(e&&e());r.setState({width:a,height:i,offsetLeft:o,offsetTop:l},(function(){e&&e()}))}},r.refresh=function(){r.setState((0,v.Z)({},r.getCanvasOffsets()))};var d,h=(0,_t.im)(),p=e.excalidrawRef,b=e.viewModeEnabled,O=void 0!==b&&b,N=e.zenModeEnabled,z=void 0!==N&&N,B=e.gridModeEnabled,F=void 0!==B&&B,H=e.objectsSnapModeEnabled,W=void 0!==H&&H,U=e.theme,K=void 0===U?h.theme:U,V=e.name,Y=void 0===V?h.name:V;if(r.state=(0,v.Z)((0,v.Z)((0,v.Z)({},h),{},{theme:K,isLoading:!0},r.getCanvasOffsets()),{},{viewModeEnabled:O,zenModeEnabled:z,objectsSnapModeEnabled:W,gridSize:F?q.k:null,name:Y,width:window.innerWidth,height:window.innerHeight}),r.id=(0,x.x0)(),r.library=new Zt.ZP((0,f.Z)(r)),r.scene=new A.Z,r.canvas=document.createElement("canvas"),r.rc=y.Z.canvas(r.canvas),r.renderer=new sl(r.scene),p){var G,X="current"in p&&(null===(G=p.current)||void 0===G?void 0:G.readyPromise)||(0,P.PI)(),ae={ready:!0,readyPromise:X,updateScene:r.updateScene,updateLibrary:r.library.updateLibrary,addFiles:r.addFiles,resetScene:r.resetScene,getSceneElementsIncludingDeleted:r.getSceneElementsIncludingDeleted,history:{clear:r.resetHistory},scrollToContent:r.scrollToContent,getSceneElements:r.getSceneElements,getAppState:function(){return r.state},getFiles:function(){return r.files},refresh:r.refresh,setToast:r.setToast,id:r.id,setActiveTool:r.setActiveTool,setCursor:r.setCursor,resetCursor:r.resetCursor,updateFrameRendering:r.updateFrameRendering,toggleSidebar:r.toggleSidebar,onChange:function(e){return r.onChangeEmitter.on(e)},onPointerDown:function(e){return r.onPointerDownEmitter.on(e)},onPointerUp:function(e){return r.onPointerUpEmitter.on(e)}};"function"===typeof p?p(ae):p.current=ae,X.resolve(ae)}return r.excalidrawContainerValue={container:r.excalidrawContainerRef.current,id:r.id},r.fonts=new Zo({scene:r.scene,onSceneUpdated:r.onSceneUpdated}),r.history=new Dt,r.actionManager=new Mt(r.syncActionResult,(function(){return r.state}),(function(){return r.scene.getElementsIncludingDeleted()}),(0,f.Z)(r)),r.actionManager.registerAll(C.N),r.actionManager.registerAction((d=r.history,{name:"undo",trackEvent:{category:"history"},perform:function(e,t){return Et(e,t,(function(){return d.undoOnce()}))},keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.key.toLowerCase()===k.tW.Z&&!e.shiftKey},PanelComponent:function(e){var t=e.updateData,n=e.data;return(0,D.jsx)(E.V,{type:"button",icon:L.UE,"aria-label":(0,S.t)("buttons.undo"),onClick:t,size:(null===n||void 0===n?void 0:n.size)||"medium"})},commitToHistory:function(){return!1}})),r.actionManager.registerAction(function(e){return{name:"redo",trackEvent:{category:"history"},perform:function(t,n){return Et(t,n,(function(){return e.redoOnce()}))},keyTest:function(e){return e[k.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key.toLowerCase()===k.tW.Z||q.ED&&e.ctrlKey&&!e.shiftKey&&e.key===k.tW.Y},PanelComponent:function(e){var t=e.updateData,n=e.data;return(0,D.jsx)(E.V,{type:"button",icon:L.zG,"aria-label":(0,S.t)("buttons.redo"),onClick:t,size:(null===n||void 0===n?void 0:n.size)||"medium"})},commitToHistory:function(){return!1}}}(r.history)),r}return(0,d.Z)(n,[{key:"onWindowMessage",value:function(e){if("https://player.vimeo.com"===e.origin||"https://www.youtube.com"===e.origin){var t=null;try{t=JSON.parse(e.data)}catch(ul){}if(t)switch(e.origin){case"https://player.vimeo.com":if("paused"===t.method){var n,r=null,i=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!i)break;var o,l=(0,a.Z)(i);try{for(l.s();!(o=l.n()).done;){var s=o.value;s.contentWindow===e.source&&(r=s.contentWindow)}}catch(d){l.e(d)}finally{l.f()}null===(n=r)||void 0===n||n.postMessage(JSON.stringify({method:t.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if("infoDelivery"===t.event&&t.info&&t.id&&"number"===typeof t.info.playerState){var c=t.id,u=t.info.playerState;Object.values(q.vf).includes(u)&&is.set(c,u)}}}}},{key:"updateEmbeddableRef",value:function(e,t){t&&this.iFrameRefs.set(e,t)}},{key:"getHTMLIFrameElement",value:function(e){return this.iFrameRefs.get(e)}},{key:"handleEmbeddableCenterClick",value:function(e){var t,n,r,a,i=this;if((null===(t=this.state.activeEmbeddable)||void 0===t?void 0:t.element)!==e||"active"!==(null===(n=this.state.activeEmbeddable)||void 0===n?void 0:n.state)){setTimeout((function(){i.setState({activeEmbeddable:{element:e,state:"active"},selectedElementIds:(0,l.Z)({},e.id,!0),draggingElement:null,selectionElement:null})}),100);var o=this.getHTMLIFrameElement(e.id);if(null!==o&&void 0!==o&&o.contentWindow){if(o.src.includes("youtube")){var s=is.get(e.id);switch(s||(is.set(e.id,q.vf.UNSTARTED),o.contentWindow.postMessage(JSON.stringify({event:"listening",id:e.id}),"*")),s){case q.vf.PLAYING:case q.vf.BUFFERING:null===(r=o.contentWindow)||void 0===r||r.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:null===(a=o.contentWindow)||void 0===a||a.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}o.src.includes("player.vimeo.com")&&o.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}}},{key:"isEmbeddableCenter",value:function(e,t,n,r){var a,i;return e&&!t.altKey&&!t.shiftKey&&!t.metaKey&&!t.ctrlKey&&((null===(a=this.state.activeEmbeddable)||void 0===a?void 0:a.element)!==e||"hover"===(null===(i=this.state.activeEmbeddable)||void 0===i?void 0:i.state)||!this.state.activeEmbeddable)&&n>=e.x+e.width/3&&n<=e.x+2*e.width/3&&r>=e.y+e.height/3&&r<=e.y+2*e.height/3}},{key:"renderEmbeddables",value:function(){var e=this,t=this.state.zoom.value,n=this.state.width,r=this.state.height,a=this.scene.getNonDeletedElements().filter((function(e){return(0,j.gs)(e)&&!!e.validated}));return(0,D.jsx)(D.Fragment,{children:a.map((function(a){var i,o,s,c,u,d,f,h,p=(0,P._i)({sceneX:a.x,sceneY:a.y},e.state),v=p.x,m=p.y,g=(0,Nt.LM)((0,Mo.ye)(a.link||"")),y=(0,Ot.PZ)(a,n,r,e.state),x=(null===(i=e.state.activeEmbeddable)||void 0===i?void 0:i.element)===a&&"active"===(null===(o=e.state.activeEmbeddable)||void 0===o?void 0:o.state),w=(null===(s=e.state.activeEmbeddable)||void 0===s?void 0:s.element)===a&&"hover"===(null===(c=e.state.activeEmbeddable)||void 0===c?void 0:c.state);return(0,D.jsx)("div",{className:(0,b.Z)("excalidraw__embeddable-container",{"is-hovered":w}),style:(0,l.Z)({transform:y?"translate(".concat(v-e.state.offsetLeft,"px, ").concat(m-e.state.offsetTop,"px) scale(").concat(t,")"):"none",display:y?"block":"none",opacity:a.opacity/100},"--embeddable-radius","".concat((0,ue.yW)(Math.min(a.width,a.height),a),"px")),children:(0,D.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:y?"".concat(a.width,"px"):0,height:y?"".concat(a.height,"px"):0,transform:y?"rotate(".concat(a.angle,"rad)"):"none",pointerEvents:x?q.XI.enabled:q.XI.disabled},children:[w&&(0,D.jsx)("div",{className:"excalidraw__embeddable-hint",children:(0,S.t)("buttons.embeddableInteractionButton")}),(0,D.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:"".concat(a.strokeWidth,"px")},children:null!==(u=null===(d=(f=e.props).renderEmbeddable)||void 0===d?void 0:d.call(f,a,e.state))&&void 0!==u?u:(0,D.jsx)("iframe",{ref:function(t){return e.updateEmbeddableRef(a.id,t)},className:"excalidraw__embeddable",srcDoc:"document"===(null===g||void 0===g?void 0:g.type)?g.srcdoc(e.state.theme):void 0,src:"document"!==(null===g||void 0===g?void 0:g.type)?null!==(h=null===g||void 0===g?void 0:g.link)&&void 0!==h?h:"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads"})})]})},a.id)}))})}},{key:"render",value:function(){var e,t,n,r=this,a=this.scene.getSelectedElements(this.state),i=this.props,o=i.renderTopRightUI,s=i.renderCustomStats,c=this.scene.getVersionNonce(),u=this.renderer.getRenderableElements({versionNonce:c,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingElement:this.state.editingElement,pendingImageElementId:this.state.pendingImageElementId}),d=u.canvasElements,f=u.visibleElements;return(0,D.jsx)("div",{className:(0,b.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.isMobile}),style:(0,l.Z)({},"--ui-pointerEvents",this.state.selectionElement||this.state.draggingElement||this.state.resizingElement||"laser"===this.state.activeTool.type&&"down"===this.state.cursorButton||this.state.editingElement&&!(0,M.iB)(this.state.editingElement)?q.XI.disabled:q.XI.enabled),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,D.jsx)(Dl.Provider,{value:this,children:(0,D.jsx)(Ol.Provider,{value:this.props,children:(0,D.jsx)(Nl.Provider,{value:this.excalidrawContainerValue,children:(0,D.jsx)(Al.Provider,{value:this.device,children:(0,D.jsx)(Fl.Provider,{value:this.setAppState,children:(0,D.jsx)(Bl.Provider,{value:this.state,children:(0,D.jsxs)(zl.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,D.jsxs)(Hl.Provider,{value:this.actionManager,children:[(0,D.jsx)(wo,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:(0,S.G3)().code,renderTopRightUI:o,renderCustomStats:s,showExitZenModeBtn:"undefined"===typeof(null===(e=this.props)||void 0===e?void 0:e.zenModeEnabled)&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&"selection"===this.state.activeTool.type&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,children:this.props.children}),(0,D.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,D.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,D.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,D.jsx)(cl,{manager:this.laserPathManager}),1===a.length&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,D.jsx)(yt.nW,{element:a[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast},a[0].id),null!==this.state.toast&&(0,D.jsx)(ko,{message:this.state.toast.message,onClose:function(){return r.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,D.jsx)(Wt,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:function(e){r.setState({contextMenu:null},(function(){r.focusContainer(),null===e||void 0===e||e()}))}}),(0,D.jsx)(ll,{canvas:this.canvas,rc:this.rc,elements:d,visibleElements:f,versionNonce:c,selectionNonce:null===(t=this.state.selectionElement)||void 0===t?void 0:t.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!0}}),(0,D.jsx)(rl,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elements:d,visibleElements:f,selectedElements:a,versionNonce:c,selectionNonce:null===(n=this.state.selectionElement)||void 0===n?void 0:n.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}},{key:"componentDidMount",value:function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var t,n,r,a,i,o,l=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,((void 0).MODE===q.Vi.TEST||(void 0).DEV)&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return l.state}},setState:{configurable:!0,value:function(){return l.setState.apply(l,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),this.excalidrawContainerRef.current&&!(0,P.h2)()&&this.refreshDeviceState(this.excalidrawContainerRef.current),"ResizeObserver"in window&&null!==(t=this.excalidrawContainerRef)&&void 0!==t&&t.current?(this.resizeObserver=new ResizeObserver((function(){l.refreshDeviceState(l.excalidrawContainerRef.current),l.updateDOMRect()})),null===(n=this.resizeObserver)||void 0===n||n.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(r=window.matchMedia("(max-width: ".concat(q.kV,"px), (max-height: ").concat(q.Yx,"px) and (max-width: ").concat(q.sS,"px)")),a=window.matchMedia("(max-width: ".concat(q.eF,"px)")),i=window.matchMedia("(min-width: ".concat(null!=this.props.UIOptions.dockedSidebarBreakpoint?this.props.UIOptions.dockedSidebarBreakpoint:q.sk,"px)")),o=function(){l.excalidrawContainerRef.current.getBoundingClientRect(),l.device=(0,P.v4)(l.device,{isSmScreen:a.matches,isMobile:r.matches,canDeviceFitSidebar:i.matches})},r.addListener(o),this.detachIsMobileMqHandler=function(){return r.removeListener(o)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,q.jP)()&&!(0,re.eB)()&&this.setState({errorMessage:(0,D.jsx)(Uo,{})});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e;this.renderer.destroy(),this.scene=new A.Z,this.renderer=new sl(this.scene),this.files={},this.imageCache.clear(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),this.library.destroy(),this.laserPathManager.destroy(),this.onChangeEmitter.destroy(),uo.R.destroy(),Lo.destroy(),clearTimeout(rs),w.N.clearCache(),Z.bO.clearCache(),rs=0}},{key:"removeEventListeners",value:function(){var e,t,n,r,a;document.removeEventListener(q.Ks.POINTER_UP,this.removePointer),document.removeEventListener(q.Ks.COPY,this.onCopy),document.removeEventListener(q.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(q.Ks.CUT,this.onCut),null===(e=this.excalidrawContainerRef.current)||void 0===e||e.removeEventListener(q.Ks.WHEEL,this.onWheel),null===(t=this.nearestScrollableContainer)||void 0===t||t.removeEventListener(q.Ks.SCROLL,this.onScroll),document.removeEventListener(q.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(q.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(q.Ks.KEYUP,this.onKeyUp),window.removeEventListener(q.Ks.RESIZE,this.onResize,!1),window.removeEventListener(q.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(q.Ks.BLUR,this.onBlur,!1),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.removeEventListener(q.Ks.DRAG_OVER,this.disableEvent,!1),null===(r=this.excalidrawContainerRef.current)||void 0===r||r.removeEventListener(q.Ks.DROP,this.disableEvent,!1),document.removeEventListener(q.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(q.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(q.Ks.GESTURE_END,this.onGestureEnd,!1),null===(a=this.detachIsMobileMqHandler)||void 0===a||a.call(this),window.removeEventListener(q.Ks.MESSAGE,this.onWindowMessage,!1)}},{key:"addEventListeners",value:function(){var e,t,n,r,a,i=this;this.removeEventListeners(),window.addEventListener(q.Ks.MESSAGE,this.onWindowMessage,!1),document.addEventListener(q.Ks.POINTER_UP,this.removePointer),document.addEventListener(q.Ks.COPY,this.onCopy),null===(e=this.excalidrawContainerRef.current)||void 0===e||e.addEventListener(q.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(q.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(q.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(q.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),null===(t=document.fonts)||void 0===t||null===(n=t.addEventListener)||void 0===n||n.call(t,"loadingdone",(function(e){var t=e.fontfaces;i.fonts.onFontsLoaded(t)})),document.addEventListener(q.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(q.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(q.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(q.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(q.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,P.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(q.Ks.SCROLL,this.onScroll)),window.addEventListener(q.Ks.RESIZE,this.onResize,!1),window.addEventListener(q.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(q.Ks.BLUR,this.onBlur,!1),null===(r=this.excalidrawContainerRef.current)||void 0===r||r.addEventListener(q.Ks.DRAG_OVER,this.disableEvent,!1),null===(a=this.excalidrawContainerRef.current)||void 0===a||a.addEventListener(q.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(e,t){var n,r,a,i,o=this;(this.updateEmbeddables(),this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),this.excalidrawContainerRef.current&&e.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshDeviceState(this.excalidrawContainerRef.current),t.scrollX!==this.state.scrollX||t.scrollY!==this.state.scrollY)&&(null===(a=this.props)||void 0===a||null===(i=a.onScrollChange)||void 0===i||i.call(a,this.state.scrollX,this.state.scrollY));Object.keys(this.state.selectedElementIds).length&&(0,_t.EN)(this.state)&&this.setState({activeTool:(0,P.Om)(this.state,{type:"selection"})}),"eraser"===this.state.activeTool.type&&t.theme!==this.state.theme&&(0,de.OF)(this.interactiveCanvas,this.state.theme),"selection"===t.activeTool.type&&"selection"!==this.state.activeTool.type&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),e.langCode!==this.props.langCode&&this.updateLanguage(),e.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),t.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),e.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),e.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),e.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?q.k:null}),this.props.name&&e.name!==this.props.name&&this.setState({name:this.props.name}),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.classList.toggle("theme--dark","dark"===this.state.theme),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout((function(){o.state.editingLinearElement&&o.actionManager.executeAction(fe)})),null!==(r=this.state.editingElement)&&void 0!==r&&r.isDeleted&&this.setState({editingElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var l,s,c=t.multiElement;(t.activeTool!==this.state.activeTool&&null!=c&&(0,T.N1)(this.state)&&(0,j.Mn)(c,!1)&&(0,T.R)(c,this.state,this.scene,(0,P.AK)(I._.getPointAtIndexGlobalCoordinates(c,-1))),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading)||(null===(l=(s=this.props).onChange)||void 0===l||l.call(s,this.scene.getElementsIncludingDeleted(),this.state,this.files),this.onChangeEmitter.trigger(this.scene.getElementsIncludingDeleted(),this.state,this.files))}},{key:"addElementsFromMixedContentPaste",value:function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,l,u,d,f,h,p,v,m,g,y,b,x;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.isPlainPaste,i=n.sceneX,o=n.sceneY,r||!t.some((function(e){return"imageUrl"===e.type}))){e.next=35;break}return l=t.filter((function(e){return"imageUrl"===e.type})).map((function(e){return e.value})),e.next=5,Promise.all(l.map(function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,be._p)(t);case 3:return e.t0=e.sent,e.abrupt("return",{file:e.t0});case 7:return e.prev=7,e.t1=e.catch(0),e.abrupt("return",{errorMessage:e.t1.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 5:u=e.sent,d=o,f=!1,h={},p=(0,a.Z)(u),e.prev=10,p.s();case 12:if((v=p.n()).done){e.next=22;break}if(!(m=v.value).file){e.next=20;break}return g=this.createImageElement({sceneX:i,sceneY:d}),e.next=18,this.insertImageElement(g,m.file);case 18:(y=e.sent)&&(f||(f=!0,d-=y.height/2),(0,_.DR)(y,{y:d},!1),d=g.y+g.height+25,h[g.id]=!0);case 20:e.next=12;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(10),p.e(e.t0);case 27:return e.prev=27,p.f(),e.finish(27);case 30:this.setState({selectedElementIds:(0,te.Oh)(h,this.state)}),b=u.find((function(e){return!!e.errorMessage})),b&&b.errorMessage&&this.setState({errorMessage:b.errorMessage}),e.next=37;break;case 35:(x=t.filter((function(e){return"text"===e.type}))).length&&this.addTextFromPaste(x.map((function(e){return e.value})).join("\n\n"),r);case 37:case"end":return e.stop()}}),e,this,[[10,24,27,30]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addTextFromPaste",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,P.dE)({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),a=r.x,o=r.y,l={x:a,y:o,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:e,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,fontWeight:this.state.currentItemFontWeight,textAlign:this.state.currentItemTextAlign,verticalAlign:q.hs,locked:!1},s=o,c=n?[e]:e.split("\n"),u=c.reduce((function(e,n,r){var i=n.trim(),o=(0,re.PT)(l.fontFamily);if(i.length){var u=t.getTopLayerFrameAtSceneCoords({x:a,y:s}),d=(0,M.VL)((0,v.Z)((0,v.Z)({},l),{},{x:a,y:s,text:i,lineHeight:o,frameId:u?u.id:null}));e.push(d),s+=d.height+10}else{var f;(null===(f=c[r-1])||void 0===f?void 0:f.trim())&&(s+=(0,re.Rg)(l.fontSize,o)+10)}return e}),[]);if(0!==u.length){var d=u[0].frameId;d?this.scene.insertElementsAtIndex(u,this.scene.getElementIndex(d)):this.scene.replaceAllElements([].concat((0,i.Z)(this.scene.getElementsIncludingDeleted()),(0,i.Z)(u))),this.setState({selectedElementIds:(0,te.Oh)(Object.fromEntries(u.map((function(e){return[e.id,!0]}))),this.state)}),!n&&u.length>1&&!1===ss&&!this.device.isMobile&&(this.setToast({message:(0,S.t)("toast.pasteAsSingleElement",{shortcut:(0,P.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),ss=!0),this.history.resumeRecording()}}},{key:"handleTextWysiwyg",value:function(e,t){var n=this,r=t.isExistingElement,a=void 0!==r&&r,o=function(t,r,a){n.scene.replaceAllElements((0,i.Z)(n.scene.getElementsIncludingDeleted().map((function(n){return n.id===e.id&&(0,M.iB)(n)?(0,M.N_)(n,{text:t,isDeleted:a,originalText:r}):n}))))};(0,M.b_)({id:e.id,canvas:this.canvas,getViewportCoords:function(e,t){var r=(0,P._i)({sceneX:e,sceneY:t},n.state),a=r.x,i=r.y;return[a-n.state.offsetLeft,i-n.state.offsetTop]},onChange:(0,P.tH)((function(t){o(t,t,!1),(0,M.qP)(e)&&(0,T.Ww)(e)})),onSubmit:(0,P.tH)((function(t){var r=t.text,i=t.viaKeyboard,s=t.originalText,c=!r.trim();if(o(r,s,c),!c&&i){var u=e.containerId?e.containerId:e.id;n.setState((function(e){return{selectedElementIds:(0,te.Oh)((0,v.Z)((0,v.Z)({},e.selectedElementIds),{},(0,l.Z)({},u,!0)),e)}}))}c&&(0,T.$q)(n.scene.getNonDeletedElements(),[e]),c&&!a||n.history.resumeRecording(),n.setState({draggingElement:null,editingElement:null}),n.state.activeTool.locked&&(0,de.Uk)(n.interactiveCanvas,n.state),n.focusContainer()})),element:e,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),o(e.text,e.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:(0,te.Oh)({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}},{key:"getTextElementAtPosition",value:function(e,t){var n=this.getElementAtPosition(e,t,{includeBoundTextElement:!0});return n&&(0,M.iB)(n)&&!n.isDeleted?n:null}},{key:"getElementAtPosition",value:function(e,t,n){var r=this.getElementsAtPosition(e,t,null===n||void 0===n?void 0:n.includeBoundTextElement,null===n||void 0===n?void 0:n.includeLockedElements);if(r.length>1){if(null!==n&&void 0!==n&&n.preferSelected)for(var a=r.length-1;a>-1;a--)if(this.state.selectedElementIds[r[a].id])return r[a];var i=r[r.length-1];return(0,M.wB)(i,this.state,this.frameNameBoundsCache,e,t)?r[r.length-2]:i}return 1===r.length?r[0]:null}},{key:"getElementsAtPosition",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=r&&a?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter((function(e){return(a||!e.locked)&&(r||!((0,M.iB)(e)&&e.containerId))}));return(0,w.CJ)(i,(function(r){return(0,M.wX)(r,n.state,n.frameNameBoundsCache,e,t)})).filter((function(r){var a=(0,oe.$Z)(r);return!(a&&n.state.frameRendering.enabled&&n.state.frameRendering.clip)||(0,oe.Dn)({x:e,y:t},a)}))}},{key:"handleHoverSelectedLinearElement",value:function(e,t,n){var r=I._.getElement(e.elementId),a=(0,re.WJ)(r);if(r)if(this.state.selectedLinearElement){var i=-1,o=null;(0,Co.Qu)(r,this.state,this.frameNameBoundsCache,[t,n])?(i=I._.getPointIndexUnderCursor(r,this.state.zoom,t,n),o=I._.getSegmentMidpointHitCoords(e,{x:t,y:n},this.state),i>=0||o?(0,de.KJ)(this.interactiveCanvas,q.oc.POINTER):(0,de.KJ)(this.interactiveCanvas,q.oc.MOVE)):((0,_o.oY)([r],this.state)&&(0,M.wB)(r,this.state,this.frameNameBoundsCache,t,n)||a&&(0,M.wX)(a,this.state,this.frameNameBoundsCache,t,n))&&(0,de.KJ)(this.interactiveCanvas,q.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==i&&this.setState({selectedLinearElement:(0,v.Z)((0,v.Z)({},this.state.selectedLinearElement),{},{hoverPointIndex:i})}),I._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,o)||this.setState({selectedLinearElement:(0,v.Z)((0,v.Z)({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:o})})}else(0,de.KJ)(this.interactiveCanvas,q.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(e){null!==cs&&cs(e)}},{key:"updateGestureOnPointerDown",value:function(e){us.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY}),2===us.pointers.size&&(us.lastCenter=Tt(us.pointers),us.initialScale=this.state.zoom.value,us.initialDistance=jt(Array.from(us.pointers.values())))}},{key:"initialPointerDownState",value:function(e){var t=(0,P.dE)(e,this.state),n=this.scene.getSelectedElements(this.state),r=(0,M.KP)(n),a=(0,o.Z)(r,4),i=a[0],l=a[1],s=a[2],c=a[3];return{origin:t,withCmdOrCtrl:e[k.tW.CTRL_OR_CMD],originInGrid:(0,P.AK)((0,ue.wC)(t.x,t.y,e[k.tW.CTRL_OR_CMD]?null:this.state.gridSize)),scrollbars:(0,w._4)(ns,e.clientX-this.state.offsetLeft,e.clientY-this.state.offsetTop),lastCoords:(0,v.Z)({},t),originalElements:this.scene.getNonDeletedElements().reduce((function(e,t){return e.set(t.id,(0,Ue.OL)(t)),e}),new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(s+i)/2,y:(c+l)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(t,n)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(e,t){var n=this;if(!t.scrollbars.isOverEither||this.state.multiElement)return!1;ts=!0,t.lastCoords.x=e.clientX,t.lastCoords.y=e.clientY;var r=(0,P.$9)((function(e){e.target instanceof HTMLElement&&n.handlePointerMoveOverScrollbars(e,t)})),a=(0,P.tH)((function(){ts=!1,(0,de.Uk)(n.interactiveCanvas,n.state),cs=null,n.setState({cursorButton:"up"}),n.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener(q.Ks.POINTER_MOVE,r),window.removeEventListener(q.Ks.POINTER_UP,a),r.flush()}));return cs=a,window.addEventListener(q.Ks.POINTER_MOVE,r),window.addEventListener(q.Ks.POINTER_UP,a),!0}},{key:"isASelectedElement",value:function(e){return null!=e&&this.state.selectedElementIds[e.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(e,t){if(t.length<2)return!1;var n=10/this.state.zoom.value,r=(0,M.KP)(t),a=(0,o.Z)(r,4),i=a[0],l=a[1],s=a[2],c=a[3];return e.x>i-n&&e.x<s+n&&e.y>l-n&&e.y<c+n}},{key:"getCurrentItemRoundness",value:function(e){return"round"===this.state.currentItemRoundness?{type:(0,j.QI)(e)?q.a6.ADAPTIVE_RADIUS:q.a6.PROPORTIONAL_RADIUS}:null}},{key:"maybeCacheReferenceSnapPoints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!Do({event:e,appState:this.state,selectedElements:t})||!n&&Lo.getReferenceSnapPoints()||Lo.setReferenceSnapPoints(function(e,t,n){var r=Ro(e,t,n);return(0,Z.AI)(r).filter((function(e){return!(1===e.length&&(0,j.Xh)(e[0]))})).flatMap((function(e){return Oo(e)}))}(this.scene.getNonDeletedElements(),t,this.state))}},{key:"maybeCacheVisibleGaps",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!Do({event:e,appState:this.state,selectedElements:t})||!n&&Lo.getVisibleGaps()||Lo.setVisibleGaps(function(e,t,n){var r=Ro(e,t,n),a=(0,Z.AI)(r).filter((function(e){return!(1===e.length&&(0,j.Xh)(e[0]))})).map((function(e){return(0,Ve.KP)(e).map((function(e){return zo(e)}))})),i=a.sort((function(e,t){return e[0]-t[0]})),l=[],s=0;e:for(var c=0;c<i.length;c++)for(var u=i[c],d=c+1;d<i.length;d++){if(++s>99999)break e;var f=i[d],h=(0,o.Z)(u,4),p=h[1],v=h[2],m=h[3],g=(0,o.Z)(f,4),y=g[0],b=g[1],x=g[3];v<y&&(0,ue.ep)([p,m],[b,x])&&l.push({startBounds:u,endBounds:f,startSide:[[v,p],[v,m]],endSide:[[y,b],[y,x]],length:y-v,overlap:(0,ue.mW)([p,m],[b,x])})}var w=a.sort((function(e,t){return e[1]-t[1]})),k=[];s=0;e:for(var E=0;E<w.length;E++)for(var S=w[E],C=E+1;C<w.length;C++){if(++s>99999)break e;var M=w[C],_=(0,o.Z)(S,4),I=_[0],T=_[2],P=_[3],L=(0,o.Z)(M,3),D=L[0],O=L[1],R=L[2];P<O&&(0,ue.ep)([I,T],[D,R])&&k.push({startBounds:S,endBounds:M,startSide:[[I,P],[T,P]],endSide:[[D,O],[R,O]],length:O-P,overlap:(0,ue.mW)([I,T],[D,R])})}return{horizontalGaps:l,verticalGaps:k}}(this.scene.getNonDeletedElements(),t,this.state))}},{key:"onKeyDownFromPointerDownHandler",value:function(e){var t=this;return(0,P.tH)((function(n){t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onKeyUpFromPointerDownHandler",value:function(e){var t=this;return(0,P.tH)((function(n){n.key===k.tW.ALT&&n.preventDefault(),t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onPointerMoveFromPointerDownHandler",value:function(e){var t=this;return(0,P.$9)((function(n){var r;if(null===e.drag.offset&&(e.drag.offset=(0,P.AK)((0,M.$V)(t.scene.getSelectedElements(t.state),e.origin.x,e.origin.y))),n.target instanceof HTMLElement&&!t.handlePointerMoveOverScrollbars(n,e)){var s=(0,P.dE)(n,t.state);if((0,_t.EN)(t.state))t.handleEraser(n,e,s);else{"laser"===t.state.activeTool.type&&t.laserPathManager.addPointToPath(s.x,s.y);var c=(0,ue.wC)(s.x,s.y,n[k.tW.CTRL_OR_CMD]?null:t.state.gridSize),u=(0,o.Z)(c,2),d=u[0],f=u[1];if(e.drag.hasOccurred||"arrow"!==t.state.activeTool.type&&"line"!==t.state.activeTool.type||!((0,ue.LW)(s.x,s.y,e.origin.x,e.origin.y)<q.f)){if(e.resize.isResizing&&(e.lastCoords.x=s.x,e.lastCoords.y=s.y,t.maybeHandleResize(e,n)))return!0;if(t.state.selectedLinearElement){var h=t.state.editingLinearElement||t.state.selectedLinearElement;if(I._.shouldAddMidpoint(t.state.selectedLinearElement,s,t.state)){var p=I._.addMidpoint(t.state.selectedLinearElement,s,t.state,!n[k.tW.CTRL_OR_CMD]);if(!p)return;return void(0,g.flushSync)((function(){t.state.selectedLinearElement&&t.setState({selectedLinearElement:(0,v.Z)((0,v.Z)({},t.state.selectedLinearElement),{},{pointerDownState:p.pointerDownState,selectedPointsIndices:p.selectedPointsIndices})}),t.state.editingLinearElement&&t.setState({editingLinearElement:(0,v.Z)((0,v.Z)({},t.state.editingLinearElement),{},{pointerDownState:p.pointerDownState,selectedPointsIndices:p.selectedPointsIndices})})}))}if(null!==h.pointerDownState.segmentMidpoint.value&&!h.pointerDownState.segmentMidpoint.added)return;var m=I._.handlePointDragging(n,t.state,s.x,s.y,(function(e,n){t.maybeSuggestBindingsForLinearElementAtCoords(e,n)}),h);if(m)return e.lastCoords.x=s.x,e.lastCoords.y=s.y,e.drag.hasOccurred=!0,t.state.editingLinearElement&&!t.state.editingLinearElement.isDragging&&t.setState({editingLinearElement:(0,v.Z)((0,v.Z)({},t.state.editingLinearElement),{},{isDragging:!0})}),void(t.state.selectedLinearElement.isDragging||t.setState({selectedLinearElement:(0,v.Z)((0,v.Z)({},t.state.selectedLinearElement),{},{isDragging:!0})}))}var y=e.hit.allHitElements.some((function(e){return t.isASelectedElement(e)})),b=t.state.editingLinearElement&&n.shiftKey&&t.state.editingLinearElement.elementId===(null===(r=e.hit.element)||void 0===r?void 0:r.id);if((y||e.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!b){var x,E=t.scene.getSelectedElements(t.state);if(E.every((function(e){return e.locked})))return;var S=E.find((function(e){return(0,j.He)(e)})),C=t.getTopLayerFrameAtSceneCoords(s);if(t.setState({frameToHighlight:C&&!S?C:null}),e.drag.hasOccurred=!0,t.setState({selectedElementsAreBeingDragged:!0}),E.length>0&&!e.withCmdOrCtrl&&!t.state.editingElement&&"active"!==(null===(x=t.state.activeEmbeddable)||void 0===x?void 0:x.state)){var L={x:s.x-e.origin.x,y:s.y-e.origin.y},D=(0,i.Z)(e.originalElements.values()),O=n.shiftKey;if(O){var R=Math.abs(L.x),A=Math.abs(L.y),N=O&&R>A;O&&R<A&&(L.x=0),N&&(L.y=0)}t.maybeCacheVisibleGaps(n,E),t.maybeCacheReferenceSnapPoints(n,E);var z=function(e,t,n,r){var a,i,o,l;if(!Do({appState:n,event:r,selectedElements:e})||0===e.length)return{snapOffset:{x:0,y:0},snapLines:[]};t.x=zo(t.x),t.y=zo(t.y);var s=[],c=[],u=Po(n.zoom.value),d={x:u,y:u},f=Oo(e,{dragOffset:t});No(e,f,n,r,s,c,d),Ao(e,t,n,r,s,c,d);var h={x:null!==(a=null===(i=s[0])||void 0===i?void 0:i.offset)&&void 0!==a?a:0,y:null!==(o=null===(l=c[0])||void 0===l?void 0:l.offset)&&void 0!==o?o:0};d.x=0,d.y=0,s.length=0,c.length=0;var p={x:zo(t.x+h.x),y:zo(t.y+h.y)};No(e,Oo(e,{dragOffset:p}),n,r,s,c,d),Ao(e,p,n,r,s,c,d);var v=Fo(s,c),m=Ho(e,p,[].concat(s,c).filter((function(e){return"gap"===e.type})));return{snapOffset:h,snapLines:[].concat(v,m)}}((0,w.eD)(D,t.state),L,t.state,n),B=z.snapOffset,F=z.snapLines;if(t.setState({snapLines:F}),!t.state.editingFrame&&(0,M.o8)(e,E,L,t.state,t.scene,B,n[k.tW.CTRL_OR_CMD]?null:t.state.gridSize),t.maybeSuggestBindingForAll(E),n.altKey&&!e.hit.hasBeenDuplicated){e.hit.hasBeenDuplicated=!0;var H,W=[],U=[],K=new Map,V=new Map,Y=e.hit.element,G=new Set(t.scene.getSelectedElements({selectedElementIds:t.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map((function(e){return e.id}))),X=t.scene.getElementsIncludingDeleted(),$=(0,a.Z)(X);try{for($.s();!(H=$.n()).done;){var Q=H.value;if(G.has(Q.id)||Q.id===(null===Y||void 0===Y?void 0:Y.id)&&e.hit.wasAddedToSelection){var J=(0,M.Sy)(t.state.editingGroupId,K,Q),ee=e.originalElements.get(Q.id);(0,_.DR)(J,{x:ee.x,y:ee.y}),e.originalElements.set(J.id,J),W.push(J),U.push(Q),V.set(Q.id,J.id)}else W.push(Q)}}catch(ye){$.e(ye)}finally{$.f()}var te=[].concat(W,U);(0,re.P7)(W,U,V),(0,T.ek)(te,U,V,"duplicatesServeAsOld"),(0,oe.xr)(te,U,V),t.scene.replaceAllElements(te),t.maybeCacheVisibleGaps(n,E,!0),t.maybeCacheReferenceSnapPoints(n,E,!0)}return}}var ne=t.state.draggingElement;if(ne){if("freedraw"===ne.type){var ae=ne.points,ie=s.x-ne.x,le=s.y-ne.y,se=ae.length>0&&ae[ae.length-1];if(!(se&&se[0]===ie&&se[1]===le)){var ce=ne.simulatePressure?ne.pressures:[].concat((0,i.Z)(ne.pressures),[n.pressure]);(0,_.DR)(ne,{points:[].concat((0,i.Z)(ae),[[ie,le]]),pressures:ce})}}else if((0,j.bt)(ne)){e.drag.hasOccurred=!0,t.setState({selectedElementsAreBeingDragged:!0});var de=ne.points,fe=d-ne.x,he=f-ne.y;if((0,k.Ge)(n)&&2===de.length){var pe=(0,M.o4)(ne.x,ne.y,s.x,s.y);fe=pe.width,he=pe.height}1===de.length?(0,_.DR)(ne,{points:[].concat((0,i.Z)(de),[[fe,he]])}):2===de.length&&(0,_.DR)(ne,{points:[].concat((0,i.Z)(de.slice(0,-1)),[[fe,he]])}),(0,j.Mn)(ne,!1)&&t.maybeSuggestBindingsForLinearElementAtCoords(ne,[s],t.state.startBoundElement)}else e.lastCoords.x=s.x,e.lastCoords.y=s.y,t.maybeDragNewGenericElement(e,n);if("selection"===t.state.activeTool.type){e.boxSelection.hasOccurred=!0;var ve=t.scene.getNonDeletedElements();if(t.state.editingLinearElement)I._.handleBoxSelection(n,t.state,t.setState.bind(t));else{var me=!0;!n.shiftKey&&(0,w.N)(ve,t.state)&&(e.withCmdOrCtrl&&e.hit.element?t.setState((function(n){return(0,Z.bO)((0,v.Z)((0,v.Z)({},n),{},{selectedElementIds:(0,l.Z)({},e.hit.element.id,!0)}),t.scene.getNonDeletedElements(),n,t)})):me=!1);var ge=(0,w.Yp)(ve,ne);t.setState((function(n){var r=(0,v.Z)((0,v.Z)({},me&&n.selectedElementIds),ge.reduce((function(e,t){return e[t.id]=!0,e}),{}));return e.hit.element&&(ge.length?delete r[e.hit.element.id]:r[e.hit.element.id]=!0),n=me?n:(0,v.Z)((0,v.Z)({},n),{},{selectedGroupIds:{},editingGroupId:null}),(0,v.Z)((0,v.Z)({},(0,Z.bO)({editingGroupId:n.editingGroupId,selectedElementIds:r},t.scene.getNonDeletedElements(),n,t)),{},{selectedLinearElement:1===ge.length&&(0,j.bt)(ge[0])?new I._(ge[0],t.scene):null,showHyperlinkPopup:!(1!==ge.length||!ge[0].link&&!(0,j.gs)(ge[0]))&&"info"})}))}}}}}}}))}},{key:"handlePointerMoveOverScrollbars",value:function(e,t){if(t.scrollbars.isOverHorizontal){var n=e.clientX,r=n-t.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-r/this.state.zoom.value}),t.lastCoords.x=n,!0}if(t.scrollbars.isOverVertical){var a=e.clientY,i=a-t.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-i/this.state.zoom.value}),t.lastCoords.y=a,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(e){var t=this;return(0,P.tH)((function(n){var r;e.eventListeners.onMove&&e.eventListeners.onMove.flush();var o,s,c=t.state,u=c.draggingElement,d=c.resizingElement,f=c.multiElement,h=c.activeTool,p=c.isResizing,m=c.isRotating;if(t.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",editingElement:f||(0,M.iB)(t.state.editingElement)?t.state.editingElement:null,snapLines:[],originSnapOffset:null}),Lo.setReferenceSnapPoints(null),Lo.setVisibleGaps(null),t.savePointer(n.clientX,n.clientY,"up"),t.setState({selectedElementsAreBeingDragged:!1}),t.state.editingLinearElement)if(e.boxSelection.hasOccurred||(null===(o=e.hit)||void 0===o||null===(s=o.element)||void 0===s?void 0:s.id)===t.state.editingLinearElement.elementId){var g=I._.handlePointerUp(n,t.state.editingLinearElement,t.state);g!==t.state.editingLinearElement&&t.setState({editingLinearElement:g,suggestedBindings:[]})}else t.actionManager.executeAction(fe);else if(t.state.selectedLinearElement){var y,b;if((null===(y=e.hit)||void 0===y||null===(b=y.element)||void 0===b?void 0:b.id)!==t.state.selectedLinearElement.elementId){t.scene.getSelectedElements(t.state).length>1&&t.setState({selectedLinearElement:null})}else{var x=I._.handlePointerUp(n,t.state.selectedLinearElement,t.state),k=x.startBindingElement,E=x.endBindingElement,S=t.scene.getElement(x.elementId);(0,j.Mn)(S)&&(0,T.HG)(S,k,E),x!==t.state.selectedLinearElement&&t.setState({selectedLinearElement:(0,v.Z)((0,v.Z)({},x),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(cs=null,window.removeEventListener(q.Ks.POINTER_MOVE,e.eventListeners.onMove),window.removeEventListener(q.Ks.POINTER_UP,e.eventListeners.onUp),window.removeEventListener(q.Ks.KEYDOWN,e.eventListeners.onKeyDown),window.removeEventListener(q.Ks.KEYUP,e.eventListeners.onKeyUp),t.state.pendingImageElementId&&t.setState({pendingImageElementId:null}),t.onPointerUpEmitter.trigger(t.state.activeTool,e,n),"freedraw"===(null===u||void 0===u?void 0:u.type)){var C=(0,P.dE)(n,t.state),L=u.points,D=C.x-u.x,O=C.y-u.y;D===L[0][0]&&O===L[0][1]&&(O+=1e-4,D+=1e-4);var R=u.simulatePressure?[]:[].concat((0,i.Z)(u.pressures),[n.pressure]);return(0,_.DR)(u,{points:[].concat((0,i.Z)(L),[[D,O]]),pressures:R,lastCommittedPoint:[D,O]}),void t.actionManager.executeAction(fe)}if((0,j.pC)(u)){var A=u;try{t.initializeImageDimensions(A),t.setState({selectedElementIds:(0,te.Oh)((0,l.Z)({},A.id,!0),t.state)},(function(){t.actionManager.executeAction(fe)}))}catch(ie){console.error(ie),t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==A.id}))),t.actionManager.executeAction(fe)}}else if((0,j.bt)(u)){u.points.length>1&&t.history.resumeRecording();var N=(0,P.dE)(n,t.state);e.drag.hasOccurred||!u||f?e.drag.hasOccurred&&!f&&((0,T.N1)(t.state)&&(0,j.Mn)(u,!1)&&(0,T.R)(u,t.state,t.scene,N),t.setState({suggestedBindings:[],startBoundElement:null}),h.locked?t.setState((function(e){return{draggingElement:null}})):((0,de.z8)(t.interactiveCanvas),t.setState((function(e){return{draggingElement:null,activeTool:(0,P.Om)(t.state,{type:"selection"}),selectedElementIds:(0,te.Oh)((0,v.Z)((0,v.Z)({},e.selectedElementIds),{},(0,l.Z)({},u.id,!0)),e),selectedLinearElement:new I._(u,t.scene)}})))):((0,_.DR)(u,{points:[].concat((0,i.Z)(u.points),[[N.x-u.x,N.y-u.y]])}),t.setState({multiElement:u,editingElement:t.state.draggingElement}))}else{if("selection"!==h.type&&u&&(0,M.QD)(u))return t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==u.id}))),void t.setState({draggingElement:null});if(u){if(e.drag.hasOccurred){var z=(0,P.dE)(n,t.state);if(t.state.selectedLinearElement&&t.state.selectedLinearElement.isDragging){var B=t.scene.getElement(t.state.selectedLinearElement.elementId);if(null!==B&&void 0!==B&&B.frameId){var F=(0,oe.$Z)(B);F&&B&&((0,oe.cO)(B,F)||((0,_.DR)(B,{groupIds:[]}),t.scene.replaceAllElements((0,oe.lz)(t.scene.getElementsIncludingDeleted(),[B],t.state))))}}else{var H=t.getTopLayerFrameAtSceneCoords(z),W=t.scene.getSelectedElements(t.state),U=t.scene.getElementsIncludingDeleted(),K=function(e){if(e.length>0){var n,r=(0,a.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.groupIds.indexOf(t.state.editingGroupId);(0,_.DR)(i,{groupIds:i.groupIds.slice(0,o)},!1)}}catch(l){r.e(l)}finally{r.f()}U.forEach((function(e){e.groupIds.length&&(0,Z.Fb)(U,e.groupIds[e.groupIds.length-1]).length<2&&(0,_.DR)(e,{groupIds:[]},!1)})),t.setState({editingGroupId:null})}};if(H&&!t.state.selectedElementIds[H.id]){var V=W.filter((function(e){return e.frameId!==H.id&&(0,oe.Qs)(e,U,t.state)}));t.state.editingGroupId&&K(V),U=(0,oe.A_)(U,V,H)}else if(!H&&t.state.editingGroupId){var Y=W.filter((function(e){return e.frameId&&!(0,oe.Qs)(e,U,t.state)}));K(Y)}U=(0,oe.Tq)(U,t.state,t),t.scene.replaceAllElements(U)}}if("frame"===u.type){var G=(0,oe.fj)(t.scene.getElementsIncludingDeleted(),u);t.scene.replaceAllElements((0,oe.A_)(t.scene.getElementsIncludingDeleted(),G,u))}(0,_.DR)(u,(0,M.Qp)(u))}if(d&&t.history.resumeRecording(),d&&(0,M.QD)(d)&&t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==d.id}))),e.resize.isResizing){var X,$=(0,oe.Tq)(t.scene.getElementsIncludingDeleted(),t.state,t),Q=t.scene.getSelectedElements(t.state).filter((function(e){return"frame"===e.type})),J=(0,a.Z)(Q);try{for(J.s();!(X=J.n()).done;){var ee=X.value;$=(0,oe.pr)($,(0,oe.ni)(t.scene.getElementsIncludingDeleted(),ee,t.state),ee,t.state)}}catch(le){J.e(le)}finally{J.f()}t.scene.replaceAllElements($)}var ne=e.hit.element;if((null===(r=t.state.selectedLinearElement)||void 0===r?void 0:r.elementId)!==(null===ne||void 0===ne?void 0:ne.id)&&(0,j.bt)(ne))1===t.scene.getSelectedElements(t.state).length&&t.setState({selectedLinearElement:new I._(ne,t.scene)});if((0,_t.EN)(t.state)){if(0===(0,ue.LW)(t.lastPointerDownEvent.clientX,t.lastPointerDownEvent.clientY,t.lastPointerUpEvent.clientX,t.lastPointerUpEvent.clientY)){var re=(0,P.dE)({clientX:t.lastPointerUpEvent.clientX,clientY:t.lastPointerUpEvent.clientY},t.state);t.getElementsAtPosition(re.x,re.y).forEach((function(t){return e.elementIdsToErase[t.id]={erase:!0,opacity:t.opacity}}))}t.eraseElements(e)}else{var ae;if(Object.keys(e.elementIdsToErase).length&&t.restoreReadyToEraseElements(e),ne&&!e.drag.hasOccurred&&!e.hit.wasAddedToSelection&&(!t.state.editingLinearElement||!e.boxSelection.hasOccurred))if(n.shiftKey&&!t.state.editingLinearElement)if(t.state.selectedElementIds[ne.id])(0,Z.zq)(t.state,ne)?t.setState((function(e){var n,r=(0,v.Z)({},e.selectedElementIds),i=(0,a.Z)(ne.groupIds.flatMap((function(e){return(0,Z.Fb)(t.scene.getNonDeletedElements(),e)})));try{for(i.s();!(n=i.n()).done;){delete r[n.value.id]}}catch(le){i.e(le)}finally{i.f()}return{selectedGroupIds:(0,v.Z)((0,v.Z)({},e.selectedElementIds),ne.groupIds.map((function(e){return(0,l.Z)({},e,!1)})).reduce((function(e,t){return(0,v.Z)((0,v.Z)({},e),t)}),{})),selectedElementIds:(0,te.Oh)(r,e)}})):null!==(ae=t.state.selectedLinearElement)&&void 0!==ae&&ae.isDragging||t.setState((function(e){var n=(0,v.Z)({},e.selectedElementIds);delete n[ne.id];var r=(0,w.eD)(t.scene.getNonDeletedElements(),{selectedElementIds:n});return(0,v.Z)((0,v.Z)({},(0,Z.bO)({editingGroupId:e.editingGroupId,selectedElementIds:n},t.scene.getNonDeletedElements(),e,t)),{},{selectedLinearElement:1===r.length&&(0,j.bt)(r[0])?new I._(r[0],t.scene):e.selectedLinearElement})}));else ne.frameId&&t.state.selectedElementIds[ne.frameId]?t.setState((function(e){var n,r,a=(0,v.Z)((0,v.Z)({},e.selectedElementIds),{},(0,l.Z)({},ne.id,!0));return delete a[ne.frameId],(null!==(n=null===(r=t.scene.getElement(ne.frameId))||void 0===r?void 0:r.groupIds)&&void 0!==n?n:[]).flatMap((function(e){return(0,Z.Fb)(t.scene.getNonDeletedElements(),e)})).forEach((function(e){delete a[e.id]})),(0,v.Z)((0,v.Z)({},(0,Z.bO)({editingGroupId:e.editingGroupId,selectedElementIds:a},t.scene.getNonDeletedElements(),e,t)),{},{showHyperlinkPopup:!(!ne.link&&!(0,j.gs)(ne))&&"info"})})):t.setState((function(e){return{selectedElementIds:(0,te.Oh)((0,v.Z)((0,v.Z)({},e.selectedElementIds),{},(0,l.Z)({},ne.id,!0)),e)}}));else t.setState((function(e){var n;return(0,v.Z)((0,v.Z)({},(0,Z.bO)({editingGroupId:e.editingGroupId,selectedElementIds:(0,l.Z)({},ne.id,!0)},t.scene.getNonDeletedElements(),e,t)),{},{selectedLinearElement:(0,j.bt)(ne)&&(null===(n=e.selectedLinearElement)||void 0===n?void 0:n.elementId)!==ne.id?new I._(ne,t.scene):e.selectedLinearElement})}));e.drag.hasOccurred||t.state.isResizing||!(ne&&(0,M.wB)(ne,t.state,t.frameNameBoundsCache,e.origin.x,e.origin.y)||!ne&&e.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!h.locked&&"freedraw"!==h.type&&u&&"selection"!==u.type&&t.setState((function(e){return{selectedElementIds:(0,te.Oh)((0,v.Z)((0,v.Z)({},e.selectedElementIds),{},(0,l.Z)({},u.id,!0)),e),showHyperlinkPopup:(0,j.gs)(u)&&!u.link?"editor":e.showHyperlinkPopup}})),("selection"!==h.type||(0,w.N)(t.scene.getNonDeletedElements(),t.state))&&t.history.resumeRecording(),(e.drag.hasOccurred||p||m)&&((0,T.N1)(t.state)?T.el:T.H)(t.scene.getSelectedElements(t.state)),"laser"!==h.type?(h.locked||"freedraw"===h.type?t.setState({draggingElement:null,suggestedBindings:[]}):((0,de.z8)(t.interactiveCanvas),t.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,P.Om)(t.state,{type:"selection"})})),ne&&t.lastPointerUpEvent&&t.lastPointerDownEvent&&t.lastPointerUpEvent.timeStamp-t.lastPointerDownEvent.timeStamp<300&&us.pointers.size<=1&&(0,j.gs)(ne)&&t.isEmbeddableCenter(ne,t.lastPointerUpEvent,e.origin.x,e.origin.y)&&t.handleEmbeddableCenterClick(ne)):t.laserPathManager.endPath()):t.state.editingLinearElement?t.setState({editingLinearElement:null}):t.setState({selectedElementIds:(0,te.Oh)({},t.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}}}))}},{key:"maybeSuggestBindingForAll",value:function(e){if(!(e.length>50)){var t=(0,T.ZB)(e);this.setState({suggestedBindings:t})}}},{key:"clearSelection",value:function(e){this.setState((function(t){return{selectedElementIds:(0,te.Oh)({},t),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:t.editingGroupId&&null!=e&&(0,Z.Nd)(e,t.editingGroupId)?t.editingGroupId:null}})),this.setState({selectedElementIds:(0,te.Oh)({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(e,t,n,r){if(r){var a=r.x+r.width/2,i=r.y+r.height/2,o=(0,re.TP)(r,n);if(o&&(a=o.x,i=o.y),Math.hypot(e-a,t-i)<q.wZ){var l=(0,P._i)({sceneX:a,sceneY:i},n);return{viewportX:l.x,viewportY:l.y,elementCenterX:a,elementCenterY:i}}}}},{key:"getCanvasOffsets",value:function(){var e;if(null!==(e=this.excalidrawContainerRef)&&void 0!==e&&e.current){var t=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:t.left,offsetTop:t.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var t,n=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.Mj.find((function(e){return e.code===n.props.langCode}))||S.Fp,e.next=3,(0,S.m0)(t);case 3:this.setAppState({});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"resetTapTwice",value:function(){$l=!1}}]),n}(m.Component);ds.defaultProps={UIOptions:q.cW},((void 0).MODE===q.Vi.TEST||(void 0).DEV)&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var e;return null===(e=this.app)||void 0===e?void 0:e.scene.getElementsIncludingDeleted()},set:function(e){var t;return null===(t=this.app)||void 0===t?void 0:t.scene.replaceAllElements(e)}}}))},7481:(e,t,n)=>{"use strict";n.d(t,{z:()=>ta,L:()=>Qr});var r=n(885),a=n(7253),i=n(8182),o=n(3729),l=n(184),s=function(e){var t,n=e.onChange,r=e.type,a=e.activeColor,s=e.topPicks;return"elementStroke"===r&&(t=o.fY),"elementBackground"===r&&(t=o.eq),"canvasBackground"===r&&(t=o.ay),s&&(t=s),t?(0,l.jsx)("div",{className:"color-picker__top-picks",children:t.map((function(e){return(0,l.jsx)("button",{className:(0,i.Z)("color-picker__button",{active:e===a,"is-transparent":"transparent"===e||!e}),style:{"--swatch-color":e},type:"button",title:e,onClick:function(){return n(e)},"data-testid":"color-top-pick-".concat(e),children:(0,l.jsx)("div",{className:"color-picker__button-outline"})},e)}))}):(console.error("Invalid type for TopPicks"),null)},c=n(2791),u=n(5861),d=n(9886),f=n(2982),h=function(e){for(var t=e.palette,n=e.color,a=0,i=Object.entries(t);a<i.length;a++){var o=(0,r.Z)(i[a],2),l=o[0],s=o[1];if(Array.isArray(s)){var c=s.indexOf(n);if(c>-1)return{colorName:l,shade:c}}else if(s===n)return{colorName:l,shade:null}}return null},p=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),v=function(e){var t=e.color,n=e.palette;return!Object.values(n).flat().includes(t)},m=(0,d.cn)(null),g=function(e,t,n){return(299*e+587*t+114*n)/1e3>=160?"black":"white"},y=function(e,t){if(t){var n=(new Option).style;if(n.color=e,n.color){var r=n.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),a=parseInt(r[0]),i=parseInt(r[1]),o=parseInt(r[2]);return g(a,i,o)}}if("transparent"===e)return"black";var l=parseInt(e.substring(1,3),16),s=parseInt(e.substring(3,5),16),c=parseInt(e.substring(5,7),16);return g(l,s,c)};const b=function(e){var t=e.color,n=e.keyLabel,r=e.isCustomColor,a=void 0!==r&&r,i=e.isShade,o=void 0!==i&&i;return(0,l.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:y(t,a)},children:[o&&"\u21e7",n]})};var x=function(e){var t=e.hex,n=e.onChange,a=e.palette,o=h({color:t||"transparent",palette:a}),s=(0,d.KO)(m),f=(0,r.Z)(s,2),p=f[0],v=f[1],g=(0,c.useRef)(null);if((0,c.useEffect)((function(){g.current&&"shades"===p&&g.current.focus()}),[o,p]),o){var y=o.colorName,x=o.shade,w=a[y];if(Array.isArray(w))return(0,l.jsx)("div",{className:"color-picker-content--default shades",children:w.map((function(e,t){return(0,l.jsxs)("button",{ref:t===x&&"shades"===p?g:void 0,tabIndex:-1,type:"button",className:(0,i.Z)("color-picker__button color-picker__button--large",{active:t===x}),"aria-label":"Shade",title:"".concat(y," - ").concat(t+1),style:e?{"--swatch-color":e}:void 0,onClick:function(){n(e),v("shades")},children:[(0,l.jsx)("div",{className:"color-picker__button-outline"}),(0,l.jsx)(b,{color:e,keyLabel:t+1,isShade:!0})]},t)}))})}return(0,l.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,l.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,l.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:(0,u.t)("colorPicker.noShades")})]})};const w=function(e){var t=e.palette,n=e.color,a=e.onChange,o=(e.label,e.activeShade),s=h({color:n||"transparent",palette:t}),f=(0,d.KO)(m),v=(0,r.Z)(f,2),g=v[0],y=v[1],x=(0,c.useRef)(null);return(0,c.useEffect)((function(){x.current&&"baseColors"===g&&x.current.focus()}),[null===s||void 0===s?void 0:s.colorName,g]),(0,l.jsx)("div",{className:"color-picker-content--default",children:Object.entries(t).map((function(e,t){var n=(0,r.Z)(e,2),c=n[0],d=n[1],f=(Array.isArray(d)?d[o]:d)||"transparent",h=p[t],v=(0,u.t)("colors.".concat(c.replace(/\d+/,"")),null,"");return(0,l.jsxs)("button",{ref:(null===s||void 0===s?void 0:s.colorName)===c?x:void 0,tabIndex:-1,type:"button",className:(0,i.Z)("color-picker__button color-picker__button--large",{active:(null===s||void 0===s?void 0:s.colorName)===c,"is-transparent":"transparent"===f||!f}),onClick:function(){a(f),y("baseColors")},title:"".concat(v).concat(f.startsWith("#")?" ".concat(f):""," \u2014 ").concat(h),"aria-label":"".concat(v," \u2014 ").concat(h),style:f?{"--swatch-color":f}:void 0,"data-testid":"color-".concat(c),children:[(0,l.jsx)("div",{className:"color-picker__button-outline"}),(0,l.jsx)(b,{color:f,keyLabel:h})]},c)}))})};var k=function(e){var t=e.colors,n=e.color,a=e.onChange,o=e.label,s=(0,d.KO)(m),u=(0,r.Z)(s,2),f=u[0],h=u[1],p=(0,c.useRef)(null);return(0,c.useEffect)((function(){p.current&&p.current.focus()}),[n,f]),(0,l.jsx)("div",{className:"color-picker-content--default",children:t.map((function(e,t){return(0,l.jsxs)("button",{ref:n===e?p:void 0,tabIndex:-1,type:"button",className:(0,i.Z)("color-picker__button color-picker__button--large",{active:n===e,"is-transparent":"transparent"===e||!e}),onClick:function(){a(e),h("custom")},title:e,"aria-label":o,style:{"--swatch-color":e},children:[(0,l.jsx)("div",{className:"color-picker__button-outline"}),(0,l.jsx)(b,{color:e,keyLabel:t+1,isCustomColor:!0})]},t)}))})},E=n(9057),S=function(e,t,n){var r,a=Math.ceil(n/o.dC);switch(t=null!==(r=t)&&void 0!==r?r:-1,e){case"ArrowLeft":var i=t-1;return i<0?n-1:i;case"ArrowRight":return(t+1)%n;case"ArrowDown":var l=t+o.dC;return l>=n?t%o.dC:l;case"ArrowUp":var s=t-o.dC,c=s<0?o.dC*a+s:s;return c>=n?void 0:c}},C=function(e){var t=e.event,n=e.activeColorPickerSection,a=e.palette,i=e.color,l=e.onChange,s=e.customColors,c=e.setActiveColorPickerSection,u=(e.updateData,e.activeShade),d=e.onEyeDropperToggle,f=e.onEscape;if(t[E.tW.CTRL_OR_CMD])return!1;if(t.key===E.tW.ESCAPE)return f(t),!0;if(t.key===E.tW.ALT)return d(!0),!0;if(t.key===E.tW.I)return d(),!0;var v=h({color:i,palette:a});if(t.key===E.tW.TAB){var m={custom:!!s.length,baseColors:!0,shades:null!=(null===v||void 0===v?void 0:v.shade),hex:!0},g=Object.entries(m).reduce((function(e,t){var n=(0,r.Z)(t,2),a=n[0];return n[1]&&e.push(a),e}),[]),y=g.indexOf(n),b=t.shiftKey?-1:1,x=g[y+b>g.length-1?0:y+b<0?g.length-1:y+b];if(x&&c(x),"custom"===x)l(s[0]);else if("baseColors"===x){Object.entries(a).find((function(e){var t=(0,r.Z)(e,2),n=t[0],a=t[1];return Array.isArray(a)?a.includes(i):a===i?n:null}))||l(o.HO.black)}return t.preventDefault(),t.stopPropagation(),!0}if(function(e){var t=e.e,n=e.colorObj,r=e.onChange,a=e.palette,i=e.customColors,o=e.setActiveColorPickerSection,l=e.activeShade;if(null!=(null===n||void 0===n?void 0:n.shade)&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(t.code)&&t.shiftKey){var s=Number(t.code.slice(-1))-1;return r(a[n.colorName][s]),o("shades"),!0}if(["1","2","3","4","5"].includes(t.key)&&i[Number(t.key)-1])return r(i[Number(t.key)-1]),o("custom"),!0;if(p.includes(t.key)){var c=p.indexOf(t.key),u=a[Object.keys(a)[c]];return r(Array.isArray(u)?u[l]:u),o("baseColors"),!0}return!1}({e:t,colorObj:v,onChange:l,palette:a,customColors:s,setActiveColorPickerSection:c,activeShade:u}))return!0;if("shades"===n&&v){var w=v.shade,k=S(t.key,w,o.dC);if(void 0!==k)return l(a[v.colorName][k]),!0}if("baseColors"===n&&v){var C=v.colorName,M=Object.keys(a),_=M.indexOf(C),Z=S(t.key,_,M.length);if(void 0!==Z){var I=a[M[Z]];return l(Array.isArray(I)?I[u]:I),!0}}if("custom"===n){var T=s.indexOf(i),j=S(t.key,T,s.length);if(void 0!==j)return l(s[j]),!0}return!1};const M=function(e){var t=e.children;return(0,l.jsx)("div",{className:"color-picker__heading",children:t})};var _=n(5320),Z=function(e){var t,n=e.color,a=e.onChange,i=e.label,s=e.type,p=e.elements,g=e.palette,y=e.updateData,b=e.children,S=e.onEyeDropperToggle,Z=e.onEscape,I=c.useState((function(){return"canvasBackground"===s?[]:function(e,t,n){var r={elementBackground:"backgroundColor",elementStroke:"strokeColor"},a=e.filter((function(e){if(e.isDeleted)return!1;var a=e[r[t]];return v({color:a,palette:n})})),i=new Map;return a.forEach((function(e){var n=e[r[t]];i.has(n)?i.set(n,i.get(n)+1):i.set(n,1)})),(0,f.Z)(i.entries()).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]})).slice(0,o.Lx)}(p,s,g)})),T=(0,r.Z)(I,1)[0],j=(0,d.KO)(m),P=(0,r.Z)(j,2),L=P[0],D=P[1],O=h({color:n,palette:g});(0,c.useEffect)((function(){if(!L){var e=v({color:n,palette:g}),t=e&&!T.includes(n);D(t?"hex":e?"custom":null!=(null===O||void 0===O?void 0:O.shade)?"shades":"baseColors")}}),[L,n,g,D,O,T]);var R=(0,c.useState)(null!==(t=null===O||void 0===O?void 0:O.shade)&&void 0!==t?t:"elementBackground"===s?o._T:o.z8),A=(0,r.Z)(R,2),N=A[0],z=A[1];(0,c.useEffect)((function(){null!=(null===O||void 0===O?void 0:O.shade)&&z(O.shade);var e=function(e){e.key===E.tW.ALT&&S(!1)};return document.addEventListener(_.Ks.KEYUP,e,{capture:!0}),function(){document.removeEventListener(_.Ks.KEYUP,e,{capture:!0})}}),[O,S]);var B=c.useRef(null);return(0,l.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":(0,u.t)("labels.colorPicker"),children:(0,l.jsxs)("div",{ref:B,onKeyDown:function(e){C({event:e,activeColorPickerSection:L,palette:g,color:n,onChange:a,onEyeDropperToggle:S,customColors:T,setActiveColorPickerSection:D,updateData:y,activeShade:N,onEscape:Z})&&(e.preventDefault(),e.stopPropagation())},className:"color-picker-content",tabIndex:-1,children:[!!T.length&&(0,l.jsxs)("div",{children:[(0,l.jsx)(M,{children:(0,u.t)("colorPicker.mostUsedCustomColors")}),(0,l.jsx)(k,{colors:T,color:n,label:(0,u.t)("colorPicker.mostUsedCustomColors"),onChange:a})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(M,{children:(0,u.t)("colorPicker.colors")}),(0,l.jsx)(w,{color:n,label:i,palette:g,onChange:a,activeShade:N})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(M,{children:(0,u.t)("colorPicker.shades")}),(0,l.jsx)(x,{hex:n,onChange:a,palette:g})]}),b]})})},I=n(4942),T=n(1413),j=n(4925),P=n(7462),L=n(9991),D=n(5449),O=n(2382),R=n(3523),A=n(8112);var N,z=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"],B="dismissableLayer.update",F="dismissableLayer.pointerDownOutside",H="dismissableLayer.focusOutside",W=(0,c.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),U=(0,c.forwardRef)((function(e,t){var n,a=e.disableOutsidePointerEvents,i=void 0!==a&&a,o=e.onEscapeKeyDown,l=e.onPointerDownOutside,s=e.onFocusOutside,u=e.onInteractOutside,d=e.onDismiss,h=(0,j.Z)(e,z),p=(0,c.useContext)(W),v=(0,c.useState)(null),m=(0,r.Z)(v,2),g=m[0],y=m[1],b=null!==(n=null===g||void 0===g?void 0:g.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,x=(0,c.useState)({}),w=(0,r.Z)(x,2)[1],k=(0,D.e)(t,(function(e){return y(e)})),E=Array.from(p.layers),S=(0,f.Z)(p.layersWithOutsidePointerEventsDisabled).slice(-1),C=(0,r.Z)(S,1)[0],M=E.indexOf(C),_=g?E.indexOf(g):-1,Z=p.layersWithOutsidePointerEventsDisabled.size>0,I=_>=M,O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=(0,A.W)(e),r=(0,c.useRef)(!1),a=(0,c.useRef)((function(){}));return(0,c.useEffect)((function(){var e=function(e){if(e.target&&!r.current){var i=function(){V(F,n,o,{discrete:!0})},o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=i,t.addEventListener("click",a.current,{once:!0})):i()}r.current=!1},i=window.setTimeout((function(){t.addEventListener("pointerdown",e)}),0);return function(){window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}}),[t,n]),{onPointerDownCapture:function(){return r.current=!0}}}((function(e){var t=e.target,n=(0,f.Z)(p.branches).some((function(e){return e.contains(t)}));I&&!n&&(null===l||void 0===l||l(e),null===u||void 0===u||u(e),e.defaultPrevented||null===d||void 0===d||d())}),b),U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=(0,A.W)(e),r=(0,c.useRef)(!1);return(0,c.useEffect)((function(){var e=function(e){e.target&&!r.current&&V(H,n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),function(){return t.removeEventListener("focusin",e)}}),[t,n]),{onFocusCapture:function(){return r.current=!0},onBlurCapture:function(){return r.current=!1}}}((function(e){var t=e.target;(0,f.Z)(p.branches).some((function(e){return e.contains(t)}))||(null===s||void 0===s||s(e),null===u||void 0===u||u(e),e.defaultPrevented||null===d||void 0===d||d())}),b);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=(0,A.W)(e);(0,c.useEffect)((function(){var e=function(e){"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e),function(){return t.removeEventListener("keydown",e)}}),[n,t])}((function(e){_===p.layers.size-1&&(null===o||void 0===o||o(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))}),b),(0,c.useEffect)((function(){if(g)return i&&(0===p.layersWithOutsidePointerEventsDisabled.size&&(N=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),K(),function(){i&&1===p.layersWithOutsidePointerEventsDisabled.size&&(b.body.style.pointerEvents=N)}}),[g,b,i,p]),(0,c.useEffect)((function(){return function(){g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),K())}}),[g,p]),(0,c.useEffect)((function(){var e=function(){return w({})};return document.addEventListener(B,e),function(){return document.removeEventListener(B,e)}}),[]),(0,c.createElement)(R.WV.div,(0,P.Z)({},h,{ref:k,style:(0,T.Z)({pointerEvents:Z?I?"auto":"none":void 0},e.style),onFocusCapture:(0,L.M)(e.onFocusCapture,U.onFocusCapture),onBlurCapture:(0,L.M)(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:(0,L.M)(e.onPointerDownCapture,O.onPointerDownCapture)}))}));function K(){var e=new CustomEvent(B);document.dispatchEvent(e)}function V(e,t,n,r){var a=r.discrete,i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),a?(0,R.jH)(i,o):i.dispatchEvent(o)}var Y=0;function G(){(0,c.useEffect)((function(){var e,t,n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:X()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:X()),Y++,function(){1===Y&&document.querySelectorAll("[data-radix-focus-guard]").forEach((function(e){return e.remove()})),Y--}}),[])}function X(){var e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var q=n(7762),$=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"],Q="focusScope.autoFocusOnMount",J="focusScope.autoFocusOnUnmount",ee={bubbles:!1,cancelable:!0},te=(0,c.forwardRef)((function(e,t){var n=e.loop,a=void 0!==n&&n,i=e.trapped,o=void 0!==i&&i,l=e.onMountAutoFocus,s=e.onUnmountAutoFocus,u=(0,j.Z)(e,$),d=(0,c.useState)(null),f=(0,r.Z)(d,2),h=f[0],p=f[1],v=(0,A.W)(l),m=(0,A.W)(s),g=(0,c.useRef)(null),y=(0,D.e)(t,(function(e){return p(e)})),b=(0,c.useRef)({paused:!1,pause:function(){this.paused=!0},resume:function(){this.paused=!1}}).current;(0,c.useEffect)((function(){if(o){var e=function(e){if(!b.paused&&h){var t=e.target;h.contains(t)?g.current=t:ie(g.current,{select:!0})}},t=function(e){!b.paused&&h&&(h.contains(e.relatedTarget)||ie(g.current,{select:!0}))};return document.addEventListener("focusin",e),document.addEventListener("focusout",t),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",t)}}}),[o,h,b.paused]),(0,c.useEffect)((function(){if(h){oe.add(b);var e=document.activeElement;if(!h.contains(e)){var t=new CustomEvent(Q,ee);h.addEventListener(Q,v),h.dispatchEvent(t),t.defaultPrevented||(!function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.select,a=void 0!==r&&r,i=document.activeElement,o=(0,q.Z)(e);try{for(o.s();!(t=o.n()).done;){if(ie(t.value,{select:a}),document.activeElement!==i)return}}catch(l){o.e(l)}finally{o.f()}}((n=ne(h),n.filter((function(e){return"A"!==e.tagName}))),{select:!0}),document.activeElement===e&&ie(h))}return function(){h.removeEventListener(Q,v),setTimeout((function(){var t=new CustomEvent(J,ee);h.addEventListener(J,m),h.dispatchEvent(t),t.defaultPrevented||ie(null!==e&&void 0!==e?e:document.body,{select:!0}),h.removeEventListener(J,m),oe.remove(b)}),0)}}var n}),[h,v,m,b]);var x=(0,c.useCallback)((function(e){if((a||o)&&!b.paused){var t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var i=e.currentTarget,l=function(e){var t=ne(e),n=re(t,e),r=re(t.reverse(),e);return[n,r]}(i),s=(0,r.Z)(l,2),c=s[0],u=s[1];c&&u?e.shiftKey||n!==u?e.shiftKey&&n===c&&(e.preventDefault(),a&&ie(u,{select:!0})):(e.preventDefault(),a&&ie(c,{select:!0})):n===i&&e.preventDefault()}}}),[a,o,b.paused]);return(0,c.createElement)(R.WV.div,(0,P.Z)({tabIndex:-1},u,{ref:y,onKeyDown:x}))}));function ne(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});n.nextNode();)t.push(n.currentNode);return t}function re(e,t){var n,r=(0,q.Z)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!ae(a,{upTo:t}))return a}}catch(i){r.e(i)}finally{r.f()}}function ae(e,t){var n=t.upTo;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function ie(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).select,n=void 0!==t&&t;if(e&&e.focus){var r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&n&&e.select()}}var oe=function(){var e=[];return{add:function(t){var n=e[0];t!==n&&(null===n||void 0===n||n.pause()),(e=le(e,t)).unshift(t)},remove:function(t){var n;null===(n=(e=le(e,t))[0])||void 0===n||n.resume()}}}();function le(e,t){var n=(0,f.Z)(e),r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var se=n(6147),ce=n(4165),ue=n(531),de=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"],fe=["strategy"],he=["mainAxis","crossAxis","limiter"],pe=["apply"];function ve(e){return e.split("-")[0]}function me(e){return e.split("-")[1]}function ge(e){return["top","bottom"].includes(ve(e))?"x":"y"}function ye(e){return"y"===e?"height":"width"}function be(e,t,n){var r,a=e.reference,i=e.floating,o=a.x+a.width/2-i.width/2,l=a.y+a.height/2-i.height/2,s=ge(t),c=ye(s),u=a[c]/2-i[c]/2,d="x"===s;switch(ve(t)){case"top":r={x:o,y:a.y-i.height};break;case"bottom":r={x:o,y:a.y+a.height};break;case"right":r={x:a.x+a.width,y:l};break;case"left":r={x:a.x-i.width,y:l};break;default:r={x:a.x,y:a.y}}switch(me(t)){case"start":r[s]-=u*(n&&d?-1:1);break;case"end":r[s]+=u*(n&&d?-1:1)}return r}var xe=function(){var e=(0,ue.Z)((0,ce.Z)().mark((function e(t,n,r){var a,i,o,l,s,c,u,d,f,h,p,v,m,g,y,b,x,w,k,E,S,C,M,_,Z;return(0,ce.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.placement,i=void 0===a?"bottom":a,o=r.strategy,l=void 0===o?"absolute":o,s=r.middleware,c=void 0===s?[]:s,u=r.platform,e.next=3,null==u.isRTL?void 0:u.isRTL(n);case 3:d=e.sent,e.next=8;break;case 8:return e.next=10,u.getElementRects({reference:t,floating:n,strategy:l});case 10:f=e.sent,h=be(f,i,d),p=h.x,v=h.y,m=i,g={},y=0,b=0;case 16:if(!(b<c.length)){e.next=50;break}return x=c[b],w=x.name,k=x.fn,e.next=20,k({x:p,y:v,initialPlacement:i,placement:m,strategy:l,middlewareData:g,rects:f,platform:u,elements:{reference:t,floating:n}});case 20:if(E=e.sent,S=E.x,C=E.y,M=E.data,_=E.reset,p=null!=S?S:p,v=null!=C?C:v,g=(0,T.Z)((0,T.Z)({},g),{},(0,I.Z)({},w,(0,T.Z)((0,T.Z)({},g[w]),M))),!(_&&y<=50)){e.next=47;break}if(y++,"object"!==typeof _){e.next=45;break}if(_.placement&&(m=_.placement),!_.rects){e.next=42;break}if(!0!==_.rects){e.next=40;break}return e.next=37,u.getElementRects({reference:t,floating:n,strategy:l});case 37:e.t0=e.sent,e.next=41;break;case 40:e.t0=_.rects;case 41:f=e.t0;case 42:Z=be(f,m,d),p=Z.x,v=Z.y;case 45:return b=-1,e.abrupt("continue",47);case 47:b++,e.next=16;break;case 50:return e.abrupt("return",{x:p,y:v,placement:m,strategy:l,middlewareData:g});case 51:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function we(e){return"number"!==typeof e?function(e){return(0,T.Z)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function ke(e){return(0,T.Z)((0,T.Z)({},e),{},{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}function Ee(e,t){return Se.apply(this,arguments)}function Se(){return Se=(0,ue.Z)((0,ce.Z)().mark((function e(t,n){var r,a,i,o,l,s,c,u,d,f,h,p,v,m,g,y,b,x,w,k,E,S;return(0,ce.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),a=t.x,i=t.y,o=t.platform,l=t.rects,s=t.elements,c=t.strategy,d=(u=n).boundary,f=void 0===d?"clippingAncestors":d,h=u.rootBoundary,p=void 0===h?"viewport":h,v=u.elementContext,m=void 0===v?"floating":v,g=u.altBoundary,y=void 0!==g&&g,b=u.padding,x=we(void 0===b?0:b),w="floating"===m?"reference":"floating",k=s[y?w:m],e.t0=ke,e.t1=o,e.next=10,null==o.isElement?void 0:o.isElement(k);case 10:if(e.t2=r=e.sent,null==e.t2){e.next=15;break}e.t3=r,e.next=16;break;case 15:e.t3=!0;case 16:if(!e.t3){e.next=20;break}e.t4=k,e.next=26;break;case 20:if(e.t5=k.contextElement,e.t5){e.next=25;break}return e.next=24,null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating);case 24:e.t5=e.sent;case 25:e.t4=e.t5;case 26:return e.t6=e.t4,e.t7=f,e.t8=p,e.t9=c,e.t10={element:e.t6,boundary:e.t7,rootBoundary:e.t8,strategy:e.t9},e.next=33,e.t1.getClippingRect.call(e.t1,e.t10);case 33:if(e.t11=e.sent,E=(0,e.t0)(e.t11),e.t12=ke,!o.convertOffsetParentRelativeRectToViewportRelativeRect){e.next=49;break}return e.t14=o,e.t15="floating"===m?(0,T.Z)((0,T.Z)({},l.floating),{},{x:a,y:i}):l.reference,e.next=41,null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating);case 41:return e.t16=e.sent,e.t17=c,e.t18={rect:e.t15,offsetParent:e.t16,strategy:e.t17},e.next=46,e.t14.convertOffsetParentRelativeRectToViewportRelativeRect.call(e.t14,e.t18);case 46:e.t13=e.sent,e.next=50;break;case 49:e.t13=l[m];case 50:return e.t19=e.t13,S=(0,e.t12)(e.t19),e.abrupt("return",{top:E.top-S.top+x.top,bottom:S.bottom-E.bottom+x.bottom,left:E.left-S.left+x.left,right:S.right-E.right+x.right});case 53:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}var Ce=Math.min,Me=Math.max;function _e(e,t,n){return Me(e,Ce(t,n))}var Ze=function(e){return{name:"arrow",options:e,fn:function(t){return(0,ue.Z)((0,ce.Z)().mark((function n(){var r,a,i,o,l,s,c,u,d,f,h,p,v,m,g,y,b,x,w,k,E,S,C,M,_,Z,T,j,P,L,D;return(0,ce.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=(i=null!=e?e:{}).element,l=i.padding,s=void 0===l?0:l,c=t.x,u=t.y,d=t.placement,f=t.rects,h=t.platform,null!=o){n.next=5;break}return n.abrupt("return",{});case 5:return p=we(s),v={x:c,y:u},m=ge(d),g=me(d),y=ye(m),n.next=12,h.getDimensions(o);case 12:return b=n.sent,x="y"===m?"top":"left",w="y"===m?"bottom":"right",k=f.reference[y]+f.reference[m]-v[m]-f.floating[y],E=v[m]-f.reference[m],n.next=19,null==h.getOffsetParent?void 0:h.getOffsetParent(o);case 19:return S=n.sent,0===(C=S?"y"===m?S.clientHeight||0:S.clientWidth||0:0)&&(C=f.floating[y]),M=k/2-E/2,_=p[x],Z=C-b[y]-p[w],T=C/2-b[y]/2+M,j=_e(_,T,Z),P="start"===g?p[x]:p[w],L=P>0&&T!==j&&f.reference[y]<=f.floating[y],D=L?T<_?_-T:Z-T:0,n.abrupt("return",(a={},(0,I.Z)(a,m,v[m]-D),(0,I.Z)(a,"data",(r={},(0,I.Z)(r,m,j),(0,I.Z)(r,"centerOffset",T-j),r)),a));case 31:case"end":return n.stop()}}),n)})))()}}},Ie={left:"right",right:"left",bottom:"top",top:"bottom"};function Te(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ie[e]}))}function je(e,t,n){void 0===n&&(n=!1);var r=me(e),a=ge(e),i=ye(a),o="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Te(o)),{main:o,cross:Te(o)}}var Pe={start:"end",end:"start"};function Le(e){return e.replace(/start|end/g,(function(e){return Pe[e]}))}var De=["top","right","bottom","left"];function Oe(e){var t=Te(e);return[Le(e),t,Le(t)]}var Re=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn:function(t){return(0,ue.Z)((0,ce.Z)().mark((function n(){var r,a,i,o,l,s,c,u,d,h,p,v,m,g,y,b,x,w,k,E,S,C,M,_,Z,I,T,P,L,D,O,R,A,N,z;return(0,ce.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.placement,i=t.middlewareData,o=t.rects,l=t.initialPlacement,s=t.platform,c=t.elements,d=(u=e).mainAxis,h=void 0===d||d,p=u.crossAxis,v=void 0===p||p,m=u.fallbackPlacements,g=u.fallbackStrategy,y=void 0===g?"bestFit":g,b=u.flipAlignment,x=void 0===b||b,w=(0,j.Z)(u,de),k=ve(a),E=k===l,S=m||(E||!x?[Te(l)]:Oe(l)),C=[l].concat((0,f.Z)(S)),n.next=8,Ee(t,w);case 8:if(M=n.sent,_=[],Z=(null==(r=i.flip)?void 0:r.overflows)||[],h&&_.push(M[k]),!v){n.next=23;break}return n.t0=je,n.t1=a,n.t2=o,n.next=18,null==s.isRTL?void 0:s.isRTL(c.floating);case 18:n.t3=n.sent,I=(0,n.t0)(n.t1,n.t2,n.t3),T=I.main,P=I.cross,_.push(M[T],M[P]);case 23:if(Z=[].concat((0,f.Z)(Z),[{placement:a,overflows:_}]),_.every((function(e){return e<=0}))){n.next=40;break}if(O=(null!=(L=null==(D=i.flip)?void 0:D.index)?L:0)+1,!(R=C[O])){n.next=29;break}return n.abrupt("return",{data:{index:O,overflows:Z},reset:{placement:R}});case 29:A="bottom",n.t4=y,n.next="bestFit"===n.t4?33:"initialPlacement"===n.t4?36:38;break;case 33:return z=null==(N=Z.map((function(e){return[e,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])?void 0:N[0].placement,z&&(A=z),n.abrupt("break",38);case 36:return A=l,n.abrupt("break",38);case 38:if(a===A){n.next=40;break}return n.abrupt("return",{reset:{placement:A}});case 40:return n.abrupt("return",{});case 41:case"end":return n.stop()}}),n)})))()}}};function Ae(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ne(e){return De.some((function(t){return e[t]>=0}))}var ze=function(e){var t=void 0===e?{}:e,n=t.strategy,r=void 0===n?"referenceHidden":n,a=(0,j.Z)(t,fe);return{name:"hide",fn:function(e){return(0,ue.Z)((0,ce.Z)().mark((function t(){var n,i,o,l,s;return(0,ce.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.rects,t.t0=r,t.next="referenceHidden"===t.t0?4:"escaped"===t.t0?9:14;break;case 4:return t.next=6,Ee(e,(0,T.Z)((0,T.Z)({},a),{},{elementContext:"reference"}));case 6:return i=t.sent,o=Ae(i,n.reference),t.abrupt("return",{data:{referenceHiddenOffsets:o,referenceHidden:Ne(o)}});case 9:return t.next=11,Ee(e,(0,T.Z)((0,T.Z)({},a),{},{altBoundary:!0}));case 11:return l=t.sent,s=Ae(l,n.floating),t.abrupt("return",{data:{escapedOffsets:s,escaped:Ne(s)}});case 14:return t.abrupt("return",{});case 15:case"end":return t.stop()}}),t)})))()}}};function Be(e,t){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,ue.Z)((0,ce.Z)().mark((function e(t,n){var r,a,i,o,l,s,c,u,d,f,h,p,v,m;return(0,ce.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.placement,a=t.platform,i=t.elements,e.next=3,null==a.isRTL?void 0:a.isRTL(i.floating);case 3:return o=e.sent,l=ve(r),s=me(r),c="x"===ge(r),u=["left","top"].includes(l)?-1:1,d=o&&c?-1:1,f="function"===typeof n?n(t):n,h="number"===typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:(0,T.Z)({mainAxis:0,crossAxis:0,alignmentAxis:null},f),p=h.mainAxis,v=h.crossAxis,m=h.alignmentAxis,s&&"number"===typeof m&&(v="end"===s?-1*m:m),e.abrupt("return",c?{x:v*d,y:p*u}:{x:p*u,y:v*d});case 13:case"end":return e.stop()}}),e)}))),Fe.apply(this,arguments)}function He(e){return"x"===e?"y":"x"}var We=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn:function(t){return(0,ue.Z)((0,ce.Z)().mark((function n(){var r,a,i,o,l,s,c,u,d,f,h,p,v,m,g,y,b,x,w,k,E,S,C,M,_;return(0,ce.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.x,i=t.y,o=t.placement,s=(l=e).mainAxis,c=void 0===s||s,u=l.crossAxis,d=void 0!==u&&u,f=l.limiter,h=void 0===f?{fn:function(e){return{x:e.x,y:e.y}}}:f,p=(0,j.Z)(l,he),v={x:a,y:i},n.next=5,Ee(t,p);case 5:return m=n.sent,g=ge(ve(o)),y=He(g),b=v[g],x=v[y],c&&(w="y"===g?"bottom":"right",k=b+m["y"===g?"top":"left"],E=b-m[w],b=_e(k,b,E)),d&&(S="y"===y?"bottom":"right",C=x+m["y"===y?"top":"left"],M=x-m[S],x=_e(C,x,M)),_=h.fn((0,T.Z)((0,T.Z)({},t),{},(r={},(0,I.Z)(r,g,b),(0,I.Z)(r,y,x),r))),n.abrupt("return",(0,T.Z)((0,T.Z)({},_),{},{data:{x:_.x-a,y:_.y-i}}));case 14:case"end":return n.stop()}}),n)})))()}}},Ue=function(e){return void 0===e&&(e={}),{options:e,fn:function(t){var n,r=t.x,a=t.y,i=t.placement,o=t.rects,l=t.middlewareData,s=e,c=s.offset,u=void 0===c?0:c,d=s.mainAxis,f=void 0===d||d,h=s.crossAxis,p=void 0===h||h,v={x:r,y:a},m=ge(i),g=He(m),y=v[m],b=v[g],x="function"===typeof u?u((0,T.Z)((0,T.Z)({},o),{},{placement:i})):u,w="number"===typeof x?{mainAxis:x,crossAxis:0}:(0,T.Z)({mainAxis:0,crossAxis:0},x);if(f){var k="y"===m?"height":"width",E=o.reference[m]-o.floating[k]+w.mainAxis,S=o.reference[m]+o.reference[k]-w.mainAxis;y<E?y=E:y>S&&(y=S)}if(p){var C,M,_,Z,j="y"===m?"width":"height",P=["top","left"].includes(ve(i)),L=o.reference[g]-o.floating[j]+(P&&null!=(C=null==(M=l.offset)?void 0:M[g])?C:0)+(P?0:w.crossAxis),D=o.reference[g]+o.reference[j]+(P?0:null!=(_=null==(Z=l.offset)?void 0:Z[g])?_:0)-(P?w.crossAxis:0);b<L?b=L:b>D&&(b=D)}return n={},(0,I.Z)(n,m,y),(0,I.Z)(n,g,b),n}}},Ke=function(e){return void 0===e&&(e={}),{name:"size",options:e,fn:function(t){return(0,ue.Z)((0,ce.Z)().mark((function n(){var r,a,i,o,l,s,c,u,d,f,h,p,v,m,g,y,b,x,w;return(0,ce.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.placement,a=t.rects,i=t.platform,o=t.elements,s=(l=e).apply,c=(0,j.Z)(l,pe),n.next=4,Ee(t,c);case 4:if(u=n.sent,d=ve(r),f=me(r),"top"!==d&&"bottom"!==d){n.next=26;break}return h=d,n.t0=f,n.next=12,null==i.isRTL?void 0:i.isRTL(o.floating);case 12:if(!n.sent){n.next=16;break}n.t1="start",n.next=17;break;case 16:n.t1="end";case 17:if(n.t2=n.t1,n.t0!==n.t2){n.next=22;break}n.t3="left",n.next=23;break;case 22:n.t3="right";case 23:p=n.t3,n.next=28;break;case 26:p=d,h="end"===f?"top":"bottom";case 28:return v=Me(u.left,0),m=Me(u.right,0),g=Me(u.top,0),y=Me(u.bottom,0),b={availableHeight:a.floating.height-(["left","right"].includes(r)?2*(0!==g||0!==y?g+y:Me(u.top,u.bottom)):u[h]),availableWidth:a.floating.width-(["top","bottom"].includes(r)?2*(0!==v||0!==m?v+m:Me(u.left,u.right)):u[p])},n.next=35,i.getDimensions(o.floating);case 35:return x=n.sent,null==s||s((0,T.Z)((0,T.Z)({},t),b)),n.next=39,i.getDimensions(o.floating);case 39:if(w=n.sent,x.width===w.width&&x.height===w.height){n.next=42;break}return n.abrupt("return",{reset:{rects:!0}});case 42:return n.abrupt("return",{});case 43:case"end":return n.stop()}}),n)})))()}}};function Ve(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Ye(e){if(null==e)return window;if(!Ve(e)){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ge(e){return Ye(e).getComputedStyle(e)}function Xe(e){return Ve(e)?"":e?(e.nodeName||"").toLowerCase():""}function qe(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function $e(e){return e instanceof Ye(e).HTMLElement}function Qe(e){return e instanceof Ye(e).Element}function Je(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Ye(e).ShadowRoot||e instanceof ShadowRoot)}function et(e){var t=Ge(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function tt(e){return["table","td","th"].includes(Xe(e))}function nt(e){var t=/firefox/i.test(qe()),n=Ge(e);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||t&&"filter"===n.willChange||t&&!!n.filter&&"none"!==n.filter}function rt(){return!/^((?!chrome|android).)*safari/i.test(qe())}var at=Math.min,it=Math.max,ot=Math.round;function lt(e,t,n){var r,a,i,o;void 0===t&&(t=!1),void 0===n&&(n=!1);var l=e.getBoundingClientRect(),s=1,c=1;t&&$e(e)&&(s=e.offsetWidth>0&&ot(l.width)/e.offsetWidth||1,c=e.offsetHeight>0&&ot(l.height)/e.offsetHeight||1);var u=Qe(e)?Ye(e):window,d=!rt()&&n,f=(l.left+(d&&null!=(r=null==(a=u.visualViewport)?void 0:a.offsetLeft)?r:0))/s,h=(l.top+(d&&null!=(i=null==(o=u.visualViewport)?void 0:o.offsetTop)?i:0))/c,p=l.width/s,v=l.height/c;return{width:p,height:v,top:h,right:f+p,bottom:h+v,left:f,x:f,y:h}}function st(e){return(t=e,(t instanceof Ye(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function ct(e){return Qe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ut(e){return lt(st(e)).left+ct(e).scrollLeft}function dt(e,t,n){var r=$e(t),a=st(t),i=lt(e,r&&function(e){var t=lt(e);return ot(t.width)!==e.offsetWidth||ot(t.height)!==e.offsetHeight}(t),"fixed"===n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==Xe(t)||et(a))&&(o=ct(t)),$e(t)){var s=lt(t,!0);l.x=s.x+t.clientLeft,l.y=s.y+t.clientTop}else a&&(l.x=ut(a));return{x:i.left+o.scrollLeft-l.x,y:i.top+o.scrollTop-l.y,width:i.width,height:i.height}}function ft(e){return"html"===Xe(e)?e:e.assignedSlot||e.parentNode||(Je(e)?e.host:null)||st(e)}function ht(e){return $e(e)&&"fixed"!==getComputedStyle(e).position?e.offsetParent:null}function pt(e){for(var t=Ye(e),n=ht(e);n&&tt(n)&&"static"===getComputedStyle(n).position;)n=ht(n);return n&&("html"===Xe(n)||"body"===Xe(n)&&"static"===getComputedStyle(n).position&&!nt(n))?t:n||function(e){var t=ft(e);for(Je(t)&&(t=t.host);$e(t)&&!["html","body"].includes(Xe(t));){if(nt(t))return t;t=t.parentNode}return null}(e)||t}function vt(e){if($e(e))return{width:e.offsetWidth,height:e.offsetHeight};var t=lt(e);return{width:t.width,height:t.height}}function mt(e){var t=ft(e);return["html","body","#document"].includes(Xe(t))?e.ownerDocument.body:$e(t)&&et(t)?t:mt(t)}function gt(e,t){var n;void 0===t&&(t=[]);var r=mt(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Ye(r),o=a?[i].concat(i.visualViewport||[],et(r)?r:[]):r,l=t.concat(o);return a?l:l.concat(gt(o))}function yt(e,t,n){return"viewport"===t?ke(function(e,t){var n=Ye(e),r=st(e),a=n.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,s=0;if(a){i=a.width,o=a.height;var c=rt();(c||!c&&"fixed"===t)&&(l=a.offsetLeft,s=a.offsetTop)}return{width:i,height:o,x:l,y:s}}(e,n)):Qe(t)?function(e,t){var n=lt(e,!1,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft;return{top:r,left:a,x:a,y:r,right:a+e.clientWidth,bottom:r+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(t,n):ke(function(e){var t,n=st(e),r=ct(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=it(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=it(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-r.scrollLeft+ut(e),s=-r.scrollTop;return"rtl"===Ge(a||n).direction&&(l+=it(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:l,y:s}}(st(e)))}function bt(e){var t=gt(e),n=["absolute","fixed"].includes(Ge(e).position)&&$e(e)?pt(e):e;return Qe(n)?t.filter((function(e){return Qe(e)&&function(e,t){var n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Je(n)){var r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}(e,n)&&"body"!==Xe(e)})):[]}var xt={getClippingRect:function(e){var t=e.element,n=e.boundary,r=e.rootBoundary,a=e.strategy,i="clippingAncestors"===n?bt(t):[].concat(n),o=[].concat((0,f.Z)(i),[r]),l=o[0],s=o.reduce((function(e,n){var r=yt(t,n,a);return e.top=it(r.top,e.top),e.right=at(r.right,e.right),e.bottom=at(r.bottom,e.bottom),e.left=it(r.left,e.left),e}),yt(t,l,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){var t=e.rect,n=e.offsetParent,r=e.strategy,a=$e(n),i=st(n);if(n===i)return t;var o={scrollLeft:0,scrollTop:0},l={x:0,y:0};if((a||!a&&"fixed"!==r)&&(("body"!==Xe(n)||et(i))&&(o=ct(n)),$e(n))){var s=lt(n,!0);l.x=s.x+n.clientLeft,l.y=s.y+n.clientTop}return(0,T.Z)((0,T.Z)({},t),{},{x:t.x-o.scrollLeft+l.x,y:t.y-o.scrollTop+l.y})},isElement:Qe,getDimensions:vt,getOffsetParent:pt,getDocumentElement:st,getElementRects:function(e){var t=e.reference,n=e.floating,r=e.strategy;return{reference:dt(t,pt(n),r),floating:(0,T.Z)((0,T.Z)({},vt(n)),{},{x:0,y:0})}},getClientRects:function(e){return Array.from(e.getClientRects())},isRTL:function(e){return"rtl"===Ge(e).direction}};function wt(e,t,n,r){void 0===r&&(r={});var a=r,i=a.ancestorScroll,o=void 0===i||i,l=a.ancestorResize,s=void 0===l||l,c=a.elementResize,u=void 0===c||c,d=a.animationFrame,h=void 0!==d&&d,p=o&&!h,v=s&&!h,m=p||v?[].concat((0,f.Z)(Qe(e)?gt(e):[]),(0,f.Z)(gt(t))):[];m.forEach((function(e){p&&e.addEventListener("scroll",n,{passive:!0}),v&&e.addEventListener("resize",n)}));var g,y=null;if(u){var b=!0;y=new ResizeObserver((function(){b||n(),b=!1})),Qe(e)&&!h&&y.observe(e),y.observe(t)}var x=h?lt(e):null;return h&&function t(){var r=lt(e);!x||r.x===x.x&&r.y===x.y&&r.width===x.width&&r.height===x.height||n();x=r,g=requestAnimationFrame(t)}(),n(),function(){var e;m.forEach((function(e){p&&e.removeEventListener("scroll",n),v&&e.removeEventListener("resize",n)})),null==(e=y)||e.disconnect(),y=null,h&&cancelAnimationFrame(g)}}var kt=n(4164),Et="undefined"!==typeof document?c.useLayoutEffect:c.useEffect;function St(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;var n,r,a;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!==r--;)if(!St(e[r],t[r]))return!1;return!0}if((n=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){var i=a[r];if(("_owner"!==i||!e.$$typeof)&&!St(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Ct(e){var t=void 0===e?{}:e,n=t.middleware,a=t.placement,i=void 0===a?"bottom":a,o=t.strategy,l=void 0===o?"absolute":o,s=t.whileElementsMounted,u=c.useRef(null),d=c.useRef(null),f=function(e){var t=c.useRef(e);return Et((function(){t.current=e})),t}(s),h=c.useRef(null),p=c.useState({x:null,y:null,strategy:l,placement:i,middlewareData:{}}),v=(0,r.Z)(p,2),m=v[0],g=v[1],y=c.useState(n),b=(0,r.Z)(y,2),x=b[0],w=b[1];St(null==x?void 0:x.map((function(e){return e.options})),null==n?void 0:n.map((function(e){return e.options})))||w(n);var k=c.useCallback((function(){u.current&&d.current&&function(e,t,n){return xe(e,t,(0,T.Z)({platform:xt},n))}(u.current,d.current,{middleware:x,placement:i,strategy:l}).then((function(e){E.current&&kt.flushSync((function(){g(e)}))}))}),[x,i,l]);Et((function(){E.current&&k()}),[k]);var E=c.useRef(!1);Et((function(){return E.current=!0,function(){E.current=!1}}),[]);var S=c.useCallback((function(){if("function"===typeof h.current&&(h.current(),h.current=null),u.current&&d.current)if(f.current){var e=f.current(u.current,d.current,k);h.current=e}else k()}),[k,f]),C=c.useCallback((function(e){u.current=e,S()}),[S]),M=c.useCallback((function(e){d.current=e,S()}),[S]),_=c.useMemo((function(){return{reference:u,floating:d}}),[]);return c.useMemo((function(){return(0,T.Z)((0,T.Z)({},m),{},{update:k,refs:_,reference:C,floating:M})}),[m,k,_,C,M])}var Mt=function(e){var t=e.element,n=e.padding;return{name:"arrow",options:e,fn:function(e){return r=t,Object.prototype.hasOwnProperty.call(r,"current")?null!=t.current?Ze({element:t.current,padding:n}).fn(e):{}:t?Ze({element:t,padding:n}).fn(e):{};var r}}},_t=["children","width","height"],Zt=(0,c.forwardRef)((function(e,t){var n=e.children,r=e.width,a=void 0===r?10:r,i=e.height,o=void 0===i?5:i,l=(0,j.Z)(e,_t);return(0,c.createElement)(R.WV.svg,(0,P.Z)({},l,{ref:t,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:(0,c.createElement)("polygon",{points:"0,0 30,0 15,10"}))})),It=Zt,Tt=n(2999);var jt=["__scopePopper","virtualRef"],Pt=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions","onPlaced"],Lt=["__scopePopper"],Dt="Popper",Ot=(0,O.b)(Dt),Rt=(0,r.Z)(Ot,2),At=Rt[0],Nt=Rt[1],zt=At(Dt),Bt=(0,r.Z)(zt,2),Ft=Bt[0],Ht=Bt[1],Wt=function(e){var t=e.__scopePopper,n=e.children,a=(0,c.useState)(null),i=(0,r.Z)(a,2),o=i[0],l=i[1];return(0,c.createElement)(Ft,{scope:t,anchor:o,onAnchorChange:l},n)},Ut="PopperAnchor",Kt=(0,c.forwardRef)((function(e,t){var n=e.__scopePopper,r=e.virtualRef,a=(0,j.Z)(e,jt),i=Ht(Ut,n),o=(0,c.useRef)(null),l=(0,D.e)(t,o);return(0,c.useEffect)((function(){i.onAnchorChange((null===r||void 0===r?void 0:r.current)||o.current)})),r?null:(0,c.createElement)(R.WV.div,(0,P.Z)({},a,{ref:l}))})),Vt="PopperContent",Yt=At(Vt),Gt=(0,r.Z)(Yt,2),Xt=Gt[0],qt=Gt[1],$t=At(Vt,{hasParent:!1,positionUpdateFns:new Set}),Qt=(0,r.Z)($t,2),Jt=Qt[0],en=Qt[1],tn=(0,c.forwardRef)((function(e,t){var n,a,i,o,l,s,u,d,f,h=e.__scopePopper,p=e.side,v=void 0===p?"bottom":p,m=e.sideOffset,g=void 0===m?0:m,y=e.align,b=void 0===y?"center":y,x=e.alignOffset,w=void 0===x?0:x,k=e.arrowPadding,E=void 0===k?0:k,S=e.collisionBoundary,C=void 0===S?[]:S,M=e.collisionPadding,_=void 0===M?0:M,Z=e.sticky,P=void 0===Z?"partial":Z,L=e.hideWhenDetached,O=void 0!==L&&L,N=e.avoidCollisions,z=void 0===N||N,B=e.onPlaced,F=(0,j.Z)(e,Pt),H=Ht(Vt,h),W=(0,c.useState)(null),U=(0,r.Z)(W,2),K=U[0],V=U[1],Y=(0,D.e)(t,(function(e){return V(e)})),G=(0,c.useState)(null),X=(0,r.Z)(G,2),q=X[0],$=X[1],Q=function(e){var t=(0,c.useState)(void 0),n=(0,r.Z)(t,2),a=n[0],i=n[1];return(0,Tt.b)((function(){if(e){i({width:e.offsetWidth,height:e.offsetHeight});var t=new ResizeObserver((function(t){if(Array.isArray(t)&&t.length){var n,r,a=t[0];if("borderBoxSize"in a){var o=a.borderBoxSize,l=Array.isArray(o)?o[0]:o;n=l.inlineSize,r=l.blockSize}else n=e.offsetWidth,r=e.offsetHeight;i({width:n,height:r})}}));return t.observe(e,{box:"border-box"}),function(){return t.unobserve(e)}}i(void 0)}),[e]),a}(q),J=null!==(n=null===Q||void 0===Q?void 0:Q.width)&&void 0!==n?n:0,ee=null!==(a=null===Q||void 0===Q?void 0:Q.height)&&void 0!==a?a:0,te=v+("center"!==b?"-"+b:""),ne="number"===typeof _?_:(0,T.Z)({top:0,right:0,bottom:0,left:0},_),re=Array.isArray(C)?C:[C],ae=re.length>0,ie={padding:ne,boundary:re.filter(ln),altBoundary:ae},oe=Ct({strategy:"fixed",placement:te,whileElementsMounted:wt,middleware:[sn(),(f={mainAxis:g+ee,alignmentAxis:w},void 0===f&&(f=0),{name:"offset",options:f,fn:function(e){return(0,ue.Z)((0,ce.Z)().mark((function t(){var n,r,a;return(0,ce.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.x,r=e.y,t.next=3,Be(e,f);case 3:return a=t.sent,t.abrupt("return",{x:n+a.x,y:r+a.y,data:a});case 5:case"end":return t.stop()}}),t)})))()}}),z?We((0,T.Z)({mainAxis:!0,crossAxis:!1,limiter:"partial"===P?Ue():void 0},ie)):void 0,q?Mt({element:q,padding:E}):void 0,z?Re((0,T.Z)({},ie)):void 0,Ke((0,T.Z)((0,T.Z)({},ie),{},{apply:function(e){var t=e.elements,n=e.availableWidth,r=e.availableHeight;t.floating.style.setProperty("--radix-popper-available-width","".concat(n,"px")),t.floating.style.setProperty("--radix-popper-available-height","".concat(r,"px"))}})),cn({arrowWidth:J,arrowHeight:ee}),O?ze({strategy:"referenceHidden"}):void 0].filter(on)}),le=oe.reference,se=oe.floating,de=oe.strategy,fe=oe.x,he=oe.y,pe=oe.placement,ve=oe.middlewareData,me=oe.update;(0,Tt.b)((function(){le(H.anchor)}),[le,H.anchor]);var ge=null!==fe&&null!==he,ye=un(pe),be=(0,r.Z)(ye,2),xe=be[0],we=be[1],ke=(0,A.W)(B);(0,Tt.b)((function(){ge&&(null===ke||void 0===ke||ke())}),[ge,ke]);var Ee=null===(i=ve.arrow)||void 0===i?void 0:i.x,Se=null===(o=ve.arrow)||void 0===o?void 0:o.y,Ce=0!==(null===(l=ve.arrow)||void 0===l?void 0:l.centerOffset),Me=(0,c.useState)(),_e=(0,r.Z)(Me,2),Ze=_e[0],Ie=_e[1];(0,Tt.b)((function(){K&&Ie(window.getComputedStyle(K).zIndex)}),[K]);var Te=en(Vt,h),je=Te.hasParent,Pe=Te.positionUpdateFns,Le=!je;(0,c.useLayoutEffect)((function(){if(!Le)return Pe.add(me),function(){Pe.delete(me)}}),[Le,Pe,me]),(0,Tt.b)((function(){Le&&ge&&Array.from(Pe).reverse().forEach((function(e){return requestAnimationFrame(e)}))}),[Le,ge,Pe]);var De=(0,T.Z)((0,T.Z)({"data-side":xe,"data-align":we},F),{},{ref:Y,style:(0,T.Z)((0,T.Z)({},F.style),{},{animation:ge?void 0:"none",opacity:null!==(s=ve.hide)&&void 0!==s&&s.referenceHidden?0:void 0})});return(0,c.createElement)("div",{ref:se,"data-radix-popper-content-wrapper":"",style:(0,I.Z)({position:de,left:0,top:0,transform:ge?"translate3d(".concat(Math.round(fe),"px, ").concat(Math.round(he),"px, 0)"):"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Ze},"--radix-popper-transform-origin",[null===(u=ve.transformOrigin)||void 0===u?void 0:u.x,null===(d=ve.transformOrigin)||void 0===d?void 0:d.y].join(" ")),dir:e.dir},(0,c.createElement)(Xt,{scope:h,placedSide:xe,onArrowChange:$,arrowX:Ee,arrowY:Se,shouldHideArrow:Ce},Le?(0,c.createElement)(Jt,{scope:h,hasParent:!0,positionUpdateFns:Pe},(0,c.createElement)(R.WV.div,De)):(0,c.createElement)(R.WV.div,De)))})),nn="PopperArrow",rn={top:"bottom",right:"left",bottom:"top",left:"right"},an=(0,c.forwardRef)((function(e,t){var n,r=e.__scopePopper,a=(0,j.Z)(e,Lt),i=qt(nn,r),o=rn[i.placedSide];return(0,c.createElement)("span",{ref:i.onArrowChange,style:(n={position:"absolute",left:i.arrowX,top:i.arrowY},(0,I.Z)(n,o,0),(0,I.Z)(n,"transformOrigin",{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide]),(0,I.Z)(n,"transform",{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide]),(0,I.Z)(n,"visibility",i.shouldHideArrow?"hidden":void 0),n)},(0,c.createElement)(It,(0,P.Z)({},a,{ref:t,style:(0,T.Z)((0,T.Z)({},a.style),{},{display:"block"})})))}));function on(e){return void 0!==e}function ln(e){return null!==e}var sn=function(){return{name:"anchorCssProperties",fn:function(e){var t=e.rects,n=e.elements,r=t.reference,a=r.width,i=r.height;return n.floating.style.setProperty("--radix-popper-anchor-width","".concat(a,"px")),n.floating.style.setProperty("--radix-popper-anchor-height","".concat(i,"px")),{}}}},cn=function(e){return{name:"transformOrigin",options:e,fn:function(t){var n,a,i,o,l,s=t.placement,c=t.rects,u=t.middlewareData,d=0!==(null===(n=u.arrow)||void 0===n?void 0:n.centerOffset),f=d?0:e.arrowWidth,h=d?0:e.arrowHeight,p=un(s),v=(0,r.Z)(p,2),m=v[0],g={start:"0%",center:"50%",end:"100%"}[v[1]],y=(null!==(a=null===(i=u.arrow)||void 0===i?void 0:i.x)&&void 0!==a?a:0)+f/2,b=(null!==(o=null===(l=u.arrow)||void 0===l?void 0:l.y)&&void 0!==o?o:0)+h/2,x="",w="";return"bottom"===m?(x=d?g:"".concat(y,"px"),w="".concat(-h,"px")):"top"===m?(x=d?g:"".concat(y,"px"),w="".concat(c.floating.height+h,"px")):"right"===m?(x="".concat(-h,"px"),w=d?g:"".concat(b,"px")):"left"===m&&(x="".concat(c.floating.width+h,"px"),w=d?g:"".concat(b,"px")),{data:{x:x,y:w}}}}};function un(e){var t=e.split("-"),n=(0,r.Z)(t,2),a=n[0],i=n[1];return[a,void 0===i?"center":i]}var dn=Wt,fn=Kt,hn=tn,pn=an,vn=["container"],mn=(0,c.forwardRef)((function(e,t){var n,r=e.container,a=void 0===r?null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body:r,i=(0,j.Z)(e,vn);return a?kt.createPortal((0,c.createElement)(R.WV.div,(0,P.Z)({},i,{ref:t})),a):null})),gn=n(2008),yn=n(4682),bn=n(5240),xn=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},wn=new WeakMap,kn=new WeakMap,En={},Sn=0,Cn=function e(t){return t&&(t.host||e(t.parentNode))},Mn=function(e,t,n,r){var a=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=Cn(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);En[n]||(En[n]=new WeakMap);var i=En[n],o=[],l=new Set,s=new Set(a);a.forEach((function e(t){t&&!l.has(t)&&(l.add(t),e(t.parentNode))}));return function e(t){t&&!s.has(t)&&Array.prototype.forEach.call(t.children,(function(t){if(l.has(t))e(t);else{var a=t.getAttribute(r),s=null!==a&&"false"!==a,c=(wn.get(t)||0)+1,u=(i.get(t)||0)+1;wn.set(t,c),i.set(t,u),o.push(t),1===c&&s&&kn.set(t,!0),1===u&&t.setAttribute(n,"true"),s||t.setAttribute(r,"true")}}))}(t),l.clear(),Sn++,function(){o.forEach((function(e){var t=wn.get(e)-1,a=i.get(e)-1;wn.set(e,t),i.set(e,a),t||(kn.has(e)||e.removeAttribute(r),kn.delete(e)),a||e.removeAttribute(n)})),--Sn||(wn=new WeakMap,wn=new WeakMap,kn=new WeakMap,En={})}},_n=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||xn(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Mn(r,a,n,"aria-hidden")):function(){return null}};var Zn=function(){return Zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Zn.apply(this,arguments)};function In(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;var Tn="right-scroll-bar-position",jn="width-before-scroll-bar";function Pn(e,t){return function(e,t){var n=(0,c.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}function Ln(e){return e}function Dn(e,t){void 0===t&&(t=Ln);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var a=t(e,r);return n.push(a),function(){n=n.filter((function(e){return e!==a}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var a=n;n=[],a.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(i)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}var On=function(e){void 0===e&&(e={});var t=Dn(null);return t.options=Zn({async:!0,ssr:!1},e),t}(),Rn=function(){},An=c.forwardRef((function(e,t){var n=c.useRef(null),r=c.useState({onScrollCapture:Rn,onWheelCapture:Rn,onTouchMoveCapture:Rn}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,s=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,v=e.inert,m=e.allowPinchZoom,g=e.as,y=void 0===g?"div":g,b=In(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=h,w=Pn([n,t]),k=Zn(Zn({},b),a);return c.createElement(c.Fragment,null,d&&c.createElement(x,{sideCar:On,removeScrollBar:u,shards:f,noIsolation:p,inert:v,setCallbacks:i,allowPinchZoom:!!m,lockRef:n}),o?c.cloneElement(c.Children.only(l),Zn(Zn({},k),{ref:w})):c.createElement(y,Zn({},k,{className:s,ref:w}),l))}));An.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},An.classNames={fullWidth:jn,zeroRight:Tn};var Nn,zn=function(e){var t=e.sideCar,n=In(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return c.createElement(r,Zn({},n))};zn.isSideCarExport=!0;function Bn(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Nn||n.nc;return t&&e.setAttribute("nonce",t),e}var Fn=function(){var e=0,t=null;return{add:function(n){var r,a;0==e&&(t=Bn())&&(a=n,(r=t).styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Hn=function(){var e=function(){var e=Fn();return function(t,n){c.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},Wn={left:0,top:0,right:0,gap:0},Un=function(e){return parseInt(e||"",10)||0},Kn=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return Wn;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[Un(n),Un(r),Un(a)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Vn=Hn(),Yn=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(l,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Tn," {\n    right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(jn," {\n    margin-right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(Tn," .").concat(Tn," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(jn," .").concat(jn," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},Gn=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=void 0===r?"margin":r,i=c.useMemo((function(){return Kn(a)}),[a]);return c.createElement(Vn,{styles:Yn(i,!t,a,n?"":"!important")})},Xn=!1;if("undefined"!==typeof window)try{var qn=Object.defineProperty({},"passive",{get:function(){return Xn=!0,!0}});window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch(na){Xn=!1}var $n=!!Xn&&{passive:!1},Qn=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Jn=function(e,t){var n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),er(e,n)){var r=tr(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},er=function(e,t){return"v"===e?function(e){return Qn(e,"overflowY")}(t):function(e){return Qn(e,"overflowX")}(t)},tr=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},nr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rr=function(e){return[e.deltaX,e.deltaY]},ar=function(e){return e&&"current"in e?e.current:e},ir=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},or=0,lr=[];const sr=(cr=function(e){var t=c.useRef([]),n=c.useRef([0,0]),r=c.useRef(),a=c.useState(or++)[0],i=c.useState((function(){return Hn()}))[0],o=c.useRef(e);c.useEffect((function(){o.current=e}),[e]),c.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(ar),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(a))})),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(a))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=c.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!o.current.allowPinchZoom;var a,i=nr(e),l=n.current,s="deltaX"in e?e.deltaX:l[0]-i[0],c="deltaY"in e?e.deltaY:l[1]-i[1],u=e.target,d=Math.abs(s)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var f=Jn(d,u);if(!f)return!0;if(f?a=d:(a="v"===d?"h":"v",f=Jn(d,u)),!f)return!1;if(!r.current&&"changedTouches"in e&&(s||c)&&(r.current=a),!a)return!0;var h=r.current||a;return function(e,t,n,r,a){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,s=t.contains(l),c=!1,u=o>0,d=0,f=0;do{var h=tr(e,l),p=h[0],v=h[1]-h[2]-i*p;(p||v)&&er(e,l)&&(d+=v,f+=p),l=l.parentNode}while(!s&&l!==document.body||s&&(t.contains(l)||t===l));return(u&&(a&&0===d||!a&&o>d)||!u&&(a&&0===f||!a&&-o>f))&&(c=!0),c}(h,t,e,"h"===h?s:c,!0)}),[]),s=c.useCallback((function(e){var n=e;if(lr.length&&lr[lr.length-1]===i){var r="deltaY"in n?rr(n):nr(n),a=t.current.filter((function(e){return e.name===n.type&&e.target===n.target&&(t=e.delta,a=r,t[0]===a[0]&&t[1]===a[1]);var t,a}))[0];if(a&&a.should)n.cancelable&&n.preventDefault();else if(!a){var s=(o.current.shards||[]).map(ar).filter(Boolean).filter((function(e){return e.contains(n.target)}));(s.length>0?l(n,s[0]):!o.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),u=c.useCallback((function(e,n,r,a){var i={name:e,delta:n,target:r,should:a};t.current.push(i),setTimeout((function(){t.current=t.current.filter((function(e){return e!==i}))}),1)}),[]),d=c.useCallback((function(e){n.current=nr(e),r.current=void 0}),[]),f=c.useCallback((function(t){u(t.type,rr(t),t.target,l(t,e.lockRef.current))}),[]),h=c.useCallback((function(t){u(t.type,nr(t),t.target,l(t,e.lockRef.current))}),[]);c.useEffect((function(){return lr.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",s,$n),document.addEventListener("touchmove",s,$n),document.addEventListener("touchstart",d,$n),function(){lr=lr.filter((function(e){return e!==i})),document.removeEventListener("wheel",s,$n),document.removeEventListener("touchmove",s,$n),document.removeEventListener("touchstart",d,$n)}}),[]);var p=e.removeScrollBar,v=e.inert;return c.createElement(c.Fragment,null,v?c.createElement(i,{styles:ir(a)}):null,p?c.createElement(Gn,{gapMode:"margin"}):null)},On.useMedium(cr),zn);var cr,ur=c.forwardRef((function(e,t){return c.createElement(An,Zn({},e,{ref:t,sideCar:sr}))}));ur.classNames=An.classNames;const dr=ur;var fr=["__scopePopover"],hr=["forceMount"],pr=["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"],vr=["__scopePopover"],mr="Popover",gr=(0,O.b)(mr,[Nt]),yr=(0,r.Z)(gr,2),br=yr[0],xr=(yr[1],Nt()),wr=br(mr),kr=(0,r.Z)(wr,2),Er=kr[0],Sr=kr[1],Cr=function(e){var t=e.__scopePopover,n=e.children,a=e.open,i=e.defaultOpen,o=e.onOpenChange,l=e.modal,s=void 0!==l&&l,u=xr(t),d=(0,c.useRef)(null),f=(0,c.useState)(!1),h=(0,r.Z)(f,2),p=h[0],v=h[1],m=(0,bn.T)({prop:a,defaultProp:i,onChange:o}),g=(0,r.Z)(m,2),y=g[0],b=void 0!==y&&y,x=g[1];return(0,c.createElement)(dn,u,(0,c.createElement)(Er,{scope:t,contentId:(0,se.M)(),triggerRef:d,open:b,onOpenChange:x,onOpenToggle:(0,c.useCallback)((function(){return x((function(e){return!e}))}),[x]),hasCustomAnchor:p,onCustomAnchorAdd:(0,c.useCallback)((function(){return v(!0)}),[]),onCustomAnchorRemove:(0,c.useCallback)((function(){return v(!1)}),[]),modal:s},n))},Mr="PopoverTrigger",_r=(0,c.forwardRef)((function(e,t){var n=e.__scopePopover,r=(0,j.Z)(e,fr),a=Sr(Mr,n),i=xr(n),o=(0,D.e)(t,a.triggerRef),l=(0,c.createElement)(R.WV.button,(0,P.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Br(a.open)},r,{ref:o,onClick:(0,L.M)(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?l:(0,c.createElement)(fn,(0,P.Z)({asChild:!0},i),l)})),Zr="PopoverPortal",Ir=br(Zr,{forceMount:void 0}),Tr=(0,r.Z)(Ir,2),jr=Tr[0],Pr=Tr[1],Lr=function(e){var t=e.__scopePopover,n=e.forceMount,r=e.children,a=e.container,i=Sr(Zr,t);return(0,c.createElement)(jr,{scope:t,forceMount:n},(0,c.createElement)(gn.z,{present:n||i.open},(0,c.createElement)(mn,{asChild:!0,container:a},r)))},Dr="PopoverContent",Or=(0,c.forwardRef)((function(e,t){var n=Pr(Dr,e.__scopePopover),r=e.forceMount,a=void 0===r?n.forceMount:r,i=(0,j.Z)(e,hr),o=Sr(Dr,e.__scopePopover);return(0,c.createElement)(gn.z,{present:a||o.open},o.modal?(0,c.createElement)(Rr,(0,P.Z)({},i,{ref:t})):(0,c.createElement)(Ar,(0,P.Z)({},i,{ref:t})))})),Rr=(0,c.forwardRef)((function(e,t){var n=Sr(Dr,e.__scopePopover),r=(0,c.useRef)(null),a=(0,D.e)(t,r),i=(0,c.useRef)(!1);return(0,c.useEffect)((function(){var e=r.current;if(e)return _n(e)}),[]),(0,c.createElement)(dr,{as:yn.g7,allowPinchZoom:!0},(0,c.createElement)(Nr,(0,P.Z)({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,L.M)(e.onCloseAutoFocus,(function(e){var t;e.preventDefault(),i.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:(0,L.M)(e.onPointerDownOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;i.current=r}),{checkForDefaultPrevented:!1}),onFocusOutside:(0,L.M)(e.onFocusOutside,(function(e){return e.preventDefault()}),{checkForDefaultPrevented:!1})})))})),Ar=(0,c.forwardRef)((function(e,t){var n=Sr(Dr,e.__scopePopover),r=(0,c.useRef)(!1);return(0,c.createElement)(Nr,(0,P.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:function(t){var a,i;(null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented)||(r.current||null===(i=n.triggerRef.current)||void 0===i||i.focus(),t.preventDefault());r.current=!1},onInteractOutside:function(t){var a,i;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(r.current=!0);var o=t.target;(null===(i=n.triggerRef.current)||void 0===i?void 0:i.contains(o))&&t.preventDefault()}}))})),Nr=(0,c.forwardRef)((function(e,t){var n=e.__scopePopover,r=e.trapFocus,a=e.onOpenAutoFocus,i=e.onCloseAutoFocus,o=e.disableOutsidePointerEvents,l=e.onEscapeKeyDown,s=e.onPointerDownOutside,u=e.onFocusOutside,d=e.onInteractOutside,f=(0,j.Z)(e,pr),h=Sr(Dr,n),p=xr(n);return G(),(0,c.createElement)(te,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i},(0,c.createElement)(U,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:s,onFocusOutside:u,onDismiss:function(){return h.onOpenChange(!1)}},(0,c.createElement)(hn,(0,P.Z)({"data-state":Br(h.open),role:"dialog",id:h.contentId},p,f,{ref:t,style:(0,T.Z)((0,T.Z)({},f.style),{},(0,I.Z)({},"--radix-popover-content-transform-origin","var(--radix-popper-transform-origin)"))}))))})),zr=(0,c.forwardRef)((function(e,t){var n=e.__scopePopover,r=(0,j.Z)(e,vr),a=xr(n);return(0,c.createElement)(pn,(0,P.Z)({},a,r,{ref:t}))}));function Br(e){return e?"open":"closed"}var Fr=Cr,Hr=_r,Wr=Lr,Ur=Or,Kr=zr,Vr=n(868),Yr=n(1718),Gr=n(7118),Xr=n(9035),qr=function(e){var t=e.color,n=e.onChange,o=e.label,s=e.colorPickerType,f=(0,Vr.Fy)(),h=(0,c.useState)(t),p=(0,r.Z)(h,2),v=p[0],g=p[1],y=(0,d.KO)(m),b=(0,r.Z)(y,2),x=b[0],w=b[1];(0,c.useEffect)((function(){g(t)}),[t]);var k=(0,c.useCallback)((function(e){var t=e.toLowerCase(),r=Qr(t);r&&n(r),g(t)}),[n]),S=(0,c.useRef)(null),C=(0,c.useRef)(null);(0,c.useEffect)((function(){S.current&&S.current.focus()}),[x]);var M=(0,d.KO)(Xr.$,Yr.yE),_=(0,r.Z)(M,2),Z=_[0],I=_[1];return(0,c.useEffect)((function(){return function(){I(null)}}),[I]),(0,l.jsxs)("div",{className:"color-picker__input-label",children:[(0,l.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,l.jsx)("input",{ref:"hex"===x?S:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":o,onChange:function(e){k(e.target.value)},value:(v||"").replace(/^#/,""),onBlur:function(){g(t)},tabIndex:-1,onFocus:function(){return w("hex")},onKeyDown:function(e){var t;e.key!==E.tW.TAB&&(e.key===E.tW.ESCAPE&&(null===(t=C.current)||void 0===t||t.focus()),e.stopPropagation())}}),!f.isMobile&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,l.jsx)("div",{ref:C,className:(0,i.Z)("excalidraw-eye-dropper-trigger",{selected:Z}),onClick:function(){return I((function(e){return e?null:{keepOpenOnAlt:!1,onSelect:function(e){return n(e)},colorPickerType:s}}))},title:"".concat((0,u.t)("labels.eyeDropper")," \u2014 ").concat(E.tW.I.toLocaleUpperCase()," or ").concat((0,a.uY)("Alt")," "),children:Gr.$W})]})]})};var $r=function(e){var t=(new Option).style;return t.color=e,!!t.color},Qr=function(e){return(0,a.Qm)(e)?e:$r("#".concat(e))?"#".concat(e):$r(e)?e:null},Jr=function(e){var t=e.type,n=e.color,i=e.onChange,s=e.label,f=e.elements,h=e.palette,p=void 0===h?o.HO:h,v=e.updateData,g=(0,d.KO)(m),y=(0,r.Z)(g,2)[1],b=(0,d.KO)(Xr.$,Yr.yE),x=(0,r.Z)(b,2),w=x[0],k=x[1],E=(0,Vr.J0)().container,S=(0,Vr.Fy)(),C=S.isMobile,_=S.isLandscape,I=(0,l.jsxs)("div",{children:[(0,l.jsx)(M,{children:(0,u.t)("colorPicker.hexCode")}),(0,l.jsx)(qr,{color:n,label:s,onChange:function(e){i(e)},colorPickerType:t})]}),T=(0,c.useRef)(null),j=function(){var e,t;null===(e=T.current)||void 0===e||null===(t=e.querySelector(".color-picker-content"))||void 0===t||t.focus()};return(0,l.jsx)(Wr,{container:E,children:(0,l.jsxs)(Ur,{ref:T,className:"focus-visible-none","data-prevent-outside-click":!0,onFocusOutside:function(e){j(),e.preventDefault()},onPointerDownOutside:function(e){w&&e.preventDefault()},onCloseAutoFocus:function(e){e.stopPropagation(),e.preventDefault(),E&&!(0,a.y1)(document.activeElement)&&E.focus(),v({openPopup:null}),y(null)},side:C&&!_?"bottom":"right",align:C&&!_?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-layerUI)",backgroundColor:"var(--popup-bg-color)",maxWidth:"208px",maxHeight:window.innerHeight,padding:"12px",borderRadius:"8px",boxSizing:"border-box",overflowY:"auto",boxShadow:"0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702)"},children:[p?(0,l.jsx)(Z,{palette:p,color:n,onChange:function(e){i(e)},onEyeDropperToggle:function(e){k((function(n){return e?((n=n||{keepOpenOnAlt:!0,onSelect:i,colorPickerType:t}).keepOpenOnAlt=!0,n):!1===e||n?null:{keepOpenOnAlt:!1,onSelect:i,colorPickerType:t}}))},onEscape:function(e){w?k(null):(0,a.s)(e.target)?j():v({openPopup:null})},label:s,type:t,elements:f,updateData:v,children:I}):I,(0,l.jsx)(Kr,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})},ea=function(e){var t=e.label,n=e.color,r=e.type;return(0,l.jsx)(Hr,{type:"button",className:(0,i.Z)("color-picker__button active-color",{"is-transparent":"transparent"===n||!n}),"aria-label":t,style:n?{"--swatch-color":n}:void 0,title:"elementStroke"===r?(0,u.t)("labels.showStroke"):(0,u.t)("labels.showBackground"),children:(0,l.jsx)("div",{className:"color-picker__button-outline"})})},ta=function(e){var t=e.type,n=e.color,r=e.onChange,a=e.label,i=e.elements,c=e.palette,u=void 0===c?o.HO:c,d=e.topPicks,f=e.updateData,h=e.appState;return(0,l.jsx)("div",{children:(0,l.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,l.jsx)(s,{activeColor:n,onChange:r,type:t,topPicks:d}),(0,l.jsx)("div",{style:{width:1,height:"100%",backgroundColor:"var(--default-border-color)",margin:"0 auto"}}),(0,l.jsxs)(Fr,{open:h.openPopup===t,onOpenChange:function(e){f({openPopup:e?t:null})},children:[(0,l.jsx)(ea,{color:n,label:a,type:t}),h.openPopup===t&&(0,l.jsx)(Jr,{type:t,color:n,onChange:r,label:a,elements:i,palette:u,updateData:f})]})]})})}},9035:(e,t,n)=>{"use strict";n.d(t,{p:()=>m,$:()=>v});var r=n(9886),a=n(2791),i=n(4164),o=n(3729),l=n(5320),s=n(70),c=n(3709),u=n(61),d=n(9057),f=n(7536),h=n(868),p=n(184),v=(0,r.cn)(null),m=function(e){var t=e.onCancel,n=e.onChange,r=e.onSelect,v=e.colorPickerType,m=(0,c.F)({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),g=(0,s.I)(),y=(0,h.bd)(),b=(0,h.qD)(),x=(0,f.eD)(y,g),w=function(e){var t=(0,a.useRef)(e);return Object.assign(t.current,e),t.current}({app:b,onCancel:t,onChange:n,onSelect:r,selectedElements:x}),k=(0,h.J0)().container;(0,a.useEffect)((function(){var e=E.current;if(e&&b.canvas&&m){var t=!1,n=b.canvas.getContext("2d"),r=function(e){var t=e.clientX,r=e.clientY,a=n.getImageData((t-g.offsetLeft)*window.devicePixelRatio,(r-g.offsetTop)*window.devicePixelRatio,1,1).data;return(0,o.vq)(a[0],a[1],a[2])},a=function(n){var a=n.clientX,i=n.clientY,o=n.altKey;e.style.top="".concat(i+20,"px"),e.style.left="".concat(a+20,"px");var l=r({clientX:a,clientY:i});t&&w.onChange(v,l,w.selectedElements,{altKey:o}),e.style.background=l},i=function(){w.onCancel()},s=function(e){t=!0,e.stopImmediatePropagation()},c=function(e){t=!1,null===k||void 0===k||k.focus(),e.stopImmediatePropagation(),e.preventDefault(),function(e,t){w.onSelect(e,t)}(r(e),e)},u=function(e){e.key===d.tW.ESCAPE&&(e.preventDefault(),e.stopImmediatePropagation(),i())};return m.tabIndex=-1,m.focus(),a({clientX:w.app.lastViewportPosition.x,clientY:w.app.lastViewportPosition.y,altKey:!1}),m.addEventListener(l.Ks.KEYDOWN,u),m.addEventListener(l.Ks.POINTER_DOWN,s),m.addEventListener(l.Ks.POINTER_UP,c),window.addEventListener("pointermove",a,{passive:!0}),window.addEventListener(l.Ks.BLUR,i),function(){t=!1,m.removeEventListener(l.Ks.KEYDOWN,u),m.removeEventListener(l.Ks.POINTER_DOWN,s),m.removeEventListener(l.Ks.POINTER_UP,c),window.removeEventListener("pointermove",a),window.removeEventListener(l.Ks.BLUR,i)}}}),[w,b.canvas,m,v,k,g.offsetLeft,g.offsetTop]);var E=(0,a.useRef)(null);return(0,u.O)(E,(function(){t()}),(function(e){return!!e.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")})),m?(0,i.createPortal)((0,p.jsx)("div",{ref:E,className:"excalidraw-eye-dropper-preview"}),m):null}},7619:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(2791),a=n(4164),i=n(7253),o=n(9057),l=n(184),s=function(e){var t=e.children,n=e.left,s=e.top,c=e.onCloseRequest,u=e.fitInViewport,d=void 0!==u&&u,f=e.offsetLeft,h=void 0===f?0:f,p=e.offsetTop,v=void 0===p?0:p,m=e.viewportWidth,g=void 0===m?window.innerWidth:m,y=e.viewportHeight,b=void 0===y?window.innerHeight:y,x=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=x.current;if(e){e.contains(document.activeElement)||e.focus();var t=function(t){if(t.key===o.tW.TAB){var n=(0,i.xp)(e),r=document.activeElement,a=n.findIndex((function(e){return e===r}));if(r===e){var l;if(t.shiftKey)null===(l=n[n.length-1])||void 0===l||l.focus();else n[0].focus();t.preventDefault(),t.stopImmediatePropagation()}else if(0===a&&t.shiftKey){var s;null===(s=n[n.length-1])||void 0===s||s.focus(),t.preventDefault(),t.stopImmediatePropagation()}else if(a===n.length-1&&!t.shiftKey){var c;null===(c=n[0])||void 0===c||c.focus(),t.preventDefault(),t.stopImmediatePropagation()}}};return e.addEventListener("keydown",t),function(){return e.removeEventListener("keydown",t)}}}),[]);var w=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){if(d&&x.current&&null!=s&&null!=n){var e,t,r=x.current,a=r.getBoundingClientRect(),i=a.width,o=a.height;if((null===(e=w.current)||void 0===e?void 0:e.top)===s&&(null===(t=w.current)||void 0===t?void 0:t.left)===n)return;w.current={top:s,left:n},i>=g?(r.style.width="".concat(g,"px"),r.style.left="0px",r.style.overflowX="scroll"):r.style.left="".concat(n+i-h>g?g-i-10:n,"px"),o>=b?(r.style.height="".concat(b-20,"px"),r.style.top="10px",r.style.overflowY="scroll"):r.style.top="".concat(s+o-v>b?b-o:s,"px")}}),[s,n,d,g,b,h,v]),(0,r.useEffect)((function(){if(c){var e=function(e){var t;null!==(t=x.current)&&void 0!==t&&t.contains(e.target)||(0,a.unstable_batchedUpdates)((function(){return c(e)}))};return document.addEventListener("pointerdown",e,!1),function(){return document.removeEventListener("pointerdown",e,!1)}}}),[c]),(0,l.jsx)("div",{className:"popover",ref:x,tabIndex:-1,children:t})}},1261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4942),a=n(2791),i=n(184);const o=function(e){var t=e.size,n=void 0===t?"1em":t,o=e.circleWidth,l=void 0===o?8:o,s=e.synchronized,c=void 0!==s&&s,u=-a.useRef(Date.now()).current%1600;return(0,i.jsx)("div",{className:"Spinner",children:(0,i.jsx)("svg",{viewBox:"0 0 100 100",style:(0,r.Z)({width:n,height:n},"--spinner-delay",c?"".concat(u,"ms"):0),children:(0,i.jsx)("circle",{cx:"50",cy:"50",r:50-l/2,strokeWidth:l,fill:"none",strokeMiterlimit:"10"})})})}},5007:(e,t,n)=>{"use strict";n.d(t,{V:()=>f});var r=n(4165),a=n(531),i=n(885),o=(n(2916),n(2791)),l=n(8182),s=n(868),c=n(2711),u=n(1261),d=n(184),f=o.forwardRef((function(e,t){var n=(0,s.J0)().id,f=o.useRef(null);o.useImperativeHandle(t,(function(){return f.current}));var h="ToolIcon_size_".concat(e.size),p=(0,o.useState)(!1),v=(0,i.Z)(p,2),m=v[0],g=v[1],y=(0,o.useRef)(!0),b=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i="onClick"in e&&(null===(a=e.onClick)||void 0===a?void 0:a.call(e,n)))||!("then"in i)){t.next=18;break}return t.prev=2,g(!0),t.next=6,i;case 6:t.next=15;break;case 8:if(t.prev=8,t.t0=t.catch(2),t.t0 instanceof c._){t.next=14;break}throw t.t0;case 14:console.warn(t.t0);case 15:return t.prev=15,y.current&&g(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,8,15,18]])})));return function(e){return t.apply(this,arguments)}}();(0,o.useEffect)((function(){return y.current=!0,function(){y.current=!1}}),[]);var x=(0,o.useRef)(null);if("button"===e.type||"icon"===e.type||"submit"===e.type){var w="icon"===e.type?"button":e.type;return(0,d.jsxs)("button",{className:(0,l.Z)("ToolIcon_type_button",h,e.className,e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!e.hidden,"ToolIcon--selected":e.selected,"ToolIcon--plain":"icon"===e.type}),style:e.style,"data-testid":e["data-testid"],hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:w,onClick:b,ref:f,disabled:m||e.isLoading,children:[(e.icon||e.label)&&(0,d.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[e.icon||e.label,e.keyBindingLabel&&(0,d.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel}),e.isLoading&&(0,d.jsx)(u.Z,{})]}),e.showAriaLabel&&(0,d.jsxs)("div",{className:"ToolIcon__label",children:[e["aria-label"]," ",m&&(0,d.jsx)(u.Z,{})]}),e.children]})}return(0,d.jsxs)("label",{className:(0,l.Z)("ToolIcon",e.className),title:e.title,onPointerDown:function(t){var n;x.current=t.pointerType||null,null===(n=e.onPointerDown)||void 0===n||n.call(e,{pointerType:t.pointerType||null})},onPointerUp:function(){requestAnimationFrame((function(){x.current=null}))},children:[(0,d.jsx)("input",{className:"ToolIcon_type_radio ".concat(h),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:"".concat(n,"-").concat(e.id),onChange:function(){var t;null===(t=e.onChange)||void 0===t||t.call(e,{pointerType:x.current})},checked:e.checked,ref:f}),(0,d.jsxs)("div",{className:"ToolIcon__icon",children:[e.icon,e.keyBindingLabel&&(0,d.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel})]})]})}));f.defaultProps={visible:!0,className:"",size:"medium"},f.displayName="ToolButton"},8036:(e,t,n)=>{"use strict";n.d(t,{u:()=>l,bK:()=>i,Js:()=>o});var r=n(2791),a=n(184),i=function(){var e=document.querySelector(".excalidraw-tooltip");if(e)return e;var t=document.createElement("div");return document.body.appendChild(t),t.classList.add("excalidraw-tooltip"),t},o=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom",a=e.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight,l=t.left+t.width/2-a.width/2;l<0?l=5:l+a.width>=i&&(l=i-a.width-5),"bottom"===r?(n=t.top+t.height+5)+a.height>=o&&(n=t.top-a.height-5):(n=t.top-a.height-5)<0&&(n=t.top+t.height+5),Object.assign(e.style,{top:"".concat(n,"px"),left:"".concat(l,"px")})},l=function(e){var t=e.children,n=e.label,l=e.long,s=void 0!==l&&l,c=e.style;return(0,r.useEffect)((function(){return function(){return i().classList.remove("excalidraw-tooltip--visible")}}),[]),(0,a.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(e){return function(e,t,n,r){t.classList.add("excalidraw-tooltip--visible"),t.style.minWidth=r?"50ch":"10ch",t.style.maxWidth=r?"50ch":"15ch",t.textContent=n;var a=e.getBoundingClientRect();o(t,a)}(e.currentTarget,i(),n,s)},onPointerLeave:function(){return i().classList.remove("excalidraw-tooltip--visible")},style:c,children:t})}},7118:(e,t,n)=>{"use strict";n.d(t,{$W:()=>it,$c:()=>ee,$q:()=>j,BF:()=>be,Ct:()=>se,D7:()=>U,DG:()=>$,DS:()=>De,EO:()=>qe,ET:()=>W,FC:()=>x,FL:()=>O,Gc:()=>ie,HL:()=>ce,Hk:()=>et,Hy:()=>B,IN:()=>oe,J8:()=>Q,NA:()=>R,NW:()=>N,Nw:()=>Je,OA:()=>We,OW:()=>k,P7:()=>Qe,Pm:()=>Z,RJ:()=>xe,RY:()=>z,Re:()=>S,ST:()=>pe,Sd:()=>P,TP:()=>J,Tl:()=>q,Tw:()=>ge,UE:()=>te,UI:()=>nt,UT:()=>at,VL:()=>I,Vl:()=>re,Vq:()=>v,W2:()=>Pe,W5:()=>he,Wl:()=>Me,X7:()=>Se,XB:()=>T,XH:()=>D,YA:()=>g,ZA:()=>Ce,Zm:()=>K,_C:()=>b,a0:()=>ke,a1:()=>G,a5:()=>Ze,aA:()=>$e,aL:()=>tt,aT:()=>Ie,bf:()=>Te,by:()=>F,d:()=>st,dg:()=>ot,e0:()=>C,eQ:()=>V,fr:()=>Oe,gK:()=>ve,h0:()=>H,il:()=>Re,j8:()=>ze,jn:()=>me,kL:()=>A,kM:()=>je,lF:()=>we,lL:()=>Ke,m:()=>Ne,m9:()=>_e,mh:()=>de,mv:()=>rt,nb:()=>E,np:()=>Ee,nq:()=>Fe,o3:()=>Ge,oT:()=>Xe,op:()=>ye,pO:()=>m,po:()=>X,pw:()=>le,q0:()=>Be,qQ:()=>y,rr:()=>Ye,t5:()=>ae,tW:()=>He,tb:()=>_,tn:()=>Ae,uD:()=>fe,vo:()=>Ue,wr:()=>Le,xL:()=>L,xP:()=>Y,xs:()=>ue,z6:()=>Ve,zG:()=>ne,zb:()=>M,zl:()=>lt,zu:()=>w});var r=n(1413),a=n(4925),i=n(2791),o=n(9495),l=n(8182),s=n(5320),c=n(184),u=["width","height","mirror","style"],d=function(e){return e===s.C6.LIGHT?o.white:"#1e1e1e"},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n="number"===typeof t?{width:t}:t,i=n.width,o=void 0===i?512:i,s=n.height,d=void 0===s?o:s,f=n.mirror,h=n.style,p=(0,a.Z)(n,u);return(0,c.jsx)("svg",(0,r.Z)((0,r.Z)({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(o," ").concat(d),className:(0,l.Z)({"rtl-mirror":f}),style:h},p),{},{children:"string"===typeof e?(0,c.jsx)("path",{fill:"currentColor",d:e}):e}))},h={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},p={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},v=(f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,c.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,c.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,c.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),h),f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,c.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,c.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,c.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,c.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),h)),m=f((0,c.jsxs)("svg",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,c.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),h),g=f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,c.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,c.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),h),y=f((0,c.jsxs)("svg",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,c.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,c.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),h),b=f((0,c.jsxs)("g",{children:[(0,c.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,c.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,c.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,c.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),p),x=f((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,c.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,c.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),p),w=(f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),f((0,c.jsx)("g",{fill:"currentColor",children:(0,c.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"}),f((0,c.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,c.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25})),k=f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),h),E=f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),h),S=f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),h),C=f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,c.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,c.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),h),M=f((0,c.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),p),_=f((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,c.jsx)("path",{d:"M16 7h4"}),(0,c.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),h),Z=f((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,c.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),p),I=f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,c.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,c.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,c.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,c.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),h),T=f((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M12.5 6.667h.01"}),(0,c.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,c.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,c.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),p),j=f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,c.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),h),P=f((0,c.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),p),L=f((0,c.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),p),D=f((0,c.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),p),O=f((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,c.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),p),R=f((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,c.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),p),A=f((0,c.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),p),N=f((0,c.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,c.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),p),z=f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,c.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,c.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),h),B=f((0,c.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),p),F=f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,c.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,c.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),h),H=f((0,c.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),p),W=f((0,c.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),p),U=f((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,c.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),p),K=f((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),h),V=f((0,c.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Y=f((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,c.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),p),G=f("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),X=f("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),q=f((0,c.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),p),$=(f("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),f("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z")),Q=f((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M15 8h.01"}),(0,c.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,c.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,c.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,c.jsx)("path",{d:"M19 16v6"}),(0,c.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),h),J=f("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),ee=(f("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),f("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),f("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),te=(f("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),f((0,c.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),p)),ne=f((0,c.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),p),re=f("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),ae=(f((0,c.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),p),f("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,c.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),f((0,c.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p)),ie=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,c.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),oe=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),le=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",children:[(0,c.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,c.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),se=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),ce=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),ue=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),de=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),fe=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),he=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),pe=f((0,c.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),p),ve=f((0,c.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),p),me=f((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,c.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,c.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,c.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),h),ge=(f("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),f("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,c.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p)),ye=f("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),be=(f("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),f("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),f("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),i.memo((function(e){var t=e.theme;return f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,c.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,c.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,c.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,c.jsxs)("g",{fill:d(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,c.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}))),xe=i.memo((function(e){var t=e.theme;return f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,c.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,c.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,c.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,c.jsxs)("g",{fill:d(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,c.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),we=f((0,c.jsx)("g",{strokeWidth:1.25,children:(0,c.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),p),ke=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,c.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,c.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,c.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),p),Ee=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",children:[(0,c.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,c.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,c.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,c.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),Se=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",children:(0,c.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),(0,r.Z)((0,r.Z)({},p),{},{fill:"currentColor"})),Ce=f((0,c.jsx)(c.Fragment,{children:(0,c.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),p),Me=f((0,c.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),p),_e=f((0,c.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),p),Ze=f((0,c.jsxs)("g",{strokeWidth:"2",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M5 12h2"}),(0,c.jsx)("path",{d:"M17 12h2"}),(0,c.jsx)("path",{d:"M11 12h2"})]}),h),Ie=f((0,c.jsxs)("g",{strokeWidth:"2",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M4 12v.01"}),(0,c.jsx)("path",{d:"M8 12v.01"}),(0,c.jsx)("path",{d:"M12 12v.01"}),(0,c.jsx)("path",{d:"M16 12v.01"}),(0,c.jsx)("path",{d:"M20 12v.01"})]}),h),Te=f((0,c.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),p),je=f((0,c.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),p),Pe=f((0,c.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),p),Le=f((0,c.jsxs)("svg",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,c.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,c.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,c.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,c.jsx)("path",{d:"M16.6667 10V10.01"}),(0,c.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,c.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,c.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,c.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,c.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,c.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,c.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),p),De=f((0,c.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,c.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,c.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,c.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,c.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,c.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,c.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,c.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,c.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,c.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,c.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,c.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),h),Oe=f((0,c.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),Re=i.memo((function(e){var t=e.flip,n=void 0!==t&&t;return f((0,c.jsxs)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,c.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,c.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})})),Ae=i.memo((function(e){var t=e.flip,n=void 0!==t&&t;return f((0,c.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,c.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,c.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})})),Ne=i.memo((function(e){var t=e.flip,n=void 0!==t&&t;return f((0,c.jsx)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",children:(0,c.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})})),ze=i.memo((function(e){var t=e.flip,n=void 0!==t&&t;return f((0,c.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,c.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,c.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})})),Be=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",children:(0,c.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),Fe=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",children:(0,c.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),He=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",children:(0,c.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),We=f((0,c.jsx)(c.Fragment,{children:(0,c.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),p),Ue=f((0,c.jsx)(c.Fragment,{children:(0,c.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,c.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),p),Ke=f((0,c.jsx)(c.Fragment,{children:(0,c.jsx)("g",{stroke:"#010000",strokeWidth:"3.175",strokeLinecap:"round",strokeLinejoin:"round",children:(0,c.jsx)("path",{d:"M11.52 44.979V5.821l27.761 39.158V5.821"})})}),{width:50.8,height:60.8,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Ve=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,c.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p),Ye=f((0,c.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,c.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,c.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),h),Ge=f((0,c.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,c.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,c.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),h),Xe=f((0,c.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,c.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,c.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),h),qe=i.memo((function(e){e.theme;return f((0,c.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,c.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),h)})),$e=i.memo((function(e){e.theme;return f((0,c.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,c.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),h)})),Qe=i.memo((function(e){e.theme;return f((0,c.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,c.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,c.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),h)})),Je=f((0,c.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),et=(f((0,c.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),f((0,c.jsxs)("g",{strokeWidth:1.25,children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,c.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,c.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,c.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),h)),tt=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,c.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,c.jsx)("path",{d:"M12 4l0 12"})]}),h),nt=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,c.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),h),rt=f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,c.jsx)("path",{d:"M12 17l0 .01"}),(0,c.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),h),at=(f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M7 4v16l13 -8z"})]}),h),f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),h),f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),h),f((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,c.jsx)("path",{d:"M12 9v4"}),(0,c.jsx)("path",{d:"M12 17h.01"})]}),h)),it=f((0,c.jsxs)("g",{strokeWidth:1.25,children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M11 7l6 6"}),(0,c.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),h),ot=f((0,c.jsxs)("g",{strokeWidth:1.5,children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,c.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,c.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),h),lt=f((0,c.jsxs)("g",{strokeWidth:1.5,children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M4 7l16 0"}),(0,c.jsx)("path",{d:"M4 17l16 0"}),(0,c.jsx)("path",{d:"M7 4l0 16"}),(0,c.jsx)("path",{d:"M17 4l0 16"})]}),h),st=f((0,c.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,c.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,c.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20)},5320:(e,t,n)=>{"use strict";n.d(t,{wL:()=>B,iC:()=>h,vL:()=>ve,bY:()=>pe,gK:()=>he,$C:()=>M,oc:()=>x,_9:()=>xe,HN:()=>Ce,qy:()=>se,rk:()=>D,n5:()=>L,P3:()=>O,h6:()=>ce,Rx:()=>be,Cc:()=>_e,Hg:()=>R,cW:()=>J,hs:()=>A,f:()=>p,xY:()=>ye,Iw:()=>m,$e:()=>g,Vi:()=>C,Ks:()=>E,r8:()=>W,I_:()=>H,ZB:()=>le,pb:()=>U,ut:()=>_,m5:()=>Z,iG:()=>T,k:()=>N,sA:()=>$,KL:()=>z,LL:()=>K,PR:()=>Ze,tf:()=>Me,EE:()=>ie,qx:()=>v,$n:()=>ue,zK:()=>oe,LO:()=>F,CP:()=>P,Zj:()=>q,Yx:()=>re,sS:()=>ne,kV:()=>te,sk:()=>ae,eF:()=>ee,Oh:()=>w,XI:()=>k,WR:()=>ke,$h:()=>Ee,a6:()=>we,HM:()=>G,ay:()=>b,dg:()=>Se,hR:()=>de,Gj:()=>V,I8:()=>ge,wZ:()=>y,C6:()=>I,ZF:()=>Q,nM:()=>Y,Kr:()=>fe,oX:()=>me,_D:()=>j,vf:()=>S,V4:()=>X,Dt:()=>c,jP:()=>f,Um:()=>l,vU:()=>u,G6:()=>d,ED:()=>s});var r=n(1413);const a="invert(93%) hue-rotate(180deg)",i="302px";var o=n(3729),l=/Mac|iPod|iPhone|iPad/.test(navigator.platform),s=/^Win/.test(navigator.platform),c=/\b(android)\b/i.test(navigator.userAgent),u="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,d=!(-1!==navigator.userAgent.indexOf("Chrome"))&&-1!==navigator.userAgent.indexOf("Safari"),f=function(){var e,t;return"isBrave"===(null===(e=navigator.brave)||void 0===e||null===(t=e.isBrave)||void 0===t?void 0:t.name)},h="Excalidraw",p=10,v=8,m=5,g=1,y=30,b=Math.PI/12,x={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},w={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1},k={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"},E=function(e){return e.COPY="copy",e.PASTE="paste",e.CUT="cut",e.KEYDOWN="keydown",e.KEYUP="keyup",e.MOUSE_MOVE="mousemove",e.RESIZE="resize",e.UNLOAD="unload",e.FOCUS="focus",e.BLUR="blur",e.DRAG_OVER="dragover",e.DROP="drop",e.GESTURE_END="gestureend",e.BEFORE_UNLOAD="beforeunload",e.GESTURE_START="gesturestart",e.GESTURE_CHANGE="gesturechange",e.POINTER_MOVE="pointermove",e.POINTER_DOWN="pointerdown",e.POINTER_UP="pointerup",e.STATE_CHANGE="statechange",e.WHEEL="wheel",e.TOUCH_START="touchstart",e.TOUCH_END="touchend",e.HASHCHANGE="hashchange",e.VISIBILITY_CHANGE="visibilitychange",e.SCROLL="scroll",e.EXCALIDRAW_LINK="excalidraw-link",e.MENU_ITEM_SELECT="menu.itemSelect",e.MESSAGE="message",e}({}),S={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},C={TEST:"test",DEVELOPMENT:"development"},M={SHAPE_ACTIONS_MENU:"App-menu__left"},_={Virgil:1,Helvetica:2,Cascadia:3,"Noto Sans":4,"Noto Serif":5,"Noto Sans Mono":6},Z={normal:"normal",bold:"bold"},I={LIGHT:"light",DARK:"dark"},T={strokeColor:"#bbb",strokeWidth:1,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8},j="Segoe UI Emoji",P=1,L=20,D=_.Virgil,O="normal",R="left",A="top",N=20,z={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},B=["text/plain","text/html"],F=(0,r.Z)({json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream"},z),H={png:"png",svg:"svg",clipboard:"clipboard"},W={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},U=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,K=500,V=300,Y=500,G=100,X=.1,q=.1,$=300,Q=a,J={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0}},ee=640,te=730,ne=1e3,re=500,ae=1229,ie=parseInt(i),oe=2,le=[1,2,3],se=10,ce=1440,ue=2097152,de="http://www.w3.org/2000/svg",fe={excalidraw:2,excalidrawLibrary:2},he=5,pe=.7,ve=11,me={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},ge={LEFT:"left",CENTER:"center",RIGHT:"right"},ye=20,be=.25,xe=32,we={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},ke="__precedingElement__",Ee={architect:0,artist:1,cartoonist:2},Se={thin:1,bold:2,extraBold:4},Ce={strokeColor:o.HO.black,backgroundColor:o.HO.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:Ee.artist,opacity:100,locked:!1},Me="library",_e={name:"default",defaultTab:Me},Ze=new Set(["embeddable","image"])},70:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,k:()=>a});var r=n(2791),a=r.createContext(null),i=function(){return r.useContext(a)}},3600:(e,t,n)=>{"use strict";n.d(t,{KJ:()=>h,OF:()=>p,Uk:()=>v,z8:()=>f});var r,a,i=n(5320),o=n(9495),l=n(6462),s='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',c='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',u="data:".concat(i.LO.svg,",").concat(encodeURIComponent("".concat(s).concat(c,"</svg>"))),d="data:".concat(i.LO.svg,",").concat(encodeURIComponent("".concat(s).concat('<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>').concat(c,"</svg>"))),f=function(e){e&&(e.style.cursor="")},h=function(e,t){e&&(e.style.cursor=t)},p=function(e,t){r&&r.theme===t||function(){var e=t===i.C6.DARK;(r=document.createElement("canvas")).theme=t,r.height=20,r.width=20;var n=r.getContext("2d");n.lineWidth=1,n.beginPath(),n.arc(r.width/2,r.height/2,5,0,2*Math.PI),n.fillStyle=e?o.black:o.white,n.fill(),n.strokeStyle=e?o.white:o.black,n.stroke(),a=r.toDataURL(i.LO.svg)}(),h(e,"url(".concat(a,") ").concat(10," ").concat(10,", auto"))},v=function(e,t){if(e)if("selection"===t.activeTool.type)f(e);else if((0,l.l$)(t))e.style.cursor=i.oc.GRAB;else if((0,l.EN)(t))p(e,t.theme);else if("laser"===t.activeTool.type){var n=t.theme===i.C6.LIGHT?u:d;e.style.cursor="url(".concat(n,"), auto")}else["image","custom"].includes(t.activeTool.type)?e.style.cursor=i.oc.AUTO:e.style.cursor=i.oc.CROSSHAIR}},7105:(e,t,n)=>{"use strict";n.d(t,{DQ:()=>w,KG:()=>j,Pn:()=>L,Qk:()=>x,Sf:()=>T,Tu:()=>P,Wr:()=>E,ZY:()=>S,_c:()=>Z,_p:()=>D,bv:()=>O,cT:()=>C,g8:()=>k,gY:()=>z,lV:()=>_,tW:()=>I,vZ:()=>B,wf:()=>M});var r=n(2982),a=n(885),i=n(1413),o=n(4165),l=n(531),s=n(4172),c=n(6462),u=n(5320),d=n(4991),f=n(2711),h=n(5861),p=n(7536),v=n(7253),m=n(789),g=n(7422),y=n(3371),b=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==u.LO.png){e.next=18;break}return e.prev=1,e.next=4,Promise.resolve().then(n.bind(n,9381));case 4:return e.next=6,e.sent.decodePngMetadata(t);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(1),"INVALID"!==e.t0.message){e.next=15;break}throw new DOMException((0,h.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException((0,h.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 16:e.next=43;break;case 18:if(!("text"in Blob)){e.next=24;break}return e.next=21,t.text();case 21:r=e.sent,e.next=27;break;case 24:return e.next=26,new Promise((function(e){var n=new FileReader;n.readAsText(t,"utf8"),n.onloadend=function(){n.readyState===FileReader.DONE&&e(n.result)}}));case 26:r=e.sent;case 27:if(t.type!==u.LO.svg){e.next=43;break}return e.prev=28,e.next=31,Promise.resolve().then(n.bind(n,9381));case 31:return e.next=33,e.sent.decodeSvgMetadata({svg:r});case 33:return e.abrupt("return",e.sent);case 36:if(e.prev=36,e.t1=e.catch(28),"INVALID"!==e.t1.message){e.next=42;break}throw new DOMException((0,h.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException((0,h.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return e.abrupt("return",r);case 44:case"end":return e.stop()}}),e,null,[[1,9],[28,36]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t;return e&&(null===(t=e.name.match(/\.(json|excalidraw|png|svg)$/))||void 0===t?void 0:t[1])||null},w=function(e){return"png"===e||"svg"===e},k=function(e){var t=x(e);return"png"===t||"svg"===t},E=function(e){var t=(e||{}).type;return!!t&&Object.values(u.KL).includes(t)},S=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t,n,r,a){var l,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:if(l=e.sent,e.prev=3,s=JSON.parse(l),!(0,g.dS)(s)){e.next=9;break}return e.abrupt("return",{type:u.LO.excalidraw,data:(0,y.nu)({elements:(0,d._M)(s.elements||[]),appState:(0,i.Z)((0,i.Z)({theme:null===n||void 0===n?void 0:n.theme,fileHandle:a||t.handle||null},(0,c.s)(s.appState||{})),n?(0,p.W)(s.elements||[],n):{}),files:s.files},n,r,{repairBindings:!0,refreshDimensions:!1})});case 9:if(!(0,g.HT)(s)){e.next=11;break}return e.abrupt("return",{type:u.LO.excalidrawlib,data:s});case 11:throw new Error((0,h.t)("alerts.couldNotLoadInvalidFile"));case 14:throw e.prev=14,e.t0=e.catch(3),console.error(e.t0.message),new Error((0,h.t)("alerts.couldNotLoadInvalidFile"));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),C=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t,n,r,a){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t,n,r,a);case 2:if((i=e.sent).type===u.LO.excalidraw){e.next=5;break}throw new Error((0,h.t)("alerts.couldNotLoadInvalidFile"));case 5:return e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unpublished",n=JSON.parse(e);if(!(0,g.HT)(n))throw new Error("Invalid library");var r=n.libraryItems||n.library;return(0,y.wJ)(r,t)},_=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var n,r=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"unpublished",e.t0=M,e.next=4,b(t);case 4:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,l.Z)((0,o.Z)().mark((function e(n,r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(0,v.y8)(t)){e.next=5;break}return e.next=4,t;case 4:t=e.sent;case 5:t.toBlob((function(e){if(!e)return r(new f.l((0,h.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));n(e)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=window.crypto.subtle,e.next=4,B(t);case 4:return e.t1=e.sent,e.next=7,e.t0.digest.call(e.t0,"SHA-1",e.t1);case 7:return n=e.sent,e.abrupt("return",(0,v.G3)(new Uint8Array(n)));case 11:return e.prev=11,e.t2=e.catch(0),console.error(e.t2),e.abrupt("return",(0,s.x0)(40));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;e(t)},r.onerror=function(e){return n(e)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.indexOf(","),r=atob(e.slice(n+1)),a=e.slice(0,n).split(":")[1].split(";")[0],i=new ArrayBuffer(r.length),o=new Uint8Array(i),l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return new File([i],t,{type:a})},P=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t,r){var i,l,s,c,d,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==u.LO.svg){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,Promise.all([n.e(8968).then(n.t.bind(n,8968,23)).then((function(e){return e.default})),n.e(6039).then(n.bind(n,6039)).then((function(e){return e.default}))]);case 4:if(i=e.sent,l=(0,a.Z)(i,2),s=l[0],c=l[1],d=c({pica:s({features:["js","wasm"]})}),r.outputType&&(f=r.outputType,d._create_blob=function(e){return this.pica.toBlob(e.out_canvas,f,.8).then((function(t){return e.out_blob=t,e}))}),E(t)){e.next=12;break}throw new Error((0,h.t)("errors.unsupportedFileType"));case 12:return e.t0=File,e.next=15,d.toBlob(t,{max:r.maxWidthOrHeight});case 15:return e.t1=e.sent,e.t2=[e.t1],e.t3=t.name,e.t4={type:r.outputType||t.type},e.abrupt("return",new e.t0(e.t2,e.t3,e.t4));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new File([(new TextEncoder).encode(e)],t,{type:u.LO.svg})},D=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var n,r,a,i,l=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"",e.prev=1,e.next=4,fetch(t);case 4:r=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error((0,h.t)("errors.failedToFetchImage"));case 10:if(r.ok){e.next=12;break}throw new Error((0,h.t)("errors.failedToFetchImage"));case 12:return e.next=14,r.blob();case 14:if(!(a=e.sent).type||!E(a)){e.next=18;break}return i=n||a.name||"",e.abrupt("return",new File([a],i,{type:a.type}));case 18:throw new Error((0,h.t)("errors.unsupportedFileType"));case 19:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dataTransfer.files.item(0),e.next=3,R(t);case 3:if(r=e.sent,!n){e.next=10;break}return e.next=7,z(n);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.t1=e.t0,e.t2=r,e.abrupt("return",{file:e.t1,fileHandle:e.t2});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.kr){e.next=16;break}return e.prev=1,n=t.dataTransfer.items[0],e.next=5,n.getAsFileSystemHandle();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=null;case 8:return r=e.t0,e.abrupt("return",r);case 12:return e.prev=12,e.t1=e.catch(1),console.warn(e.t1.name,e.t1.message),e.abrupt("return",null);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=null,n="".concat((0,r.Z)(new Uint8Array(e).slice(0,8)).join(" ")," "),a="255 216 255 ",i="71 73 70 56 57 97 ";return n==="137 80 78 71 13 10 26 10 "?t=u.LO.png:n.startsWith(a)?t=u.LO.jpg:n.startsWith(i)&&(t=u.LO.gif),t},N=function(e,t,n){return new File([e],n||"",{type:t})},z=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var n,r,a,i,l,s,c,d;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type){e.next=28;break}if(null===(n=t)||void 0===n||null===(r=n.name)||void 0===r||!r.endsWith(".excalidrawlib")){e.next=11;break}return e.t0=N,e.next=5,B(t);case 5:e.t1=e.sent,e.t2=u.LO.excalidrawlib,e.t3=t.name,t=(0,e.t0)(e.t1,e.t2,e.t3),e.next=26;break;case 11:if(null===(a=t)||void 0===a||null===(i=a.name)||void 0===i||!i.endsWith(".excalidraw")){e.next=21;break}return e.t4=N,e.next=15,B(t);case 15:e.t5=e.sent,e.t6=u.LO.excalidraw,e.t7=t.name,t=(0,e.t4)(e.t5,e.t6,e.t7),e.next=26;break;case 21:return e.next=23,B(t);case 23:l=e.sent,(s=A(l))&&(t=N(l,s,t.name));case 26:e.next=34;break;case 28:if(!E(t)){e.next=34;break}return e.next=31,B(t);case 31:c=e.sent,(d=A(c))&&d!==t.type&&(t=N(c,d,t.name));case 34:return e.abrupt("return",t);case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){return"arrayBuffer"in e?e.arrayBuffer():new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var r;if(null===(r=e.target)||void 0===r||!r.result)return n(new Error("Couldn't convert blob to ArrayBuffer"));t(e.target.result)},r.readAsArrayBuffer(e)}))}},789:(e,t,n)=>{"use strict";n.d(t,{I$:()=>p,NL:()=>v,kr:()=>o});var r=n(2982),a=n(4165),i=n(531),o=function(){if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top}catch(o){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),l=o?n.e(5877).then(n.bind(n,5877)):n.e(9954).then(n.bind(n,9954));function s(){return s=(0,i.Z)((0,a.Z)().mark((function e(){var t,n=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}o?n.e(9511).then(n.bind(n,9511)):n.e(6745).then(n.bind(n,6745));var c=o?n.e(528).then(n.bind(n,528)):n.e(2522).then(n.bind(n,2522));function u(){return u=(0,i.Z)((0,a.Z)().mark((function e(){var t,n=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}var d=n(5320),f=n(2711),h=n(7253),p=function(e){var t,n,a,i=null===(t=e.extensions)||void 0===t?void 0:t.reduce((function(e,t){return e.push(d.LO[t]),e}),[]),o=null===(n=e.extensions)||void 0===n?void 0:n.reduce((function(e,t){return"jpg"===t?e.concat(".jpg",".jpeg"):e.concat(".".concat(t))}),[]);return function(){return s.apply(this,arguments)}({description:e.description,extensions:o,mimeTypes:i,multiple:null!==(a=e.multiple)&&void 0!==a&&a,legacySetup:function(t,n,a){var i=(0,h.Ds)(n,500),o=function(){l(),document.addEventListener(d.Ks.KEYUP,i),document.addEventListener(d.Ks.POINTER_UP,i),i()},l=function(){var n;if(null!==(n=a.files)&&void 0!==n&&n.length){var i=e.multiple?(0,r.Z)(a.files):a.files[0];t(i)}};requestAnimationFrame((function(){window.addEventListener(d.Ks.FOCUS,o)}));var s=window.setInterval((function(){l()}),500);return function(e){clearInterval(s),i.cancel(),window.removeEventListener(d.Ks.FOCUS,o),document.removeEventListener(d.Ks.KEYUP,i),document.removeEventListener(d.Ks.POINTER_UP,i),e&&(console.warn("Opening the file was canceled (legacy-fs)."),e(new f._))}}})},v=function(e,t){return function(){return u.apply(this,arguments)}(e,{fileName:"".concat(t.name,".").concat(t.extension),description:t.description,extensions:[".".concat(t.extension)]},t.fileHandle)}},9381:(e,t,n)=>{"use strict";n.r(t),n.d(t,{decodePngMetadata:()=>k,decodeSvgMetadata:()=>S,encodePngMetadata:()=>w,encodeSvgMetadata:()=>E,getTEXtChunk:()=>x});var r=n(4165),a=n(531),i=n(3752),o=n.n(i),l=n(3379),s=n(1543),c=n.n(s),u=n(9043),d=n(5320),f=n(7105),h=function(e){return new Promise((function(t,n){var r="string"===typeof e?new Blob([(new TextEncoder).encode(e)]):new Blob([e instanceof Uint8Array?e:new Uint8Array(e)]),a=new FileReader;a.onload=function(e){if(!e.target||"string"!==typeof e.target.result)return n(new Error("couldn't convert to byte string"));t(e.target.result)},a.readAsBinaryString(r)}))},p=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,a=e.length;r<a;r++)n[r]=e.charCodeAt(r);return t},v=function(e){return new TextDecoder("utf-8").decode(p(e))},m=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>1&&void 0!==n[1]&&n[1])){e.next=5;break}e.t0=window.btoa(t),e.next=10;break;case 5:return e.t1=window,e.next=8,h(t);case 8:e.t2=e.sent,e.t0=e.t1.btoa.call(e.t1,e.t2);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.abrupt("return",n?window.atob(t):v(window.atob(t)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.text,!1===t.compress){e.next=11;break}return e.prev=2,e.next=5,h((0,u.deflate)(n));case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("encode: cannot deflate",e.t0);case 11:if(e.t1=!!a,e.t2=a,e.t2){e.next=17;break}return e.next=16,h(n);case 16:e.t2=e.sent;case 17:return e.t3=e.t2,e.abrupt("return",{version:"1",encoding:"bstring",compressed:e.t1,encoded:e.t3});case 19:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.encoding,e.next="bstring"===e.t0?3:12;break;case 3:if(!t.compressed){e.next=7;break}e.t1=t.encoded,e.next=10;break;case 7:return e.next=9,v(t.encoded);case 9:e.t1=e.sent;case 10:return n=e.t1,e.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(t.encoding,'"'));case 13:if(!t.compressed){e.next=15;break}return e.abrupt("return",(0,u.inflate)(new Uint8Array(p(n)),{to:"string"}));case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var x=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o(),e.t1=Uint8Array,e.next=4,(0,f.vZ)(t);case 4:if(e.t2=e.sent,e.t3=new e.t1(e.t2),n=(0,e.t0)(e.t3),!(a=n.find((function(e){return"tEXt"===e.name})))){e.next=10;break}return e.abrupt("return",l.decode(a.data));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.blob,a=t.metadata,e.t0=o(),e.t1=Uint8Array,e.next=5,(0,f.vZ)(n);case 5:return e.t2=e.sent,e.t3=new e.t1(e.t2),i=(0,e.t0)(e.t3),e.t4=l,e.t5=d.LO.excalidraw,e.t6=JSON,e.next=13,y({text:a,compress:!0});case 13:return e.t7=e.sent,e.t8=e.t6.stringify.call(e.t6,e.t7),s=e.t4.encode.call(e.t4,e.t5,e.t8),i.splice(-1,0,s),e.abrupt("return",new Blob([c()(i)],{type:d.LO.png}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:if((null===(n=e.sent)||void 0===n?void 0:n.keyword)!==d.LO.excalidraw){e.next=19;break}if(e.prev=4,"encoded"in(a=JSON.parse(n.text))){e.next=10;break}if(!("type"in a)||a.type!==d.r8.excalidraw){e.next=9;break}return e.abrupt("return",n.text);case 9:throw new Error("FAILED");case 10:return e.next=12,b(a);case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(4),console.error(e.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.text,e.t0=m,e.t1=JSON,e.next=5,y({text:n});case 5:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),e.next=9,(0,e.t0)(e.t3,!0);case 9:return a=e.sent,i="",i+="\x3c!-- payload-type:".concat(d.LO.excalidraw," --\x3e"),i+="\x3c!-- payload-version:2 --\x3e",i+="\x3c!-- payload-start --\x3e",i+=a,i+="\x3c!-- payload-end --\x3e",e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,i,o,l,s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.svg).includes("payload-type:".concat(d.LO.excalidraw))){e.next=26;break}if(a=n.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){e.next=5;break}throw new Error("INVALID");case 5:return i=n.match(/<!-- payload-version:(\d+) -->/),o=(null===i||void 0===i?void 0:i[1])||"1",l="1"!==o,e.prev=8,e.next=11,g(a[1],l);case 11:if(s=e.sent,"encoded"in(c=JSON.parse(s))){e.next=17;break}if(!("type"in c)||c.type!==d.r8.excalidraw){e.next=16;break}return e.abrupt("return",s);case 16:throw new Error("FAILED");case 17:return e.next=19,b(c);case 19:return e.abrupt("return",e.sent);case 22:throw e.prev=22,e.t0=e.catch(8),console.error(e.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return e.stop()}}),e,null,[[8,22]])})));return function(t){return e.apply(this,arguments)}}()},7422:(e,t,n)=>{"use strict";n.d(t,{HT:()=>m,I_:()=>f,NI:()=>g,Um:()=>h,dS:()=>v,n8:()=>p,t1:()=>y});var r=n(4165),a=n(531),i=n(7762),o=n(789),l=n(6462),s=n(5320),c=n(4991),u=n(7105),d=function(e,t){var n,r={},a=(0,i.Z)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;!o.isDeleted&&"fileId"in o&&o.fileId&&t[o.fileId]&&(r[o.fileId]=t[o.fileId])}}catch(l){a.e(l)}finally{a.f()}return r},f=function(e,t,n,r){var a={type:s.r8.excalidraw,version:s.Kr.excalidraw,source:s.pb,elements:"local"===r?(0,c._M)(e):(0,c.BQ)(e),appState:"local"===r?(0,l.s)(t):(0,l.eS)(t),files:"local"===r?d(e,n):void 0};return JSON.stringify(a,null,2)},h=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var i,l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=f(t,n,a,"local"),l=new Blob([i],{type:s.LO.excalidraw}),e.next=4,(0,o.NL)(l,{name:n.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,u.g8)(n.fileHandle)?null:n.fileHandle});case 4:return c=e.sent,e.abrupt("return",{fileHandle:c});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.I$)({description:"Excalidraw files"});case 2:return a=e.sent,e.t0=u.cT,e.next=6,(0,u.gY)(a);case 6:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=a.handle,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(e){return(null===e||void 0===e?void 0:e.type)===s.r8.excalidraw&&(!e.elements||Array.isArray(e.elements)&&(!e.appState||"object"===typeof e.appState))},m=function(e){return"object"===typeof e&&e&&e.type===s.r8.excalidrawLibrary&&(1===e.version||2===e.version)},g=function(e){var t={type:s.r8.excalidrawLibrary,version:s.Kr.excalidrawLibrary,source:s.pb,libraryItems:e};return JSON.stringify(t,null,2)},y=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g(t),e.next=3,(0,o.NL)(new Blob([n],{type:s.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},4875:(e,t,n)=>{"use strict";n.d(t,{WV:()=>S,ZP:()=>E,rF:()=>b});var r=n(1413),a=n(4165),i=n(531),o=n(3144),l=n(5671),s=n(2982),c=n(7762),u=n(7105),d=n(3371),f=n(9886),h=n(1718),p=n(1710),v=n(2711),m=n(5861),g=(n(2791),n(5320)),y=n(8150),b=(0,f.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),x=function(e){return JSON.parse(JSON.stringify(e))},w=function(e,t){return!e.find((function(e){return e.elements.length===t.elements.length&&e.elements.every((function(e,n){return e.id===t.elements[n].id&&e.versionNonce===t.elements[n].versionNonce}))}))},k=function(e,t){var n,r=[],a=(0,c.Z)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;w(e,i)&&r.push(i)}}catch(o){a.e(o)}finally{a.f()}return[].concat(r,(0,s.Z)(e))};const E=(0,o.Z)((function e(t){var n=this;(0,l.Z)(this,e),this.lastLibraryItems=[],this.isInitialized=!1,this.app=void 0,this.updateQueue=[],this.getLastUpdateTask=function(){return n.updateQueue[n.updateQueue.length-1]},this.notifyListeners=function(){if(n.updateQueue.length>0)h.e_.set(b,{status:"loading",libraryItems:n.lastLibraryItems,isInitialized:n.isInitialized});else{n.isInitialized=!0,h.e_.set(b,{status:"loaded",libraryItems:n.lastLibraryItems,isInitialized:n.isInitialized});try{var e,t;null===(e=(t=n.app.props).onLibraryChange)||void 0===e||e.call(t,x(n.lastLibraryItems))}catch(r){console.error(r)}}},this.destroy=function(){n.isInitialized=!1,n.updateQueue=[],n.lastLibraryItems=[],h.e_.set(y.YX,new Map)},this.resetLibrary=function(){return n.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getLastUpdateTask()||n.lastLibraryItems;case 3:r=e.sent,n.updateQueue.length>0?t(n.getLatestLibrary()):t(x(r)),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",t(n.lastLibraryItems));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},this.updateLibrary=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,o,l,s,c,f,h,p,y;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryItems,o=t.prompt,l=void 0!==o&&o,s=t.merge,c=void 0!==s&&s,f=t.openLibraryMenu,h=void 0!==f&&f,p=t.defaultStatus,y=void 0===p?"unpublished":p,h&&n.app.setState({openSidebar:{name:g.Cc.name,tab:g.tf}}),e.abrupt("return",n.setLibrary((function(){return new Promise(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,i){var o,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,"function"!==typeof r||r instanceof Blob?r:r(n.lastLibraryItems);case 3:if(!((o=e.sent)instanceof Blob)){e.next=10;break}return e.next=7,(0,u.lV)(o,y);case 7:s=e.sent,e.next=11;break;case 10:s=(0,d.wJ)(o,y);case 11:!l||window.confirm((0,m.t)("alerts.confirmAddLibrary",{numShapes:s.length}))?(l&&n.app.focusContainer(),t(c?k(n.lastLibraryItems,s):s)):i(new v._),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),i(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}())})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setLibrary=function(e){var t=new Promise(function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,i){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.getLastUpdateTask();case 3:return"function"===typeof e&&(e=e(n.lastLibraryItems)),t.t0=x,t.next=7,e;case 7:t.t1=t.sent,n.lastLibraryItems=(0,t.t0)(t.t1),r(n.lastLibraryItems),t.next=15;break;case 12:t.prev=12,t.t2=t.catch(0),i(t.t2);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){if("AbortError"===e.name)return console.warn("Library update aborted by user"),n.lastLibraryItems;throw e})).finally((function(){n.updateQueue=n.updateQueue.filter((function(e){return e!==t})),n.notifyListeners()}));return n.updateQueue.push(t),n.notifyListeners(),t},this.app=t}));var S=function(e){var t,n=Math.ceil(Math.sqrt(e.length)),a=[],i=0,o=0,l=0,u=0,d=0,f=0,h=0,v=(0,c.Z)(e);try{var m=function(){var v=t.value;d&&d%n===0&&(o+=l+50,i=0,f=0,h++),0===f&&(l=function(t){return e.slice(t*n,t*n+n).reduce((function(e,t){var n=(0,p.v2)(t.elements).height;return Math.max(e,n)}),0)}(h)),u=function(t){var r,a=0,i=0,o=0,l=(0,c.Z)(e);try{for(l.s();!(r=l.n()).done;){var s=r.value;if(a%n===0&&(i=0),i===t){var u=(0,p.v2)(s.elements).width;o=Math.max(o,u)}a++,i++}}catch(d){l.e(d)}finally{l.f()}return o}(f);var m=(0,p.v2)(v.elements),g=m.minX,y=m.minY,b=m.width,x=m.height,w=(u-b)/2,k=(l-x)/2;a.push.apply(a,(0,s.Z)(v.elements.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{x:e.x+i+w-g,y:e.y+o+k-y})})))),i+=u+50,d++,f++};for(v.s();!(t=v.n()).done;)m()}catch(g){v.e(g)}finally{v.f()}return a}},3371:(e,t,n)=>{"use strict";n.d(t,{ET:()=>E,nu:()=>_,wJ:()=>I});var r=n(7762),a=n(885),i=n(1413),o=n(4991),l=n(5529),s=n(3859),c=n(5320),u=n(6462),d=n(6603),f=n(6139),h=n(7253),p=n(5016),v=n(8410),m={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1},g=function(e){return e?(0,i.Z)((0,i.Z)({},e),{},{focus:e.focus||0}):null},y=function(e,t){var n,r,a,u,d,f,p,m,g,y,b,x,w,k,E={type:t.type||e.type,version:e.version||1,versionNonce:null!==(n=e.versionNonce)&&void 0!==n?n:0,isDeleted:null!==(r=e.isDeleted)&&void 0!==r&&r,id:e.id||(0,s.kb)(),fillStyle:e.fillStyle||c.HN.fillStyle,strokeWidth:e.strokeWidth||c.HN.strokeWidth,strokeStyle:null!==(a=e.strokeStyle)&&void 0!==a?a:c.HN.strokeStyle,roughness:null!==(u=e.roughness)&&void 0!==u?u:c.HN.roughness,opacity:null==e.opacity?c.HN.opacity:e.opacity,angle:e.angle||0,x:null!==(d=null!==(f=t.x)&&void 0!==f?f:e.x)&&void 0!==d?d:0,y:null!==(p=null!==(m=t.y)&&void 0!==m?m:e.y)&&void 0!==p?p:0,strokeColor:e.strokeColor||c.HN.strokeColor,backgroundColor:e.backgroundColor||c.HN.backgroundColor,width:e.width||0,height:e.height||0,seed:null!==(g=e.seed)&&void 0!==g?g:1,groupIds:null!==(y=e.groupIds)&&void 0!==y?y:[],frameId:null!==(b=e.frameId)&&void 0!==b?b:null,roundness:e.roundness?e.roundness:"round"===e.strokeSharpness?{type:(0,l.QI)(e.type)?c.a6.LEGACY:c.a6.PROPORTIONAL_RADIUS}:null,boundElements:e.boundElementIds?e.boundElementIds.map((function(e){return{type:"arrow",id:e}})):null!==(x=e.boundElements)&&void 0!==x?x:[],updated:null!==(w=e.updated)&&void 0!==w?w:(0,h.C3)(),link:e.link?(0,v.$u)(e.link):null,locked:null!==(k=e.locked)&&void 0!==k&&k};return"customData"in e&&(E.customData=e.customData),c.WR in e&&(E[c.WR]=e[c.WR]),(0,i.Z)((0,i.Z)((0,i.Z)({},E),(0,o.Qp)(E)),t)},b=function(e){var t,n,r,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e.type){case"text":var s=e.fontSize,u=e.fontFamily;if("font"in e){var v=e.font.split(" "),m=(0,a.Z)(v,2),b=m[0],x=m[1];s=parseFloat(b),r=x,u=Object.keys(c.ut).includes(r)?c.ut[r]:c.rk}var w="string"===typeof e.text&&e.text||"",k=e.lineHeight||(e.height?(0,p.$2)(e):(0,p.PT)(e.fontFamily)),E=(0,p.R8)(e.text,(0,h.mO)(e),k);return e=y(e,{fontSize:s,fontFamily:u,text:w,fontWeight:e.fontWeight||c.P3,textAlign:e.textAlign||c.Hg,verticalAlign:e.verticalAlign||c.hs,containerId:null!==(t=e.containerId)&&void 0!==t?t:null,originalText:e.originalText||w,lineHeight:k,baseline:E}),w||e.isDeleted||(e=(0,i.Z)((0,i.Z)({},e),{},{originalText:w,isDeleted:!0}),e=(0,f.ZP)(e)),l&&(e=(0,i.Z)((0,i.Z)({},e),(0,o.JZ)(e))),e;case"freedraw":return y(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"image":return y(e,{status:e.status||"pending",fileId:e.fileId,scale:e.scale||[1,1]});case"line":case"draw":case"arrow":var S=e,C=S.startArrowhead,M=void 0===C?null:C,_=S.endArrowhead,Z=void 0===_?"arrow"===e.type?"arrow":null:_,I=e.x,T=e.y,j=!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points;if(0!==j[0][0]||0!==j[0][1]){var P=d._.getNormalizedPoints(e);j=P.points,I=P.x,T=P.y}return y(e,{type:"draw"===e.type?"line":e.type,startBinding:g(e.startBinding),endBinding:g(e.endBinding),lastCommittedPoint:null,startArrowhead:M,endArrowhead:Z,points:j,x:I,y:T});case"ellipse":case"rectangle":case"diamond":return y(e,{});case"embeddable":return y(e,{validated:null});case"frame":return y(e,{name:null!==(n=e.name)&&void 0!==n?n:null})}return null},x=function(e,t){if(e.boundElements){var n=e.boundElements.slice(),r=new Set;e.boundElements=n.reduce((function(n,a){var i=t.get(a.id);if(i&&!r.has(a.id)){if(r.add(a.id),i.isDeleted)return n;n.push(a),(0,l.iB)(i)&&!i.containerId&&(i.containerId=e.id)}return n}),[])}},w=function(e,t){var n=e.containerId?t.get(e.containerId):null;if(n){if(!e.isDeleted&&n.boundElements&&!n.boundElements.find((function(t){return t.id===e.id}))){var r=(n.boundElements||(n.boundElements=[])).slice();r.push({type:"text",id:e.id}),n.boundElements=r}}else e.containerId=null},k=function(e,t){e.frameId&&(t.get(e.frameId)||(e.frameId=null))},E=function(e,t,n){var a=new Set,c=t?(0,h.xn)(t):null,u=(e||[]).reduce((function(e,t){if("selection"!==t.type&&!(0,o.QD)(t)){var r=b(t,null===n||void 0===n?void 0:n.refreshDimensions);if(r){var l=null===c||void 0===c?void 0:c.get(t.id);l&&l.version>r.version&&(r=(0,f.ZP)(r,l.version)),a.has(r.id)&&(r=(0,i.Z)((0,i.Z)({},r),{},{id:(0,s.kb)()})),a.add(r.id),e.push(r)}}return e}),[]);if(null===n||void 0===n||!n.repairBindings)return u;var d,p=(0,h.xn)(u),v=(0,r.Z)(u);try{for(v.s();!(d=v.n()).done;){var m=d.value;m.frameId&&k(m,p),(0,l.iB)(m)&&m.containerId?w(m,p):m.boundElements&&x(m,p)}}catch(g){v.e(g)}finally{v.f()}return u},S=function(e,t,n){var r=t[e];return void 0!==r?r:n[e]},C={isSidebarDocked:function(e,t){var n;return["defaultSidebarDockedPreference",null!==(n=e.isSidebarDocked)&&void 0!==n?n:S("defaultSidebarDockedPreference",e,t)]}},M=function(e,t){var n,r,o,l;e=e||{};for(var s=(0,u.im)(),d={},f=0,p=Object.keys(C);f<p.length;f++){var v=p[f];if(v in e){var g=C[v](e,s),y=(0,a.Z)(g,2),b=y[0],x=y[1];d[b]=x}}for(var w=0,k=Object.entries(s);w<k.length;w++){var E=(0,a.Z)(k[w],2),S=E[0],M=E[1],_=e[S],Z=t?t[S]:void 0;d[S]=void 0!==_?_:void 0!==Z?Z:M}return(0,i.Z)((0,i.Z)({},d),{},{cursorButton:(null===t||void 0===t?void 0:t.cursorButton)||"up",penDetected:null!==(n=null===t||void 0===t?void 0:t.penDetected)&&void 0!==n?n:!!e.penMode&&(null!==(r=e.penDetected)&&void 0!==r&&r),activeTool:(0,i.Z)((0,i.Z)({},(0,h.Om)(s,d.activeTool.type&&m[d.activeTool.type]?d.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:null!==(o=d.activeTool.locked)&&void 0!==o&&o}),zoom:"number"===typeof e.zoom?{value:e.zoom}:null!==(l=e.zoom)&&void 0!==l&&l.value?e.zoom:s.zoom,openSidebar:"string"===typeof e.openSidebar?{name:c.Cc.name}:d.openSidebar})},_=function(e,t,n,r){return{elements:E(null===e||void 0===e?void 0:e.elements,n,r),appState:M(null===e||void 0===e?void 0:e.appState,t||null),files:(null===e||void 0===e?void 0:e.files)||{}}},Z=function(e){var t=E((0,o.Lm)(e.elements),null);return t.length?(0,i.Z)((0,i.Z)({},e),{},{elements:t}):null},I=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,a=[],o=(0,r.Z)(t);try{for(o.s();!(e=o.n()).done;){var l=e.value;if(Array.isArray(l)){var c=Z({status:n,elements:l,id:(0,s.kb)(),created:Date.now()});c&&a.push(c)}else{var u=l,d=Z((0,i.Z)((0,i.Z)({},u),{},{id:u.id||(0,s.kb)(),status:u.status||n,created:u.created||Date.now()}));d&&a.push(d)}}}catch(f){o.e(f)}finally{o.f()}return a}},8410:(e,t,n)=>{"use strict";n.d(t,{$u:()=>a,q$:()=>i,ye:()=>o});var r=n(504),a=function(e){return(e=e.trim())?(0,r.N)(e):e},i=function(e){return!!(null!==e&&void 0!==e&&e.includes(location.origin)||null!==e&&void 0!==e&&e.startsWith("/"))},o=function(e){if((e=a(e)).startsWith("/"))return"".concat(location.origin).concat(e);try{new URL(e)}catch(t){return"about:blank"}return e}},7570:(e,t,n)=>{"use strict";n.d(t,{rj:()=>Z,nW:()=>j,nz:()=>L,sw:()=>O,lV:()=>F,Ni:()=>A,wq:()=>R,Pp:()=>z});var r=n(1413),a=n(885),i=n(7253),o=n(3391),l=n(6139),s=n(797),c=n(5007),u=n(7118),d=n(5861),f=n(2791),h=n(8182),p=n(9057),v=n(2775),m=n(7540),g=n(5320),y=n(8036),b=n(7536),x=n(3071),w=n(4991),k=n(8410);var E=n(6059),S=n(868),C=n(5529),M=n(4937),_=n(184),Z=document.createElement("img");Z.src="data:".concat(g.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var I=!1,T=new Map,j=function(e){var t=e.element,n=e.setAppState,s=e.onLinkOpen,v=e.setToast,m=(0,S.gF)(),y=(0,S.hY)(),b=t.link||"",x=(0,f.useState)(b),w=(0,a.Z)(x,2),Z=w[0],I=w[1],j=(0,f.useRef)(null),L="editor"===m.showHyperlinkPopup,D=(0,f.useCallback)((function(){if(j.current){var e=(0,k.$u)(j.current.value)||null;if(!t.link&&e&&(0,E.L)("hyperlink","create"),(0,C.gs)(t)){var a;if((null===(a=m.activeEmbeddable)||void 0===a?void 0:a.element)===t&&n({activeEmbeddable:null}),!e)return void(0,l.DR)(t,{validated:!1,link:null});if((0,o.xm)(e,y.validateEmbeddable)){var i=t.width,s=t.height,c=(0,o.LM)(e);null!==c&&void 0!==c&&c.warning&&v({message:c.warning,closable:!0});var u=c?c.aspectRatio.w/c.aspectRatio.h:1,f=T.get(t.id)!==t.link;(0,l.DR)(t,(0,r.Z)((0,r.Z)({},f?{width:"video"===(null===c||void 0===c?void 0:c.type)?i>s?i:s*u:i,height:"video"===(null===c||void 0===c?void 0:c.type)&&i>s?i/u:s}:{}),{},{validated:!0,link:e})),M.R.delete(t),T.has(t.id)&&T.delete(t.id)}else e&&v({message:(0,d.t)("toast.unableToEmbed"),closable:!0}),t.link&&T.set(t.id,t.link),(0,l.DR)(t,{validated:!1,link:e}),M.R.delete(t)}else(0,l.DR)(t,{link:e})}}),[t,v,y.validateEmbeddable,m.activeEmbeddable,n]);(0,f.useLayoutEffect)((function(){return function(){D()}}),[D]),(0,f.useEffect)((function(){var e=null,r=function(r){L||(e&&clearTimeout(e),H(t,m,[r.clientX,r.clientY])&&(e=window.setTimeout((function(){n({showHyperlinkPopup:!1})}),500)))};return window.addEventListener(g.Ks.POINTER_MOVE,r,!1),function(){window.removeEventListener(g.Ks.POINTER_MOVE,r,!1),e&&clearTimeout(e)}}),[m,t,L,n]);var O=(0,f.useCallback)((function(){(0,E.L)("hyperlink","delete"),(0,l.DR)(t,{link:null}),L&&(j.current.value=""),n({showHyperlinkPopup:!1})}),[n,t,L]),R=P(t,m),A=R.x,N=R.y;return m.draggingElement||m.resizingElement||m.isRotating||m.openMenu||m.viewModeEnabled?null:(0,_.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(N,"px"),left:"".concat(A,"px"),width:320,padding:5},onClick:function(){t.link||L||n({showHyperlinkPopup:"editor"})},children:[L?(0,_.jsx)("input",{className:(0,h.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:j,value:Z,onChange:function(e){return I(e.target.value)},autoFocus:!0,onKeyDown:function(e){e.stopPropagation(),e[p.tW.CTRL_OR_CMD]&&e.key===p.tW.K&&e.preventDefault(),e.key!==p.tW.ENTER&&e.key!==p.tW.ESCAPE||(D(),n({showHyperlinkPopup:"info"}))}}):t.link?(0,_.jsx)("a",{href:(0,k.$u)(t.link||""),className:"excalidraw-hyperlinkContainer-link",target:(0,k.q$)(t.link)?"_self":"_blank",onClick:function(e){if(t.link&&s){var n=(0,i.ag)(g.Ks.EXCALIDRAW_LINK,e.nativeEvent);s((0,r.Z)((0,r.Z)({},t),{},{link:(0,k.$u)(t.link)}),n),n.defaultPrevented&&e.preventDefault()}},rel:"noopener noreferrer",children:t.link}):(0,_.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:(0,d.t)("labels.link.empty")}),(0,_.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!L&&(0,_.jsx)(c.V,{type:"button",title:(0,d.t)("buttons.edit"),"aria-label":(0,d.t)("buttons.edit"),label:(0,d.t)("buttons.edit"),onClick:function(){(0,E.L)("hyperlink","edit","popup-ui"),n({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:u.Pm}),b&&!(0,C.gs)(t)&&(0,_.jsx)(c.V,{type:"button",title:(0,d.t)("buttons.remove"),"aria-label":(0,d.t)("buttons.remove"),label:(0,d.t)("buttons.remove"),onClick:O,className:"excalidraw-hyperlinkContainer--remove",icon:u.XH})]})]})},P=function(e,t){var n=(0,w.qf)(e),r=(0,a.Z)(n,2),o=r[0],l=r[1],s=(0,i._i)({sceneX:o+e.width/2,sceneY:l},t),c=s.x,u=s.y;return{x:c-t.offsetLeft-160,y:u-t.offsetTop-85}},L=(0,s.z)({name:"hyperlink",perform:function(e,t){return"editor"!==t.showHyperlinkPopup&&{elements:e,appState:(0,r.Z)((0,r.Z)({},t),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(e){return e[p.tW.CTRL_OR_CMD]&&e.key===p.tW.K},contextItemLabel:function(e,t){return D(e,t)},predicate:function(e,t){return 1===(0,b.eD)(e,t).length},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,b.eD)(t,n);return(0,_.jsx)(c.V,{type:"button",icon:u.xP,"aria-label":(0,d.t)(D(t,n)),title:"".concat((0,C.gs)(t[0])?(0,d.t)("labels.link.labelEmbed"):(0,d.t)("labels.link.label")," - ").concat((0,i.uY)("CtrlOrCmd+K")),onClick:function(){return r(null)},selected:1===a.length&&!!a[0].link})}}),D=function(e,t){var n=(0,b.eD)(e,t);return n[0].link?(0,C.gs)(n[0])?"labels.link.editEmbed":"labels.link.edit":(0,C.gs)(n[0])?"labels.link.createEmbed":"labels.link.create"},O=function(e,t,n){var r=(0,a.Z)(e,4),i=r[0],o=r[1],l=r[2],s=r[3],c=v.Dn,u=c/n.zoom.value,d=c/n.zoom.value,f=c/n.zoom.value,h=(i+l)/2,p=(o+s)/2,g=(c-8)/(2*n.zoom.value),y=4/n.zoom.value,b=l+y-g,x=o-y-f+g,w=(0,m.U1)(b+u/2,x+d/2,h,p,t),k=(0,a.Z)(w,2);return[k[0]-u/2,k[1]-d/2,u,d]},R=function(e,t,n){var r=(0,a.Z)(n,2),i=r[0],o=r[1],l=4/t.zoom.value,s=(0,w.qf)(e),c=(0,a.Z)(s,4),u=c[0],d=c[1],f=c[2],h=c[3],p=O([u,d,f,h],e.angle,t),v=(0,a.Z)(p,4),m=v[0],g=v[1],y=v[2],b=v[3];return i>m-l&&i<m+l+y&&o>g-l&&o<g+b+l},A=function(e,t,n,r){var i=(0,a.Z)(n,2),o=i[0],l=i[1];if(!e.link||t.selectedElementIds[e.id])return!1;var s=4/t.zoom.value;return!(r||!t.viewModeEnabled||!(0,x.pX)(e,[o,l],s,null))||R(e,t,[o,l])},N=null,z=function(e,t){N&&clearTimeout(N),N=window.setTimeout((function(){return B(e,t)}),g.sA)},B=function(e,t){if(e.link){var n=(0,y.bK)();n.classList.add("excalidraw-tooltip--visible"),n.style.maxWidth="20rem",n.textContent=e.link;var r=(0,w.qf)(e),o=(0,a.Z)(r,4),l=o[0],s=o[1],c=o[2],u=o[3],d=O([l,s,c,u],e.angle,t),f=(0,a.Z)(d,4),h=f[0],p=f[1],v=f[2],m=f[3],g=(0,i._i)({sceneX:h,sceneY:p},t);(0,y.Js)(n,{left:g.x,top:g.y,width:v,height:m},"top"),(0,E.L)("hyperlink","tooltip","link-icon"),I=!0}},F=function(){N&&clearTimeout(N),I&&(I=!1,(0,y.bK)().classList.remove("excalidraw-tooltip--visible"))},H=function(e,t,n){var r=(0,a.Z)(n,2),o=r[0],l=r[1],s=(0,i.dE)({clientX:o,clientY:l},t),c=s.x,u=s.y,d=15/t.zoom.value;if((0,x.pX)(e,[c,u],d,null))return!1;var f=(0,w.qf)(e),h=(0,a.Z)(f,3),p=h[0],v=h[1],m=h[2];if(c>=p&&c<=m&&u>=v-85&&u<=v)return!1;var g=P(e,t),y=g.x,b=g.y;return!(o>=y-d&&o<=y+320+10+d&&l>=b-d&&l<=b+d+10+42)}},3079:(e,t,n)=>{"use strict";n.d(t,{$q:()=>W,DK:()=>C,H:()=>M,HG:()=>y,N1:()=>m,R:()=>k,UZ:()=>E,Ww:()=>T,Y9:()=>Z,ZB:()=>O,cz:()=>v,ek:()=>F,el:()=>x});var r=n(4942),a=n(1413),i=n(885),o=n(7536),l=n(5529),s=n(3071),c=n(6139),u=n(6864),d=n(6603),f=n(7253),h=n(9057),p=n(5016),v=function(e){return!e[h.tW.CTRL_OR_CMD]},m=function(e){return e.isBindingEnabled},g=function(e,t){var n=[];return t.forEach((function(t){var r=e.getNonDeletedElement(t);null!=r&&n.push(r)})),n},y=function(e,t,n){var r=new Set,a=new Set;b(e,t,n,"start",r,a),b(e,n,t,"end",r,a);var i=Array.from(a).filter((function(e){return!r.has(e)}));g(u.Z.getScene(e),i).forEach((function(t){var n;(0,c.DR)(t,{boundElements:null===(n=t.boundElements)||void 0===n?void 0:n.filter((function(t){return"arrow"!==t.type||t.id!==e.id}))})}))},b=function(e,t,n,r,a,i){if("keep"!==t)if(null!=t)null!=n&&("keep"===n?S(e,t,r):"start"!==r&&n.id===t.id)||(E(e,t,r),a.add(t.id));else{var o=_(e,r);null!=o&&i.add(o)}},x=function(e){e.forEach((function(e){(0,l.Mn)(e)?y(e,A(e,"start"),A(e,"end")):(0,l.f0)(e)&&w(e)}))},w=function(e){z(e).forEach((function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return y(r,"end"===a?"keep":e,"start"===a?"keep":e)}))},k=function(e,t,n,r){null!=t.startBoundElement&&E(e,t.startBoundElement,"start");var a=Z(r,n);null==a||S(e,a,"end")||E(e,a,"end")},E=function(e,t,n){(0,c.DR)(e,(0,r.Z)({},"start"===n?"startBinding":"endBinding",(0,a.Z)({elementId:t.id},I(e,t,n)))),(0,f.xn)(t.boundElements||[]).has(e.id)||(0,c.DR)(t,{boundElements:(t.boundElements||[]).concat({id:e.id,type:"arrow"})})},S=function(e,t,n){var r=e["start"===n?"endBinding":"startBinding"];return C(e,null===r||void 0===r?void 0:r.elementId,t)},C=function(e,t,n){return t===n.id&&e.points.length<3},M=function(e){e.forEach((function(e){(0,l.Mn)(e)&&y(e,null,null)}))},_=function(e,t){var n="start"===t?"startBinding":"endBinding",a=e[n];return null==a?null:((0,c.DR)(e,(0,r.Z)({},n,null)),a.elementId)},Z=function(e,t){return(0,o.QG)(t.getNonDeletedElements(),(function(t){return(0,l.f0)(t,!1)&&(0,s.uu)(t,e)}))},I=function(e,t,n){var r="start"===n?-1:1,a=-1===r?0:e.points.length-1,i=a-r,o=d._.getPointAtIndexGlobalCoordinates(e,a),l=d._.getPointAtIndexGlobalCoordinates(e,i);return{focus:(0,s.T_)(t,l,o),gap:Math.max(1,(0,s.oT)(t,o))}},T=function(e,t){var n,r=(null!==(n=e.boundElements)&&void 0!==n?n:[]).filter((function(e){return"arrow"===e.type}));if(0!==r.length){var a=null!==t&&void 0!==t?t:{},i=a.newSize,o=a.simultaneouslyUpdated,s=P(o);g(u.Z.getScene(e),r.map((function(e){return e.id}))).forEach((function(t){if((0,l.bt)(t)){var n=e;if(j(t,n)){var r=D(n,t.startBinding,i),a=D(n,t.endBinding,i);if(s.has(t.id))(0,c.DR)(t,{startBinding:r,endBinding:a});else L(t,"start",r,e),L(t,"end",a,e),(0,p.WJ)(t)&&(0,p.RB)(t,!1)}}}))}},j=function(e,t){var n,r;return(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)===t.id||(null===(r=e.endBinding)||void 0===r?void 0:r.elementId)===t.id},P=function(e){return new Set((e||[]).map((function(e){return e.id})))},L=function(e,t,n,a){if(!(null==n||n.elementId!==a.id&&e.points.length>2)){var i=u.Z.getScene(e).getElement(n.elementId);if(null!=i){var o,l="start"===t?-1:1,c=-1===l?0:e.points.length-1,f=c-l,h=d._.getPointAtIndexGlobalCoordinates(e,f),p=(0,s.j_)(i,n.focus,h);if(0===n.gap)o=p;else{var v=(0,s.MZ)(i,h,p,n.gap);o=0===v.length?p:v[0]}d._.movePoints(e,[{index:c,point:d._.pointFromAbsoluteCoords(e,o)}],(0,r.Z)({},"start"===t?"startBinding":"endBinding",n))}}},D=function(e,t,n){if(null==t||null==n)return t;var r=t.gap,a=t.focus,i=t.elementId,o=n.width,l=n.height,c=e.width,u=e.height;return{elementId:i,gap:Math.max(1,Math.min((0,s.fb)(e,o,l),r*(o<l?o/c:l/u))),focus:a}},O=function(e){var t=new Set(e.map((function(e){return e.id})));return e.flatMap((function(e){return(0,l.Mn)(e,!1)?R(e).filter((function(e){return!t.has(e.id)})):(0,l.f0)(e,!1)?z(e).filter((function(e){return!t.has(e[0].id)})):[]}))},R=function(e){return[A(e,"start"),A(e,"end")].filter((function(e){return null!=e}))},A=function(e,t){return Z(N(e,t),u.Z.getScene(e))},N=function(e,t){var n="start"===t?0:-1;return(0,f.AK)(d._.getPointAtIndexGlobalCoordinates(e,n))},z=function(e){return u.Z.getScene(e).getNonDeletedElements().map((function(t){if(!(0,l.Mn)(t,!1))return null;var n=B(t,"start",e),r=B(t,"end",e);return n||r?[t,n&&r?"both":n?"start":"end",e]:null})).filter((function(e){return null!=e}))},B=function(e,t,n){return null==e["start"===t?"startBinding":"endBinding"]&&!S(e,n,t)&&(0,s.uu)(n,N(e,t))},F=function(e,t,n,r){var a=new Set,i=new Set,o="duplicatesServeAsOld"===r;t.forEach((function(e){var t=e.boundElements;if(null!=t&&t.length>0&&(t.forEach((function(e){o&&!n.has(e.id)&&a.add(e.id)})),i.add(n.get(e.id))),(0,l.Mn)(e)){if(null!=e.startBinding){var r=e.startBinding.elementId;o&&!n.has(r)&&i.add(r)}if(null!=e.endBinding){var s=e.endBinding.elementId;o&&!n.has(s)&&i.add(s)}null==e.startBinding&&null==e.endBinding||a.add(n.get(e.id))}})),e.filter((function(e){var t=e.id;return a.has(t)})).forEach((function(e){var t=e.startBinding,r=e.endBinding;(0,c.DR)(e,{startBinding:H(t,n),endBinding:H(r,n)})})),e.filter((function(e){var t=e.id;return i.has(t)})).forEach((function(e){var t=e.boundElements;null!=t&&t.length>0&&(0,c.DR)(e,{boundElements:t.map((function(e){return n.has(e.id)?{id:n.get(e.id),type:e.type}:e}))})}))},H=function(e,t){var n;if(null==e)return null;var r=e.elementId;return{focus:e.focus,gap:e.gap,elementId:null!==(n=t.get(r))&&void 0!==n?n:r}},W=function(e,t){var n=new Set(t.map((function(e){return e.id}))),r=new Set;t.forEach((function(e){var t;(0,l.f0)(e)?null===(t=e.boundElements)||void 0===t||t.forEach((function(e){n.has(e.id)||r.add(e.id)})):(0,l.Mn)(e)&&(e.startBinding&&r.add(e.startBinding.elementId),e.endBinding&&r.add(e.endBinding.elementId))})),e.filter((function(e){var t=e.id;return r.has(t)})).forEach((function(e){(0,l.f0)(e)?(0,c.DR)(e,{boundElements:K(e.boundElements,n)}):(0,l.Mn)(e)&&(0,c.DR)(e,{startBinding:U(e.startBinding,n),endBinding:U(e.endBinding,n)})}))},U=function(e,t){return null==e||t.has(e.elementId)?null:e},K=function(e,t){return e?e.filter((function(e){return!t.has(e.id)})):null}},1710:(e,t,n)=>{"use strict";n.d(t,{CM:()=>w,GJ:()=>y,IX:()=>S,KP:()=>T,M$:()=>b,Pi:()=>I,UC:()=>x,Ut:()=>L,Y5:()=>_,hC:()=>j,os:()=>D,qf:()=>g,v2:()=>O,wC:()=>P});var r=n(2982),a=n(7762),i=n(885),o=n(5671),l=n(3144),s=n(7540),c=n(7711),u=n(4845),d=n(5529),f=n(9525),h=n(5016),p=n(6603),v=n(4937),m=function(){function e(){(0,o.Z)(this,e)}return(0,l.Z)(e,null,[{key:"getBounds",value:function(t){var n=e.boundsCache.get(t);if(null!==n&&void 0!==n&&n.version&&n.version===t.version)return n.bounds;var r=e.calculateBounds(t);return e.boundsCache.set(t,{version:t.version,bounds:r}),r}},{key:"calculateBounds",value:function(e){var t,n=g(e),r=(0,i.Z)(n,6),a=r[0],o=r[1],l=r[2],c=r[3],u=r[4],f=r[5];if((0,d.F9)(e)){var h=C(e.points.map((function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return(0,s.U1)(r,a,u-e.x,f-e.y,e.angle)}))),p=(0,i.Z)(h,4),v=p[0],m=p[1],y=p[2],b=p[3];return[v+e.x,m+e.y,y+e.x,b+e.y]}if((0,d.bt)(e))t=Z(e,u,f);else if("diamond"===e.type){var x=(0,s.U1)(u,o,u,f,e.angle),w=(0,i.Z)(x,2),k=w[0],E=w[1],S=(0,s.U1)(u,c,u,f,e.angle),M=(0,i.Z)(S,2),_=M[0],I=M[1],T=(0,s.U1)(a,f,u,f,e.angle),j=(0,i.Z)(T,2),P=j[0],L=j[1],D=(0,s.U1)(l,f,u,f,e.angle),O=(0,i.Z)(D,2),R=O[0],A=O[1];t=[Math.min(k,_,P,R),Math.min(E,I,L,A),Math.max(k,_,P,R),Math.max(E,I,L,A)]}else if("ellipse"===e.type){var N=(l-a)/2,z=(c-o)/2,B=Math.cos(e.angle),F=Math.sin(e.angle),H=Math.hypot(N*B,z*F),W=Math.hypot(z*B,N*F);t=[u-H,f-W,u+H,f+W]}else{var U=(0,s.U1)(a,o,u,f,e.angle),K=(0,i.Z)(U,2),V=K[0],Y=K[1],G=(0,s.U1)(a,c,u,f,e.angle),X=(0,i.Z)(G,2),q=X[0],$=X[1],Q=(0,s.U1)(l,c,u,f,e.angle),J=(0,i.Z)(Q,2),ee=J[0],te=J[1],ne=(0,s.U1)(l,o,u,f,e.angle),re=(0,i.Z)(ne,2),ae=re[0],ie=re[1];t=[Math.min(V,q,ee,ae),Math.min(Y,$,te,ie),Math.max(V,q,ee,ae),Math.max(Y,$,te,ie)]}return t}}]),e}();m.boundsCache=new WeakMap;var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,d.F9)(e))return M(e);if((0,d.bt)(e))return p._.getElementAbsoluteCoords(e,t);if((0,d.iB)(e)){var n=(0,h.tl)(e);if((0,d.Yv)(n)){var r=p._.getBoundTextElementPosition(n,e);return[r.x,r.y,r.x+e.width,r.y+e.height,r.x+e.width/2,r.y+e.height/2]}}return[e.x,e.y,e.x+e.width,e.y+e.height,e.x+e.width/2,e.y+e.height/2]},y=function(e){var t=g(e),n=(0,i.Z)(t,6),r=n[0],a=n[1],o=n[2],l=n[3],c=n[4],u=n[5],f=[c,u];if((0,d.bt)(e)||(0,d.F9)(e)){for(var h=[],p=0;p<e.points.length-1;)h.push([(0,s.xj)([e.points[p][0]+e.x,e.points[p][1]+e.y],f,e.angle),(0,s.xj)([e.points[p+1][0]+e.x,e.points[p+1][1]+e.y],f,e.angle)]),p++;return h}var v=[[r,a],[o,a],[r,l],[o,l],[c,a],[c,l],[r,u],[o,u]].map((function(t){return(0,s.xj)(t,f,e.angle)})),m=(0,i.Z)(v,8),y=m[0],b=m[1],x=m[2],w=m[3],k=m[4],E=m[5],S=m[6],C=m[7];return"diamond"===e.type?[[k,S],[k,C],[E,S],[E,C]]:"ellipse"===e.type?[[k,S],[k,C],[E,S],[E,C],[k,S],[k,C],[E,S],[E,C]]:[[y,b],[x,w],[y,x],[b,w],[y,C],[x,C],[b,S],[w,S]]},b=function(e){return[e.x,e.y,e.x+e.width,e.y+e.height,e.x+e.width/2,e.y+e.height/2]},x=function(e){var t=Math.floor(e.width/2)+1,n=e.width,r=Math.floor(e.height/2)+1;return[t,0,n,r,t,e.height,0,r]},w=function(e){var t,n=(0,a.Z)(e.sets);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("path"===r.type)return r.ops}}catch(i){n.e(i)}finally{n.f()}return e.sets[0].ops},k=function(e,t,n,r,a){var i=1-e;return Math.pow(i,3)*t+3*Math.pow(i,2)*e*n+3*i*Math.pow(e,2)*r+Math.pow(e,3)*a},E=function(e,t,n,r){var a=t-e,i=n-t,o=3*a-6*i+3*(r-n),l=6*i-6*a,s=3*a,c=l*l-4*o*s;if(!(c>=0))return!1;var u=null,d=null,f=1/0,h=1/0;return 0===o?f=h=-s/l:(f=(-l+Math.sqrt(c))/(2*o),h=(-l-Math.sqrt(c))/(2*o)),f>=0&&f<=1&&(u=k(f,e,t,n,r)),h>=0&&h<=1&&(d=k(h,e,t,n,r)),[u,d]},S=function(e,t){var n=[0,0],a=e.reduce((function(e,a){var o=a.op,l=a.data;if("move"===o)n=l;else if("bcurveTo"===o){var s=[l[0],l[1]],c=[l[2],l[3]],u=[l[4],l[5]],d=t?t.apply(void 0,s):s,f=t?t.apply(void 0,c):c,h=t?t.apply(void 0,u):u,p=t?t.apply(void 0,(0,r.Z)(n)):n;n=u;var v=function(e,t,n,a){var i=E(e[0],t[0],n[0],a[0]),o=E(e[1],t[1],n[1],a[1]),l=Math.min(e[0],a[0]),s=Math.max(e[0],a[0]);if(i){var c=i.filter((function(e){return null!==e}));l=Math.min.apply(Math,[l].concat((0,r.Z)(c))),s=Math.max.apply(Math,[s].concat((0,r.Z)(c)))}var u=Math.min(e[1],a[1]),d=Math.max(e[1],a[1]);if(o){var f=o.filter((function(e){return null!==e}));u=Math.min.apply(Math,[u].concat((0,r.Z)(f))),d=Math.max.apply(Math,[d].concat((0,r.Z)(f)))}return[l,u,s,d]}(p,d,f,h),m=(0,i.Z)(v,4),g=m[0],y=m[1],b=m[2],x=m[3];e.minX=Math.min(e.minX,g),e.minY=Math.min(e.minY,y),e.maxX=Math.max(e.maxX,b),e.maxY=Math.max(e.maxY,x)}return e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[a.minX,a.minY,a.maxX,a.maxY]},C=function(e){var t,n=1/0,r=1/0,o=-1/0,l=-1/0,s=(0,a.Z)(e);try{for(s.s();!(t=s.n()).done;){var c=(0,i.Z)(t.value,2),u=c[0],d=c[1];n=Math.min(n,u),r=Math.min(r,d),o=Math.max(o,u),l=Math.max(l,d)}}catch(f){s.e(f)}finally{s.f()}return[n,r,o,l]},M=function(e){var t=C(e.points),n=(0,i.Z)(t,4),r=n[0],a=n[1],o=n[2],l=n[3],s=r+e.x,c=a+e.y,u=o+e.x,d=l+e.y;return[s,c,u,d,(s+u)/2,(c+d)/2]},_=function(e,t,n,r){var a=w(t[0]);if(a.length<1)return null;var o="start"===n?1:a.length-1,l=a[o].data,c=[l[4],l[5]],u=[l[2],l[3]],d=[l[0],l[1]],f=a[o-1],h=[0,0];"move"===f.op?h=f.data:"bcurveTo"===f.op&&(h=[f.data[4],f.data[5]]);var p=function(e,t){return Math.pow(1-e,3)*c[t]+3*e*Math.pow(1-e,2)*u[t]+3*Math.pow(e,2)*(1-e)*d[t]+h[t]*Math.pow(e,3)},v="start"===n?h:c,m=(0,i.Z)(v,2),g=m[0],y=m[1],b=[p(.3,0),p(.3,1)],x=b[0],k=b[1],E=Math.hypot(g-x,y-k),S=(g-x)/E,C=(y-k)/E,M={arrow:30,bar:15,dot:15,triangle:15}[r],_=0;if("arrow"===r){var Z=(0,i.Z)(e.points[e.points.length-1],2),I=Z[0],T=Z[1],j=e.points.length>1?e.points[e.points.length-2]:[0,0],P=(0,i.Z)(j,2),L=P[0],D=P[1];_=Math.hypot(I-L,T-D)}else for(var O=0;O<e.points.length;O++){var R=e.points[O-1]||[0,0],A=(0,i.Z)(R,2),N=A[0],z=A[1],B=(0,i.Z)(e.points[O],2),F=B[0],H=B[1];_+=Math.hypot(F-N,H-z)}var W=Math.min(M,_/2),U=g-S*W,K=y-C*W;if("dot"===r)return[g,y,Math.hypot(K-y,U-g)+e.strokeWidth];var V={arrow:20,bar:90,triangle:25}[r],Y=(0,s.U1)(U,K,g,y,-V*Math.PI/180),G=(0,i.Z)(Y,2),X=G[0],q=G[1],$=(0,s.U1)(U,K,g,y,V*Math.PI/180),Q=(0,i.Z)($,2);return[g,y,X,q,Q[0],Q[1]]},Z=function(e,t,n){var r;if(e.points.length<2){var a=(0,i.Z)(e.points[0],2),o=a[0],l=a[1],d=(0,s.U1)(e.x+o,e.y+l,t,n,e.angle),f=(0,i.Z)(d,2),m=f[0],g=f[1],y=[m,g,m,g],b=(0,h.WJ)(e);if(b){var x=p._.getMinMaxXYWithBoundText(e,[m,g,m,g],b);y=[x[0],x[1],x[2],x[3]]}return y}var k=null===(r=v.R.get(e))||void 0===r?void 0:r[0],E=null!==k&&void 0!==k?k:function(e){var t=c.Z.generator(),n=(0,u.Z)(e);return t[e.roundness?"curve":n.fill?"polygon":"linearPath"](e.points,n)}(e),C=w(E),M=S(C,(function(r,a){return(0,s.U1)(e.x+r,e.y+a,t,n,e.angle)})),_=[M[0],M[1],M[2],M[3]],Z=(0,h.WJ)(e);if(Z){var I=p._.getMinMaxXYWithBoundText(e,_,Z);_=[I[0],I[1],I[2],I[3]]}return _},I=function(e){return m.getBounds(e)},T=function(e){if(!e.length)return[0,0,0,0];var t=1/0,n=-1/0,r=1/0,a=-1/0;return e.forEach((function(e){var o=I(e),l=(0,i.Z)(o,4),s=l[0],c=l[1],u=l[2],d=l[3];t=Math.min(t,s),r=Math.min(r,c),n=Math.max(n,u),a=Math.max(a,d)})),[t,r,n,a]},j=function(e,t){var n=T(e),r=(0,i.Z)(n,4),a=r[0],o=r[1],l=r[2],s=r[3];return[a+t.x,o+t.y,l+t.x,s+t.y]},P=function(e,t,n,r){if(!(0,d.bt)(e)&&!(0,d.F9)(e))return[e.x,e.y,e.x+t,e.y+n];var a,o=(0,f.z)(0,t,(0,f.z)(1,n,e.points,r),r);if((0,d.F9)(e))a=C(o);else{var l=c.Z.generator(),s=e.roundness?l.curve(o,(0,u.Z)(e)):l.linearPath(o,(0,u.Z)(e)),h=w(s);a=S(h)}var p=a,v=(0,i.Z)(p,4),m=v[0],g=v[1],y=v[2],b=v[3];return[m+e.x,g+e.y,y+e.x,b+e.y]},L=function(e,t){var n=c.Z.generator(),r=null==e.roundness?n.linearPath(t,(0,u.Z)(e)):n.curve(t,(0,u.Z)(e)),a=w(r),o=S(a),l=(0,i.Z)(o,4),s=l[0],d=l[1],f=l[2],h=l[3];return[s+e.x,d+e.y,f+e.x,h+e.y]},D=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,r=e[0];return e.forEach((function(e){var a=I(e),o=(0,i.Z)(a,4),l=o[0],c=o[1],u=o[2],d=o[3],f=(0,s.LW)((l+u)/2,(c+d)/2,t.x,t.y);f<n&&(n=f,r=e)})),I(r)},O=function(e){var t=T(e),n=(0,i.Z)(t,4),r=n[0],a=n[1],o=n[2],l=n[3];return{minX:r,minY:a,maxX:o,maxY:l,width:o-r,height:l-a,midX:(r+o)/2,midY:(a+l)/2}}},3071:(e,t,n)=>{"use strict";n.d(t,{uu:()=>U,T_:()=>ce,j_:()=>ue,oT:()=>Y,wX:()=>z,MZ:()=>de,wB:()=>B,Qu:()=>F,pX:()=>W,fb:()=>K});var r=n(7762),a=n(885),i=function(e,t){return[0,0,0,0,t,e,1,0]},o=function(e,t){return[0,0,0,0,t,e,0,0]},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[0,0,0,0,0,0,0,0];if(t<0||t>7)throw new Error("Expected `index` between 0 and 7, got `".concat(t,"`"));return 0!==e&&(n[t]=e),n},s=function(e){return[e[0],e[1],e[2],e[3],-e[4],-e[5],-e[6],-e[7]]},c=function(e,t){return g(t)?[e[0]-t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7]]},u=function(e,t){return g(t)?[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t]:[d(e,t),t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[7]*e[3]+t[0]*e[4]+t[6]*e[5]-t[5]*e[6]+t[3]*e[7],t[5]*e[0]-t[3]*e[1]+t[7]*e[2]+t[1]*e[3]-t[6]*e[4]+t[0]*e[5]+t[4]*e[6]+t[2]*e[7],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]+t[0]*e[7]]},d=function(e,t){return t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6]},f=function(e,t){return[h(e,t),e[1]*t[7]+e[4]*t[5]-e[5]*t[4]+e[7]*t[1],e[2]*t[7]-e[4]*t[6]+e[6]*t[4]+e[7]*t[2],e[3]*t[7]+e[5]*t[6]-e[6]*t[5]+e[7]*t[3],e[4]*t[7]+e[7]*t[4],e[5]*t[7]+e[7]*t[5],e[6]*t[7]+e[7]*t[6],e[7]*t[7]]},h=function(e,t){return e[0]*t[7]+e[1]*t[6]+e[2]*t[5]+e[3]*t[4]+e[4]*t[3]+e[5]*t[2]+e[6]*t[1]+e[7]*t[0]},p=function(e){return Math.sqrt(Math.abs(e[0]*e[0]-e[2]*e[2]-e[3]*e[3]+e[6]*e[6]))},v=function(e){var t=p(e);if(0===t||1===t)return e;var n=e[6]<0?-1:1;return u(e,n/t)},m=function(e){var t=function(e){return Math.sqrt(Math.abs(e[7]*e[7]-e[5]*e[5]-e[4]*e[4]+e[1]*e[1]))}(e);return 0===t||1===t?e:u(e,1/t)},g=function(e){return"number"===typeof e},y=(l(1,1),l(1,2),l(1,3),l(1,4),l(1,5),l(1,6),l(1,7),function(e,t,n){return v([0,n,e,t,0,0,0,0])}),b=function(e,t){return v(f(t,e))},x=function(e,t){return n=e,[(r=t)[0]*n[0]+r[2]*n[2]+r[3]*n[3]-r[6]*n[6],r[1]*n[0]+r[0]*n[1]-r[4]*n[2]+r[5]*n[3]+r[2]*n[4]-r[3]*n[5]-r[7]*n[6]-r[6]*n[7],r[2]*n[0]+r[0]*n[2]-r[6]*n[3]+r[3]*n[6],r[3]*n[0]+r[6]*n[2]+r[0]*n[3]-r[2]*n[6],r[4]*n[0]+r[7]*n[3]+r[0]*n[4]+r[3]*n[7],r[5]*n[0]+r[7]*n[2]+r[0]*n[5]+r[2]*n[7],r[6]*n[0]+r[0]*n[6],r[7]*n[0]+r[0]*n[7]];var n,r},w=function(e){var t=(0,a.Z)(e,2),n=t[0];return[0,0,0,0,t[1],n,1,0]},k=function(e){return[e[5],e[4]]},E=function(e){return[0,0,0,0,Math.abs(e[4]),Math.abs(e[5]),1,0]},S=function(e,t){return v((n=e,[(r=t)[0]*n[0],r[1]*n[0]+r[0]*n[1],r[2]*n[0]+r[0]*n[2],r[3]*n[0]+r[0]*n[3],r[4]*n[0]+r[2]*n[1]-r[1]*n[2]+r[0]*n[4],r[5]*n[0]-r[3]*n[1]+r[1]*n[3]+r[0]*n[5],r[6]*n[0]+r[3]*n[2]-r[2]*n[3]+r[0]*n[6],r[7]*n[0]+r[6]*n[1]+r[5]*n[2]+r[4]*n[3]+r[3]*n[4]+r[2]*n[5]+r[1]*n[6]]));var n,r},C=function(e,t){return p(f(e,t))},M=function(e,t){return h(e,t)},_=function(e){return[0,0,0,0,e[4],e[5],0,0]},Z=function(e,t){return n=u(e,Math.sin(t/2)),r=Math.cos(t/2),g(r)?[n[0]+r,n[1],n[2],n[3],n[4],n[5],n[6],n[7]]:[n[0]+r[0],n[1]+r[1],n[2]+r[2],n[3]+r[3],n[4]+r[4],n[5]+r[5],n[6]+r[6],n[7]+r[7]];var n,r},I=function(e,t){return v(u(u(e,t),s(e)))},T=n(7540),j=n(8631),P=n(1710),L=n(5529),D=n(4991),O=n(7253),R=n(5049),A=n(5016),N=n(4937),z=function e(t,n,r,a,i){var o=10/n.zoom.value,l=[a,i];if(H(n,t)&&(0,R.oY)([t],n))return W(t,l,o,r);var s=(0,A.WJ)(t);if(s&&e(s,n,r,a,i))return!0;return F(t,n,r,l)},B=function(e,t,n,r,a){var i=10/t.zoom.value,o=(0,A.WJ)(e);return(!o||!z(o,t,n,r,a))&&(!F(e,t,n,[r,a])&&W(e,[r,a],i,n))},F=function(e,t,n,r){var a=10/t.zoom.value,i=(0,D.iB)(e)?G:function(e){if("arrow"===e.type)return!1;if("freedraw"===e.type)return!0;var t=!(0,O.Qm)(e.backgroundColor)||(0,L.Xo)(e)||(0,L.gs)(e);return"line"===e.type?t&&(0,T.g6)(e.points):t||(0,L.pC)(e)}(e)?X:q;return V({element:e,point:r,threshold:a,check:i,frameNameBoundsCache:n})},H=function(e,t){return e.selectedElementIds[t.id]},W=function(e,t,n,r){var i=(0,a.Z)(t,2),o=i[0],l=i[1];if("frame"===e.type)return V({element:e,point:[o,l],threshold:n,check:X,frameNameBoundsCache:r});var s=(0,P.qf)(e),c=(0,a.Z)(s,4),u=c[0],d=c[1],f=c[2],h=c[3],p=(u+f)/2,v=(d+h)/2,m=(0,T.U1)(o,l,p,v,-e.angle),g=(0,a.Z)(m,2),y=g[0],b=g[1];return y>u-n&&y<f+n&&b>d-n&&b<h+n},U=function(e,t){var n=t.x,r=t.y,a=K(e,e.width,e.height);return V({element:e,point:[n,r],threshold:a,check:$,frameNameBoundsCache:null})},K=function(e,t,n){var r=("diamond"===e.type?1/Math.sqrt(2):1)*Math.min(t,n);return Math.max(16,Math.min(.25*r,32))},V=function(e){switch(e.element.type){case"rectangle":case"embeddable":case"image":case"text":case"diamond":case"ellipse":var t=Y(e.element,e.point);return e.check(t,e.threshold);case"freedraw":return!!e.check(Q(e.element,e.point),e.threshold)&&re(e.element,e.point,e.threshold);case"arrow":case"line":return ae(e);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1;case"frame":var n;if(e.check(Y(e.element,e.point),e.threshold))return!0;var r=null===(n=e.frameNameBoundsCache)||void 0===n?void 0:n.get(e.element);return!!r&&e.check(J(r,e.point),e.threshold)}},Y=function(e,t){switch(e.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return Q(e,t);case"diamond":return ee(e,t);case"ellipse":return te(e,t)}},G=function(e,t){return e<0},X=function(e,t){return e<t},q=function(e,t){return Math.abs(e)<t},$=function(e,t){return 0<=e&&e<t},Q=function(e,t){var n=ie(e,t),r=(0,a.Z)(n,4),i=r[1],o=r[2],l=r[3];return Math.max(M(i,y(0,1,-l)),M(i,y(1,0,-o)))},J=function(e,t){var n=oe(t,e),r=(0,a.Z)(n,4),i=r[1],o=r[2],l=r[3];return Math.max(M(i,y(0,1,-l)),M(i,y(1,0,-o)))},ee=function(e,t){var n=ie(e,t),r=(0,a.Z)(n,4),i=r[1],o=r[2],l=r[3],s=y(l,o,-l*o);return M(i,s)},te=function(e,t){var n,r=ne(e,t),i=(0,a.Z)(r,2),o=i[0],l=i[1];return n=l,-Math.sign(n[1])*M(o,l)},ne=function(e,t){var n=ie(e,t),r=(0,a.Z)(n,4),o=r[1],l=r[2],s=r[3],c=k(o),u=(0,a.Z)(c,2),d=u[0],f=u[1],h=.707,p=.707,v=l,m=s;[0,1,2,3].forEach((function(e){var t=v*h,n=m*p,r=(v*v-m*m)*Math.pow(h,3)/v,a=(m*m-v*v)*Math.pow(p,3)/m,i=t-r,o=n-a,l=d-r,s=f-a,c=Math.hypot(o,i),u=Math.hypot(s,l);h=Math.min(1,Math.max(0,(l*c/u+r)/v)),p=Math.min(1,Math.max(0,(s*c/u+a)/m));var g=Math.hypot(p,h);h/=g,p/=g}));var g,y=i(v*h,m*p);return[o,x(b(o,g=y),g)]},re=function(e,t,n){var r,i;if(0===e.angle)r=t[0]-e.x,i=t[1]-e.y;else{var o=(0,P.qf)(e),l=(0,a.Z)(o,4),s=l[0],c=l[1],u=l[2],d=l[3],f=(0,T.xj)(t,[s+(u-s)/2,c+(d-c)/2],-e.angle);r=f[0]-e.x,i=f[1]-e.y}var h,p=(0,a.Z)(e.points,2),v=p[0],m=p[1];if((0,T.LW)(v[0],v[1],r,i)<n||(0,T.LW)(m[0],m[1],r,i)<n)return!0;for(var g=0;g<e.points.length;g++){var y=[m[0]-v[0],m[1]-v[1]],b=Math.hypot(y[1],y[0]),x=[y[0]/b,y[1]/b],w=[r-v[0],i-v[1]],k=(w[0]*x[0]+w[1]*x[1])/Math.hypot(x[1],x[0]);h=[v[0]+x[0]*k,v[1]+x[1]*k];var E=(0,T.LW)(h[0],h[1],v[0],v[1]),S=(0,T.LW)(h[0],h[1],m[0],m[1]);if(h=S<E&&E>b?m:E<S&&S>b?v:h,Math.hypot(i-h[1],r-h[0])<n)return!0;v=m,m=e.points[g+1]}var C=N.R.get(e);return!(!C||!C.sets.length)&&("solid"===e.fillStyle?xe(C,r,i,"round"):we(C,r,i,n))},ae=function(e){var t=e.element,n=e.threshold;if(!N.R.get(t))return!1;var r=ie(e.element,e.point),i=(0,a.Z)(r,4),o=i[0],l=i[1],s=i[2],c=i[3],u=y(0,1,-c),d=y(1,0,-s);if(!X(M(l,u),n)||!X(M(l,d),n))return!1;var f=k(o),h=(0,a.Z)(f,2),p=h[0],v=h[1],m=N.R.get(t);if(!m)return!1;if(e.check===X&&m.some((function(e){return xe(e,p,v,t.roundness?"round":"sharp")})))return!0;return m.some((function(e){return we(e,p,v,n)}))},ie=function(e,t){var n=w(t),r=(0,P.qf)(e),i=(0,a.Z)(r,4),l=i[0],s=i[1],u=i[2],d=i[3],f=se(l,s,u,d),h=Z(f,e.angle),p=I(h,n),v=c(p,_(f)),m=E(v),g=o(e.x,e.y);return[c(p,g),m,(u-l)/2,(d-s)/2]},oe=function(e,t){var n=w(e),r=(0,P.M$)(t),i=(0,a.Z)(r,4),l=i[0],s=i[1],u=i[2],d=i[3],f=se(l,s,u,d),h=Z(f,t.angle),p=I(h,n),v=c(p,_(f)),m=E(v),g=o(t.x,t.y);return[c(p,g),m,(u-l)/2,(d-s)/2]},le=function(e){var t=(0,P.qf)(e),n=(0,a.Z)(t,4),r=n[0],i=n[1],o=n[2],l=n[3],c=se(r,i,o,l),d=Z(c,e.angle),f=s(function(e){return[1,0,0,0,-.5*e[5],.5*e[4],0,0]}(_(c)));return u(f,d)},se=function(e,t,n,r){return i((e+n)/2,(t+r)/2)},ce=function(e,t,n){var r,a=le(e),i=I(a,w(t)),o=I(a,w(n)),l=b(i,o),s=e.height/e.width,c=e.width/2,u=e.height/2,d=l[2],f=l[3],h=l[1],p=Math.abs(f),v=Math.abs(d);switch(e.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":r=h/(c*(v+s*p));break;case"diamond":r=p<v?h/(v*c):h/(p*u);break;case"ellipse":r=h/(c*Math.sqrt(Math.pow(d,2)+Math.pow(s,2)*Math.pow(f,2)))}return r||0},ue=function(e,t,n){if(0===t){var r=(0,P.qf)(e),i=(0,a.Z)(r,4),o=i[0],l=i[1],c=i[2],u=i[3],d=se(o,l,c,u);return k(d)}var f,h=le(e),p=I(h,w(n)),v=s(h);switch(e.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":f=be(e,t,p);break;case"ellipse":f=ye(e,t,p)}return k(I(v,f))},de=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=le(e),i=I(a,w(t)),o=I(a,w(n)),l=b(i,o),c=s(a);return fe(e,l,i,r).map((function(e){return k(I(c,e))}))},fe=function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;switch(e.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":var i=he(e);r=i.flatMap((function(e,n){var r=[e,i[(n+1)%4]];return pe(t,ve(r,a))})).concat(i.flatMap((function(e){return ge(e,a,t)})));break;case"ellipse":r=me(e,a,t)}if(r.length<2)return[];var o=r.sort((function(e,t){return C(e,n)-C(t,n)}));return[o[0],o[o.length-1]]},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t*e.width/2,r=t*e.height/2;switch(e.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return[i(n,r),i(n,-r),i(-n,-r),i(-n,r)];case"diamond":return[i(0,r),i(n,0),i(0,-r),i(-n,0)]}},pe=function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return M(r,e)*M(i,e)>=0?[]:[S(e,b(r,i))]},ve=function(e,t){var n=(0,a.Z)(e,2),r=n[0],i=n[1],o=function(e,t){var n=.5*t;return[1,0,0,0,n*e[4],n*e[5],0,0]}(function(e,t){return m([0,0,0,0,t[4]-e[4],t[5]-e[5],0,0])}(r,i),t);return[I(o,r),I(o,i)]},me=function(e,t,n){var r=e.width/2+t,a=e.height/2+t,o=n[2],l=n[3],s=n[1],c=r*r*o*o+a*a*l*l,u=c-s*s;if(0===c||u<=0)return[];var d=Math.sqrt(u),f=-r*r*o*s,h=-a*a*l*s;return[i((f+r*a*l*d)/c,(h-r*a*o*d)/c),i((f-r*a*l*d)/c,(h+r*a*o*d)/c)]},ge=function(e,t,n){if(0===t)return 0===M(n,e)?[e]:[];var r=n[2],o=n[3],l=n[1],s=k(e),c=(0,a.Z)(s,2),u=c[0],d=c[1],f=r*r+o*o,h=t*t*f-Math.pow(r*u+o*d+l,2);if(0===f||h<=0)return[];var p=Math.sqrt(h),v=u*o*o-d*r*o-r*l,m=d*r*r-u*r*o-o*l;return[i((v+o*p)/f,(m-r*p)/f),i((v-o*p)/f,(m+r*p)/f)]},ye=function(e,t,n){var r=Math.abs(t),o=e.width*r/2,l=e.height*r/2,s=Math.sign(t),c=k(n),u=(0,a.Z)(c,2),d=u[0],f=u[1],h=0===f?1e-4:f,p=Math.pow(d,2)*Math.pow(l,2)+Math.pow(h,2)*Math.pow(o,2),v=(-d*Math.pow(l,2)+s*h*Math.sqrt(Math.max(0,p-Math.pow(o,2)*Math.pow(l,2))))/p,m=(-v*d-1)/h;0===m&&(m=.01*(Object.is(m,-0)?-1:1));var g=-Math.pow(o,2)*v/(Math.pow(m,2)*Math.pow(l,2)+Math.pow(v,2)*Math.pow(o,2));return i(g,(-v*g-1)/m)},be=function(e,t,n){var r=Math.abs(t),a=Math.sign(t),i=he(e,r),o=0,l=null;return i.forEach((function(e){var t=a*b(n,e)[1];t>o&&(o=t,l=e)})),l},xe=function(e,t,n,a){var i,o=(0,P.CM)(e),l=[],s=!1,c=(0,r.Z)(o);try{for(c.s();!(i=c.n()).done;){var u=i.value;"move"===u.op?(s=!s)&&l.push([u.data[0],u.data[1]]):"bcurveTo"===u.op?s&&(l.push([u.data[0],u.data[1]]),l.push([u.data[2],u.data[3]]),l.push([u.data[4],u.data[5]])):"lineTo"===u.op&&s&&l.push([u.data[0],u.data[1]])}}catch(f){c.e(f)}finally{c.f()}if(l.length>=4){if("sharp"===a)return(0,T.c9)(l,t,n);var d=(0,j.sU)(l,10,5);return(0,T.c9)(d,t,n)}return!1},we=function(e,t,n,r){var i=(0,P.CM)(e),o=[0,0];return i.some((function(i,l){var s=i.op,c=i.data;if("move"===s)o=c;else{if("bcurveTo"===s){var u=[c[0],c[1]],d=[c[2],c[3]],f=[c[4],c[5]],h=o;o=f;var p=function(e,t,n,r,i,o){for(var l=(0,a.Z)(i,2),s=l[0],c=l[1],u=function(a,i){return Math.pow(1-a,3)*r[i]+3*a*Math.pow(1-a,2)*n[i]+3*Math.pow(a,2)*(1-a)*t[i]+e[i]*Math.pow(a,3)},d=0;d<=1;){var f=u(d,0),h=u(d,1);if(Math.sqrt(Math.pow(f-s,2)+Math.pow(h-c,2))<o)return!0;d+=.01}return!1}(h,u,d,f,[t,n],r);return p}if("lineTo"===s)return xe(e,t,n,"sharp");"qcurveTo"===s&&console.warn("qcurveTo is not implemented yet")}return!1}))}},3391:(e,t,n)=>{"use strict";n.d(t,{JX:()=>_,LM:()=>M,eX:()=>T,g0:()=>Z,xm:()=>j});var r=n(7762),a=n(1413),i=n(797),o=n(5320),l=n(5861),s=n(7253),c=n(3600),u=n(2793),d=n(5016),f=n(5529),h=new Map,p=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,v=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,m=/^https:\/\/(?:www\.)?figma\.com/,g=/^https:\/\/gist\.github\.com/,y=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist.github.com\/.*?)\.js["']/i,b=/(?:http(?:s)?:\/\/)?(?:(?:w){3}.)?twitter.com/,x=/^<blockquote[\s\S]*?\shref=["'](https:\/\/twitter.com\/[^"']*)/i,w=/^https:\/\/(?:www\.)?val.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,k=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,E=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,S=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com"]),C=function(e){return"<html><body>".concat(e,"</body></html>")},M=function(e){if(!e)return null;if(h.has(e))return h.get(e);var t=e,n="generic",r={w:560,h:840},a=e.match(p);if(null!==a&&void 0!==a&&a[2]){var i=a[3]?"&start=".concat(a[3]):"",o=e.includes("shorts");switch(n="video",a[1]){case"embed/":case"watch?v=":case"shorts/":default:e="https://www.youtube.com/embed/".concat(a[2],"?enablejsapi=1").concat(i);break;case"playlist?list=":case"embed/videoseries?list=":e="https://www.youtube.com/embed/videoseries?list=".concat(a[2],"&enablejsapi=1").concat(i)}return r=o?{w:315,h:560}:{w:560,h:315},h.set(t,{link:e,aspectRatio:r,type:n}),{link:e,aspectRatio:r,type:n}}var s=e.match(v);if(null!==s&&void 0!==s&&s[1]){var c=null===s||void 0===s?void 0:s[1],u=/^\d+$/.test(c)?void 0:(0,l.t)("toast.unrecognizedLinkFormat");return n="video",e="https://player.vimeo.com/video/".concat(c,"?api=1"),r={w:560,h:315},h.set(t,{link:e,aspectRatio:r,type:n}),{link:e,aspectRatio:r,type:n,warning:u}}if(e.match(m))return n="generic",e="https://www.figma.com/embed?embed_host=share&url=".concat(encodeURIComponent(e)),r={w:550,h:550},h.set(t,{link:e,aspectRatio:r,type:n}),{link:e,aspectRatio:r,type:n};var d=e.match(w);if(d)return e="embed"===d[1]?d[0]:d[0].replace("/v","/embed"),h.set(t,{link:e,aspectRatio:r,type:n}),{link:e,aspectRatio:r,type:n};if(b.test(e)){var f;if(/<blockquote/.test(e)){var y=C(e);f={type:"document",srcdoc:function(){return y},aspectRatio:{w:480,h:480}}}else f={type:"document",srcdoc:function(t){return C('<blockquote class="twitter-tweet" data-dnt="true" data-theme="'.concat(t,'"><a href="').concat(e,'"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>'))},aspectRatio:{w:480,h:480}};return h.set(t,f),f}if(g.test(e)){var x;if(/<script>/.test(e)){var k=C(e);x={type:"document",srcdoc:function(){return k},aspectRatio:{w:550,h:720}}}else x={type:"document",srcdoc:function(){return C('\n          <script src="'.concat(e,'.js"><\/script>\n          <style type="text/css">\n            * { margin: 0px; }\n            table, .gist { height: 100%; }\n            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }\n          </style>\n        '))},aspectRatio:{w:550,h:720}};return h.set(e,x),x}return h.set(e,{link:e,aspectRatio:r,type:n}),{link:e,aspectRatio:r,type:n}},_=function(e){if((0,f.gs)(e))return!0;if("text"===e.type){var t=(0,d.tl)(e);if(t&&(0,f.gs)(t))return!0}return!1},Z=function(e){var t,n=e.link&&""!==(null===e||void 0===e?void 0:e.link)?e.link:"Empty Web-Embed",r=Math.max(Math.min(e.width/2,e.width/n.length),e.width/30),a=o.ut.Helvetica,i=o.m5.normal,l=(0,s.mO)({fontSize:r,fontFamily:a,fontWeight:i});return(0,u.VL)({x:e.x+e.width/2,y:e.y+e.height/2,strokeColor:"transparent"!==e.strokeColor?e.strokeColor:"black",backgroundColor:"transparent",fontFamily:a,fontSize:r,fontWeight:i,text:(0,d.lD)(n,l,e.width-20),textAlign:"center",verticalAlign:o.oX.MIDDLE,angle:null!==(t=e.angle)&&void 0!==t?t:0})},I=((0,i.z)({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},perform:function(e,t,n,r){var i=(0,s.Om)(t,{type:"embeddable"});return(0,c.Uk)(r.canvas,(0,a.Z)((0,a.Z)({},t),{},{activeTool:i})),{elements:e,appState:(0,a.Z)((0,a.Z)({},t),{},{activeTool:(0,s.Om)(t,{type:"embeddable"})}),commitToHistory:!1}}}),function(e,t){try{var n=new URL(e).hostname.replace(/^www\./,""),r=n.replace(/^([^.]+)/,"*");if(t instanceof Set)return S.has(n)||S.has(r);if(n===t.replace(/^www\./,""))return!0}catch(a){}return!1}),T=function(e){var t=e.match(x);if(t&&2===t.length)return t[1];var n=e.match(y);if(n&&2===n.length)return n[1];if(E.test(e))return"https://giphy.com/embed/".concat(E.exec(e)[1]);var r=e.match(k);return r&&2===r.length?r[1]:e},j=function(e,t){if(!e)return!1;if(null!=t)if("function"===typeof t){var n=t(e);if("boolean"===typeof n)return n}else{if("boolean"===typeof t)return t;if(t instanceof RegExp)return t.test(e);if(Array.isArray(t)){var a,i=(0,r.Z)(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o instanceof RegExp){if(e.match(o))return!0}else if(I(e,o))return!0}}catch(l){i.e(l)}finally{i.f()}return!1}}return I(e,S)}},4473:(e,t,n)=>{"use strict";n.d(t,{PK:()=>u,Xx:()=>d,bp:()=>h,oA:()=>f});var r=n(885),a=n(4165),i=n(1413),o=n(531),l=n(5320),s=n(5861),c=n(5529),u=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e}))},d=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r,s,c,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fileIds,r=t.files,s=t.imageCache,c=new Map,d=new Map,e.next=5,Promise.all(n.reduce((function(e,t){var n=r[t];return n&&!c.has(t)?(c.set(t,!0),e.concat((0,o.Z)((0,a.Z)().mark((function e(){var r,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.mimeType!==l.LO.binary){e.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return r=u(n.dataURL),o={image:r,mimeType:n.mimeType},s.set(t,o),e.next=8,r;case 8:c=e.sent,s.set(t,(0,i.Z)((0,i.Z)({},o),{},{image:c})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),d.set(t,!0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))())):e}),[]));case 5:return e.abrupt("return",{imageCache:s,updatedFiles:c,erroredFiles:d});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return e.filter((function(e){return(0,c.wi)(e)}))},h=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,i,o,c,u,d,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(new DOMParser).parseFromString(t,l.LO.svg),i=n.querySelector("svg"),!n.querySelector("parsererror")&&"svg"===(null===(a=i)||void 0===a?void 0:a.nodeName.toLowerCase())){e.next=7;break}throw new Error((0,s.t)("errors.invalidSVGString"));case 7:return i.hasAttribute("xmlns")||i.setAttribute("xmlns",l.hR),i.hasAttribute("width")&&i.hasAttribute("height")||(o=i.getAttribute("viewBox"),c=i.getAttribute("width")||"50",u=i.getAttribute("height")||"50",o&&(d=o.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(f=(0,r.Z)(d,3),c=f[1],u=f[2]),i.setAttribute("width",c),i.setAttribute("height",u)),e.abrupt("return",i.outerHTML);case 10:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},4991:(e,t,n)=>{"use strict";n.d(t,{ox:()=>s.ox,BQ:()=>A,_M:()=>N,EJ:()=>Z,o8:()=>S,Sy:()=>o.Sy,Y5:()=>l.Y5,os:()=>l.os,KP:()=>l.KP,Un:()=>g,UC:()=>l.UC,$V:()=>_,qf:()=>l.qf,Pi:()=>l.Pi,jt:()=>p,o4:()=>a.o4,Lm:()=>L,Xf:()=>D,Qp:()=>a.Qp,T:()=>y.T,xx:()=>y.xx,n2:()=>v,PC:()=>s.PC,kK:()=>s.kK,n_:()=>P,wX:()=>c.wX,r2:()=>i.r2,He:()=>i.He,wB:()=>c.wB,QD:()=>a.QD,qP:()=>O,iB:()=>i.iB,Up:()=>o.Up,vw:()=>o.vw,y8:()=>o.y8,VL:()=>o.VL,oN:()=>w.oN,JZ:()=>o.JZ,RT:()=>j,b_:()=>I.b_,vY:()=>y.vY,N_:()=>o.N_});var r=n(1413),a=n(7132),i=n(5529),o=n(2793),l=n(1710),s=n(5049),c=n(3071),u=n(885),d=n(4925),f=["rotation"],h=function(e,t,n){return t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3]},p=function(e,t,n,r,a,i){return e.reduce((function(e,o){if(e)return e;var l=function(e,t,n,r,a,i){if(!t.selectedElementIds[e.id])return!1;var o=(0,s.PC)(e,a,i),l=o.rotation,c=(0,d.Z)(o,f);if(l&&h(l,n,r))return"rotation";var u=Object.keys(c).filter((function(e){var t=c[e];return!!t&&h(t,n,r)}));return u.length>0&&u[0]}(o,t,n,r,a,i);return l?{element:o,transformHandleType:l}:null}),null)},v=function(e,t,n,r,a){var i=(0,u.Z)(e,4),o=i[0],l=i[1],c=i[2],d=i[3],f=(0,s.kK)([o,l,c,d,(o+c)/2,(l+d)/2],0,r,a,s.ox);return Object.keys(f).find((function(e){var r=f[e];return r&&h(r,t,n)}))||!1},m=["ns","nesw","ew","nwse"],g=function(e){var t=e.element,n=e.transformHandleType,r=t&&Math.sign(t.height)*Math.sign(t.width)===-1,a=null;switch(n){case"n":case"s":a="ns";break;case"w":case"e":a="ew";break;case"nw":case"se":a=r?"nesw":"nwse";break;case"ne":case"sw":a=r?"nwse":"nesw";break;case"rotation":return"grab"}return a&&t&&(a=function(e,t){var n=m.indexOf(e);if(n>=0){var r=Math.round(t/(Math.PI/4));e=m[(n+r)%m.length]}return e}(a,t.angle)),a?"".concat(a,"-resize"):""},y=n(2695),b=n(3079),x=n(6139),w=n(5016),k=n(5034),E=n(7540),S=function(e,t,n,r,a,o,s){var c=new Set(t),u=t.filter((function(e){return(0,i.He)(e)})).map((function(e){return e.id}));u.length>0&&a.getNonDeletedElements().filter((function(e){return!(0,i.Xh)(e)})).filter((function(e){return null!==e.frameId})).filter((function(e){return u.includes(e.frameId)})).forEach((function(e){return c.add(e)}));var d=(0,l.KP)(Array.from(c).map((function(t){var n;return null!==(n=e.originalElements.get(t.id))&&void 0!==n?n:t}))),f=C(d,n,o,s);c.forEach((function(t){if(M(e,t,f),!(0,i.Yv)(t)&&(!t.groupIds.length||r.editingGroupId&&!(0,k.zq)(r,t))){var n=(0,w.WJ)(t);n&&M(e,n,f)}(0,b.Ww)(t,{simultaneouslyUpdated:Array.from(c)})}))},C=function(e,t,n,r){var a=(0,u.Z)(e,2),i=a[0],o=a[1],l=i+t.x+n.x,s=o+t.y+n.y;if(0===n.x||0===n.y){var c=(0,E.wC)(i+t.x,o+t.y,r),d=(0,u.Z)(c,2),f=d[0],h=d[1];0===n.x&&(l=f),0===n.y&&(s=h)}return{x:l-i,y:s-o}},M=function(e,t,n){var r,a=null!==(r=e.originalElements.get(t.id))&&void 0!==r?r:t,i=a.x+n.x,o=a.y+n.y;(0,x.DR)(t,{x:i,y:o})},_=function(e,t,n){var r=(0,l.KP)(e),a=(0,u.Z)(r,2);return[t-a[0],n-a[1]]},Z=function(e,t,n,r,i,o,l,s,c,u,d){var f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null;if(c&&"selection"!==e.type)if(d)s=l/d;else{if(Math.abs(o-r)>Math.abs(i-n)){var h=(0,a.uK)(t,s,i<n?-l:l);l=h.width,s=h.height}else{var p=(0,a.uK)(t,l,o<r?-s:s);l=p.width,s=p.height}s<0&&(s=-s)}var v,m,g=i<n?n-l:n,y=o<r?r-s:r;(u&&(g=n-(l+=l)/2,y=r-(s+=s)/2),0!==l&&0!==s)&&(0,x.DR)(e,{x:g+(null!==(v=null===f||void 0===f?void 0:f.x)&&void 0!==v?v:0),y:y+(null!==(m=null===f||void 0===f?void 0:f.y)&&void 0!==m?m:0),width:l,height:s})},I=n(5570),T=n(7536),j=function(e,t){return Boolean(!e.viewModeEnabled&&("custom"!==e.activeTool.type&&(e.editingElement||"selection"!==e.activeTool.type&&"eraser"!==e.activeTool.type&&"hand"!==e.activeTool.type&&"laser"!==e.activeTool.type)||(0,T.eD)(t,e).length))},P=function(e){return e.filter((function(e){return!e.isDeleted&&!(0,a.QD)(e)}))},L=function(e){return e.filter((function(e){return!e.isDeleted}))},D=function(e){return e.filter((function(e){return!e.isDeleted}))},O=function(e){return!e.isDeleted},R=function(e){return L(e).map((function(e){return(0,i.dt)(e.type)?(0,r.Z)((0,r.Z)({},e),{},{lastCommittedPoint:null}):e}))},A=function(e){return R(e)},N=function(e){return R(e)}},6603:(e,t,n)=>{"use strict";n.d(t,{_:()=>k});var r=n(2982),a=n(7762),i=n(1413),o=n(885),l=n(5671),s=n(3144),c=n(7540),u=n(4991),d=n(1710),f=n(6139),h=n(6864),p=n(3079),v=n(7253),m=n(5529),g=n(9057),y=n(5016),b=n(5320),x=n(4937),w={version:null,points:[],zoom:null},k=function(){function e(t,n){(0,l.Z)(this,e),this.elementId=void 0,this.selectedPointsIndices=void 0,this.pointerDownState=void 0,this.isDragging=void 0,this.lastUncommittedPoint=void 0,this.pointerOffset=void 0,this.startBindingElement=void 0,this.endBindingElement=void 0,this.hoverPointIndex=void 0,this.segmentMidPointHoveredCoords=void 0,this.elementId=t.id,h.Z.mapElementToScene(this.elementId,n),e.normalizePoints(t),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,s.Z)(e,null,[{key:"getElement",value:function(e){var t,n=null===(t=h.Z.getScene(e))||void 0===t?void 0:t.getNonDeletedElement(e);return n||null}},{key:"handleBoxSelection",value:function(t,n,r){var a;if(!n.editingLinearElement||"selection"!==(null===(a=n.draggingElement)||void 0===a?void 0:a.type))return!1;var l=n.editingLinearElement,s=l.selectedPointsIndices,c=l.elementId,d=e.getElement(c);if(!d)return!1;var f=(0,u.qf)(n.draggingElement),h=(0,o.Z)(f,4),p=h[0],v=h[1],m=h[2],g=h[3],y=e.getPointsGlobalCoordinates(d).reduce((function(e,n,r){return(n[0]>=p&&n[0]<=m&&n[1]>=v&&n[1]<=g||t.shiftKey&&null!==s&&void 0!==s&&s.includes(r))&&e.push(r),e}),[]);r({editingLinearElement:(0,i.Z)((0,i.Z)({},l),{},{selectedPointsIndices:y.length?y:null})})}},{key:"handlePointDragging",value:function(t,n,r,a,i,l){if(!l)return!1;var s=l.selectedPointsIndices,c=l.elementId,u=e.getElement(c);if(!u)return!1;var d=u.points[l.pointerDownState.lastClickedPoint];if(s&&d){if((0,g.Ge)(t)&&1===s.length&&u.points.length>1){var f=s[0],h=u.points[0===f?1:f-1],p=e._getShiftLockedDelta(u,h,[r,a],t[g.tW.CTRL_OR_CMD]?null:n.gridSize),b=(0,o.Z)(p,2),x=b[0],w=b[1];e.movePoints(u,[{index:f,point:[x+h[0],w+h[1]],isDragging:f===l.pointerDownState.lastClickedPoint}])}else{var k=e.createPointAt(u,r-l.pointerOffset.x,a-l.pointerOffset.y,t[g.tW.CTRL_OR_CMD]?null:n.gridSize),E=k[0]-d[0],S=k[1]-d[1];e.movePoints(u,s.map((function(i){return{index:i,point:i===l.pointerDownState.lastClickedPoint?e.createPointAt(u,r-l.pointerOffset.x,a-l.pointerOffset.y,t[g.tW.CTRL_OR_CMD]?null:n.gridSize):[u.points[i][0]+E,u.points[i][1]+S],isDragging:i===l.pointerDownState.lastClickedPoint}})))}if((0,y.WJ)(u)&&(0,y.RB)(u,!1),(0,m.Mn)(u,!1)){var C=[];0===s[0]&&C.push((0,v.AK)(e.getPointGlobalCoordinates(u,u.points[0])));var M=s[s.length-1];M===u.points.length-1&&C.push((0,v.AK)(e.getPointGlobalCoordinates(u,u.points[M]))),C.length&&i(u,C)}return!0}return!1}},{key:"handlePointerUp",value:function(t,n,r){var o,l=n.elementId,s=n.selectedPointsIndices,u=n.isDragging,d=n.pointerDownState,f=e.getElement(l);if(!f)return n;var m={};if(u&&s){var g,y=(0,a.Z)(s);try{for(y.s();!(g=y.n()).done;){var b=g.value;if(0===b||b===f.points.length-1){(0,c.g6)(f.points,r.zoom.value)&&e.movePoints(f,[{index:b,point:0===b?f.points[f.points.length-1]:f.points[0]}]);var x=(0,p.N1)(r)?(0,p.Y9)((0,v.AK)(e.getPointAtIndexGlobalCoordinates(f,b)),h.Z.getScene(f)):null;m[0===b?"startBindingElement":"endBindingElement"]=x}}}catch(w){y.e(w)}finally{y.f()}}return(0,i.Z)((0,i.Z)((0,i.Z)({},n),m),{},{selectedPointsIndices:u||t.shiftKey?!u&&t.shiftKey&&null!==(o=d.prevSelectedPointsIndices)&&void 0!==o&&o.includes(d.lastClickedPoint)?s&&s.filter((function(e){return e!==d.lastClickedPoint})):s:null!==s&&void 0!==s&&s.includes(d.lastClickedPoint)?[d.lastClickedPoint]:s,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(t,n,r,a){var i=(0,c.LW)(n[0],n[1],r[0],r[1]);return t.points.length>2&&t.roundness&&(i=(0,c.eH)(t,r)),i*a.value<4*e.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(t,n,r,a){var i=(0,c.H5)(n,r);if(t.points.length>2&&t.roundness){var l=(0,c.yB)(t,t.points[a]);if(l){var s=(0,c.lk)(t,t.points[a],.5),u=(0,c.N_)(l[0],l[1],l[2],l[3],s),d=(0,o.Z)(u,2),f=d[0],h=d[1];i=e.getPointGlobalCoordinates(t,[f,h])}}return i}},{key:"getSegmentMidPointIndex",value:function(t,n,r){var a=e.getElement(t.elementId);if(!a)return-1;for(var i=e.getEditorMidPoints(a,n),o=0;o<i.length;){if(e.arePointsEqual(r,i[o]))return o+1;o++}return-1}},{key:"handlePointerDown",value:function(t,n,a,l,s){var d,v={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!s)return v;var y=s.elementId,b=e.getElement(y);if(!b)return v;var x=e.getSegmentMidpointHitCoords(s,l,n),w=null;if(x&&(w=e.getSegmentMidPointIndex(s,n,x)),t.altKey&&n.editingLinearElement)return null==s.lastUncommittedPoint&&((0,f.DR)(b,{points:[].concat((0,r.Z)(b.points),[e.createPointAt(b,l.x,l.y,t[g.tW.CTRL_OR_CMD]?null:n.gridSize)])}),v.didAddPoint=!0),a.resumeRecording(),v.linearElementEditor=(0,i.Z)((0,i.Z)({},s),{},{pointerDownState:{prevSelectedPointsIndices:s.selectedPointsIndices,lastClickedPoint:-1,origin:{x:l.x,y:l.y},segmentMidpoint:{value:x,index:w,added:!1}},selectedPointsIndices:[b.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,p.Y9)(l,h.Z.getScene(b))}),v.didAddPoint=!0,v;var k=e.getPointIndexUnderCursor(b,n.zoom,l.x,l.y);if(k>=0||x)v.hitElement=b;else{var S=s.startBindingElement,C=s.endBindingElement;(0,p.N1)(n)&&(0,m.Mn)(b)&&(0,p.HG)(b,S,C)}var M=(0,u.qf)(b),_=(0,o.Z)(M,4),Z=_[0],I=_[1],T=(Z+_[2])/2,j=(I+_[3])/2,P=k>-1&&(0,c.U1)(b.x+b.points[k][0],b.y+b.points[k][1],T,j,b.angle),L=k>-1||t.shiftKey?t.shiftKey||null!==(d=s.selectedPointsIndices)&&void 0!==d&&d.includes(k)?E([].concat((0,r.Z)(s.selectedPointsIndices||[]),[k])):[k]:null;return v.linearElementEditor=(0,i.Z)((0,i.Z)({},s),{},{pointerDownState:{prevSelectedPointsIndices:s.selectedPointsIndices,lastClickedPoint:k,origin:{x:l.x,y:l.y},segmentMidpoint:{value:x,index:w,added:!1}},selectedPointsIndices:L,pointerOffset:P?{x:l.x-P[0],y:l.y-P[1]}:{x:0,y:0}}),v}},{key:"arePointsEqual",value:function(e,t){return!e&&!t||!(!e||!t)&&(0,c.Jj)(e,t)}},{key:"handlePointerMove",value:function(t,n,r,a){if(!a.editingLinearElement)return null;var l=a.editingLinearElement,s=l.elementId,c=l.lastUncommittedPoint,u=e.getElement(s);if(!u)return a.editingLinearElement;var d,f=u.points,h=f[f.length-1];if(!t.altKey)return h===c&&e.deletePoints(u,[f.length-1]),(0,i.Z)((0,i.Z)({},a.editingLinearElement),{},{lastUncommittedPoint:null});if((0,g.Ge)(t)&&f.length>=2){var p=f[f.length-2],v=e._getShiftLockedDelta(u,p,[n,r],t[g.tW.CTRL_OR_CMD]?null:a.gridSize),m=(0,o.Z)(v,2),y=m[0],b=m[1];d=[y+p[0],b+p[1]]}else d=e.createPointAt(u,n-a.editingLinearElement.pointerOffset.x,r-a.editingLinearElement.pointerOffset.y,t[g.tW.CTRL_OR_CMD]?null:a.gridSize);return h===c?e.movePoints(u,[{index:u.points.length-1,point:d}]):e.addPoints(u,a,[{point:d}]),(0,i.Z)((0,i.Z)({},a.editingLinearElement),{},{lastUncommittedPoint:u.points[u.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(e,t){var n=(0,u.qf)(e),r=(0,o.Z)(n,4),a=r[0],i=r[1],l=(a+r[2])/2,s=(i+r[3])/2,d=e.x,f=e.y,h=(0,c.U1)(d+t[0],f+t[1],l,s,e.angle),p=(0,o.Z)(h,2);return[d=p[0],f=p[1]]}},{key:"getPointsGlobalCoordinates",value:function(e){var t=(0,u.qf)(e),n=(0,o.Z)(t,4),r=n[0],a=n[1],i=n[2],l=n[3],s=(r+i)/2,d=(a+l)/2;return e.points.map((function(t){var n=e.x,r=e.y,a=(0,c.U1)(n+t[0],r+t[1],s,d,e.angle),i=(0,o.Z)(a,2);return[n=i[0],r=i[1]]}))}},{key:"getPointAtIndexGlobalCoordinates",value:function(e,t){var n=t<0?e.points.length+t:t,r=(0,u.qf)(e),a=(0,o.Z)(r,4),i=a[0],l=a[1],s=(i+a[2])/2,d=(l+a[3])/2,f=e.points[n],h=e.x,p=e.y;return f?(0,c.U1)(h+f[0],p+f[1],s,d,e.angle):(0,c.U1)(h,p,s,d,e.angle)}},{key:"pointFromAbsoluteCoords",value:function(e,t){var n=(0,u.qf)(e),r=(0,o.Z)(n,4),a=r[0],i=r[1],l=(a+r[2])/2,s=(i+r[3])/2,d=(0,c.U1)(t[0],t[1],l,s,-e.angle),f=(0,o.Z)(d,2),h=f[0],p=f[1];return[h-e.x,p-e.y]}},{key:"getPointIndexUnderCursor",value:function(t,n,r,a){for(var i=e.getPointsGlobalCoordinates(t),o=i.length;--o>-1;){var l=i[o];if((0,c.LW)(r,a,l[0],l[1])*n.value<e.POINT_HANDLE_SIZE+1)return o}return-1}},{key:"createPointAt",value:function(e,t,n,r){var a=(0,c.wC)(t,n,r),i=(0,u.qf)(e),l=(0,o.Z)(i,4),s=l[0],d=l[1],f=(s+l[2])/2,h=(d+l[3])/2,p=(0,c.U1)(a[0],a[1],f,h,-e.angle),v=(0,o.Z)(p,2),m=v[0],g=v[1];return[m-e.x,g-e.y]}},{key:"getNormalizedPoints",value:function(e){var t=e.points,n=t[0][0],r=t[0][1];return{points:t.map((function(e,t){return[e[0]-n,e[1]-r]})),x:e.x+n,y:e.y+r}}},{key:"normalizePoints",value:function(t){(0,f.DR)(t,e.getNormalizedPoints(t))}},{key:"duplicateSelectedPoints",value:function(t){if(!t.editingLinearElement)return!1;var n=t.editingLinearElement,r=n.selectedPointsIndices,a=n.elementId,o=e.getElement(a);if(!o||null===r)return!1;var l=o.points,s=[],c=!1,u=-1,d=l.reduce((function(e,t,n){if(++u,e.push(t),r.includes(n)){var a=l[n+1];a||(c=!0),e.push(a?[(t[0]+a[0])/2,(t[1]+a[1])/2]:[t[0],t[1]]),s.push(u+1),++u}return e}),[]);if((0,f.DR)(o,{points:d}),c){var h=o.points[o.points.length-1];e.movePoints(o,[{index:o.points.length-1,point:[h[0]+30,h[1]+30]}])}return{appState:(0,i.Z)((0,i.Z)({},t),{},{editingLinearElement:(0,i.Z)((0,i.Z)({},t.editingLinearElement),{},{selectedPointsIndices:s})})}}},{key:"deletePoints",value:function(t,n){var r=0,a=0;if(n.includes(0)){var i=t.points.find((function(e,t){return!n.includes(t)}));i&&(r=i[0],a=i[1])}var o=t.points.reduce((function(e,t,i){return n.includes(i)||e.push(e.length?[t[0]-r,t[1]-a]:[0,0]),e}),[]);e._updatePoints(t,o,r,a)}},{key:"addPoints",value:function(t,n,a){var i=[].concat((0,r.Z)(t.points),(0,r.Z)(a.map((function(e){return e.point}))));e._updatePoints(t,i,0,0)}},{key:"movePoints",value:function(t,n,r){var a=t.points,i=0,o=0,l=n.find((function(e){return 0===e.index}));l&&(i=l.point[0]+a[l.index][0],o=l.point[1]+a[l.index][1]);var s=a.map((function(e,t){var r=n.find((function(e){return e.index===t}));if(r){if(l)return e;var s=r.point[0]-a[r.index][0],c=r.point[1]-a[r.index][1];return[e[0]+s,e[1]+c]}return i||o?[e[0]-i,e[1]-o]:e}));e._updatePoints(t,s,i,o,r)}},{key:"shouldAddMidpoint",value:function(t,n,r){if(!e.getElement(t.elementId))return!1;var a=t.pointerDownState.segmentMidpoint;if(a.added||null===a.value||null===a.index||null===t.pointerDownState.origin)return!1;var i=t.pointerDownState.origin,o=(0,c.LW)(i.x,i.y,n.x,n.y);return!(!r.editingLinearElement&&o<b.f/r.zoom.value)}},{key:"addMidpoint",value:function(t,n,a,o){var l=e.getElement(t.elementId);if(l){var s=t.pointerDownState.segmentMidpoint,c={pointerDownState:t.pointerDownState,selectedPointsIndices:t.selectedPointsIndices},u=e.createPointAt(l,n.x,n.y,o?a.gridSize:null),d=[].concat((0,r.Z)(l.points.slice(0,s.index)),[u],(0,r.Z)(l.points.slice(s.index)));return(0,f.DR)(l,{points:d}),c.pointerDownState=(0,i.Z)((0,i.Z)({},t.pointerDownState),{},{segmentMidpoint:(0,i.Z)((0,i.Z)({},t.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:s.index}),c.selectedPointsIndices=[s.index],c}}},{key:"_updatePoints",value:function(e,t,n,r,a){var o=(0,d.Ut)(e,t),l=(0,d.Ut)(e,e.points),s=(o[0]+o[2])/2,u=(o[1]+o[3])/2,h=(l[0]+l[2])/2-s,p=(l[1]+l[3])/2-u,v=(0,c.U1)(n,r,h,p,e.angle);(0,f.DR)(e,(0,i.Z)((0,i.Z)({},a),{},{points:t,x:e.x+v[0],y:e.y+v[1]}))}},{key:"_getShiftLockedDelta",value:function(t,n,r,a){var i=e.getPointGlobalCoordinates(t,n),l=(0,c.wC)(r[0],r[1],a),s=(0,o.Z)(l,2),d=s[0],f=s[1],h=(0,u.o4)(i[0],i[1],d,f),p=h.width,v=h.height;return(0,c.xj)([p,v],[0,0],-t.angle)}}]),e}();k.POINT_HANDLE_SIZE=10,k.getEditorMidPoints=function(e,t){var n=(0,y.WJ)(e);return!t.editingLinearElement&&e.points.length>2&&!n?[]:(w.version===e.version&&w.zoom===t.zoom.value||k.updateEditorMidPointsCache(e,t),w.points)},k.updateEditorMidPointsCache=function(e,t){for(var n=k.getPointsGlobalCoordinates(e),r=0,a=[];r<n.length-1;)if(k.isSegmentTooShort(e,e.points[r],e.points[r+1],t.zoom))a.push(null),r++;else{var i=k.getSegmentMidPoint(e,n[r],n[r+1],r+1);a.push(i),r++}w.points=a,w.version=e.version,w.zoom=t.zoom.value},k.getSegmentMidpointHitCoords=function(e,t,n){var r=e.elementId,a=k.getElement(r);if(!a)return null;if(k.getPointIndexUnderCursor(a,n.zoom,t.x,t.y)>=0)return null;if(k.getPointsGlobalCoordinates(a).length>=3&&!n.editingLinearElement)return null;var i=k.POINT_HANDLE_SIZE/n.zoom.value,o=e.segmentMidPointHoveredCoords;if(o&&(0,c.LW)(o[0],o[1],t.x,t.y)<=i)return o;for(var l=0,s=k.getEditorMidPoints(a,n);l<s.length;){if(null!==s[l])if((0,c.LW)(s[l][0],s[l][1],t.x,t.y)<=i)return s[l];l++}return null},k.getBoundTextElementPosition=function(e,t){var n=k.getPointsGlobalCoordinates(e);n.length<2&&(0,f.DR)(t,{isDeleted:!0});var r=0,a=0;if(e.points.length%2===1){var i=Math.floor(e.points.length/2),o=k.getPointGlobalCoordinates(e,e.points[i]);r=o[0]-t.width/2,a=o[1]-t.height/2}else{var l=e.points.length/2-1,s=w.points[l];2===e.points.length&&(s=(0,c.H5)(n[0],n[1])),s&&w.version===e.version||(s=k.getSegmentMidPoint(e,n[l],n[l+1],l+1)),r=s[0]-t.width/2,a=s[1]-t.height/2}return{x:r,y:a}},k.getMinMaxXYWithBoundText=function(e,t,n){var r=(0,o.Z)(t,4),a=r[0],i=r[1],l=r[2],s=r[3],u=(a+l)/2,d=(i+s)/2,f=k.getBoundTextElementPosition(e,n),h=f.x,p=f.y,v=h+n.width,m=p+n.height,g=(0,c.xj)([a,i],[u,d],e.angle),y=(0,c.xj)([l,i],[u,d],e.angle),b=(0,c.xj)([h,p],[u,d],-e.angle),x=(0,c.xj)([v,p],[u,d],-e.angle),w=(0,c.xj)([h,m],[u,d],-e.angle),E=(0,c.xj)([v,m],[u,d],-e.angle);return g[0]<y[0]&&g[1]>=y[1]?(a=Math.min(a,w[0]),l=Math.max(l,Math.max(x[0],E[0])),i=Math.min(i,b[1]),s=Math.max(s,E[1])):g[0]>=y[0]&&g[1]>y[1]?(a=Math.min(a,E[0]),l=Math.max(l,Math.max(b[0],x[0])),i=Math.min(i,w[1]),s=Math.max(s,x[1])):g[0]>=y[0]?(a=Math.min(a,x[0]),l=Math.max(l,w[0]),i=Math.min(i,E[1]),s=Math.max(s,b[1])):g[1]<=y[1]&&(a=Math.min(a,Math.min(x[0],b[0])),l=Math.max(l,E[0]),i=Math.min(i,x[1]),s=Math.max(s,w[1])),[a,i,l,s,u,d]},k.getElementAbsoluteCoords=function(e){var t,n,r,a,i,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.points.length<2||!x.R.get(e)){var s=e.points.reduce((function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1];return e.minY=Math.min(e.minY,a),e.minX=Math.min(e.minX,r),e.maxX=Math.max(e.maxX,r),e.maxY=Math.max(e.maxY,a),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),c=s.minX,u=s.minY,f=s.maxX,h=s.maxY;n=c+e.x,r=u+e.y,a=f+e.x,i=h+e.y}else{var p=x.R.generateElementShape(e),v=(0,d.CM)(p[0]),m=(0,d.IX)(v),g=(0,o.Z)(m,4),b=g[0],w=g[1],E=g[2],S=g[3];n=b+e.x,r=w+e.y,a=E+e.x,i=S+e.y}if(t=[n,r,a,i,(n+a)/2,(r+i)/2],!l)return t;var C=(0,y.WJ)(e);return C&&(t=k.getMinMaxXYWithBoundText(e,[n,r,a,i],C)),t};var E=function(e){var t=(0,r.Z)(new Set(e.filter((function(e){return null!==e&&-1!==e}))));return(t=t.sort((function(e,t){return e-t}))).length?t:null}},6139:(e,t,n)=>{"use strict";n.d(t,{BE:()=>u,DR:()=>c,ZP:()=>d});var r=n(1413),a=n(6864),i=n(9525),o=n(3859),l=n(7253),s=n(4937),c=function(e,t){var n,c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=!1,d=t,f=d.points,h=d.fileId;for(var p in"undefined"!==typeof f&&(t=(0,r.Z)((0,r.Z)({},(0,i.k)(f)),t)),t){var v=t[p];if("undefined"!==typeof v){if(e[p]===v&&("object"!==typeof v||null===v||"groupIds"===p||"scale"===p))continue;if("scale"===p){var m=e[p],g=v;if(m[0]===g[0]&&m[1]===g[1])continue}else if("points"===p){var y=e[p],b=v;if(y.length===b.length){for(var x=!1,w=y.length;--w;){var k=y[w],E=b[w];if(k[0]!==E[0]||k[1]!==E[1]){x=!0;break}}if(!x)continue}}e[p]=v,u=!0}}if(!u)return e;("undefined"===typeof t.height&&"undefined"===typeof t.width&&"undefined"==typeof h&&"undefined"===typeof f||s.R.delete(e),e.version++,e.versionNonce=(0,o.LU)(),e.updated=(0,l.C3)(),c)&&(null===(n=a.Z.getScene(e))||void 0===n||n.informMutation());return e},u=function(e,t){var n=!1;for(var a in t){var i=t[a];if("undefined"!==typeof i){if(e[a]===i&&("object"!==typeof i||null===i))continue;n=!0}}return n?(0,r.Z)((0,r.Z)((0,r.Z)({},e),t),{},{updated:(0,l.C3)(),version:e.version+1,versionNonce:(0,o.LU)()}):e},d=function(e,t){return e.version=(null!==t&&void 0!==t?t:e.version)+1,e.versionNonce=(0,o.LU)(),e.updated=(0,l.C3)(),e}},2793:(e,t,n)=>{"use strict";n.d(t,{JZ:()=>E,KE:()=>C,M:()=>b,M3:()=>x,N_:()=>S,OL:()=>I,Sy:()=>j,Up:()=>y,VL:()=>k,_N:()=>P,vw:()=>_,y8:()=>M});var r=n(7762),a=n(885),i=n(1413),o=n(4925),l=n(7253),s=n(3859),c=n(6139),u=n(5034),d=n(4991),f=n(7540),h=n(1710),p=n(5016),v=n(5320),m=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","frameId","roundness","boundElements","link","locked"],g=function(e,t){var n,r,a=t.x,i=t.y,c=t.strokeColor,u=void 0===c?v.HN.strokeColor:c,d=t.backgroundColor,f=void 0===d?v.HN.backgroundColor:d,h=t.fillStyle,p=void 0===h?v.HN.fillStyle:h,g=t.strokeWidth,y=void 0===g?v.HN.strokeWidth:g,b=t.strokeStyle,x=void 0===b?v.HN.strokeStyle:b,w=t.roughness,k=void 0===w?v.HN.roughness:w,E=t.opacity,S=void 0===E?v.HN.opacity:E,C=t.width,M=void 0===C?0:C,_=t.height,Z=void 0===_?0:_,I=t.angle,T=void 0===I?0:I,j=t.groupIds,P=void 0===j?[]:j,L=t.frameId,D=void 0===L?null:L,O=t.roundness,R=void 0===O?null:O,A=t.boundElements,N=void 0===A?null:A,z=t.link,B=void 0===z?null:z,F=t.locked,H=void 0===F?v.HN.locked:F,W=(0,o.Z)(t,m);return{id:W.id||(0,s.kb)(),type:e,x:a,y:i,width:M,height:Z,angle:T,strokeColor:u,backgroundColor:f,fillStyle:p,strokeWidth:y,strokeStyle:x,roughness:k,opacity:S,groupIds:P,frameId:D,roundness:R,seed:null!==(n=W.seed)&&void 0!==n?n:(0,s.LU)(),version:W.version||1,versionNonce:null!==(r=W.versionNonce)&&void 0!==r?r:0,isDeleted:!1,boundElements:N,updated:(0,l.C3)(),link:B,locked:H}},y=function(e){return g(e.type,e)},b=function(e){return(0,i.Z)((0,i.Z)({},g("embeddable",e)),{},{validated:e.validated})},x=function(e){return(0,c.BE)((0,i.Z)((0,i.Z)({},g("frame",e)),{},{type:"frame",name:null}),{})},w=function(e,t){return{x:"center"===e.textAlign?t.width/2:"right"===e.textAlign?t.width:0,y:"middle"===e.verticalAlign?t.height/2:0}},k=function(e){var t=e.fontFamily||v.rk,n=e.fontSize||v.n5,r=e.fontWeight||v.P3,a=e.lineHeight||(0,p.PT)(t),o=(0,p.bG)(e.text),s=(0,p.X1)(o,(0,l.mO)({fontFamily:t,fontSize:n,fontWeight:r}),a),u=e.textAlign||v.Hg,d=e.verticalAlign||v.hs,f=w({textAlign:u,verticalAlign:d},s);return(0,c.BE)((0,i.Z)((0,i.Z)({},g("text",e)),{},{text:o,fontSize:n,fontWeight:r,fontFamily:t,textAlign:u,verticalAlign:d,x:e.x-f.x,y:e.y-f.y,width:s.width,height:s.height,baseline:s.baseline,containerId:e.containerId||null,originalText:o,lineHeight:a}),{})},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.text;if(!e.isDeleted){var n=(0,p.tl)(e);n&&(t=(0,p.lD)(t,(0,l.mO)(e),(0,p.iZ)(n)));var r=function(e,t){var n,r,i=(0,p.X1)(t,(0,l.mO)(e),e.lineHeight),o=i.width,s=i.height,c=i.baseline,u=e.textAlign,m=e.verticalAlign;if("center"!==u||m!==v.oX.MIDDLE||e.containerId){var g=(0,d.qf)(e),y=(0,a.Z)(g,4),b=y[0],x=y[1],k=y[2],E=y[3],S=(0,h.wC)(e,o,s,!1),C=(0,a.Z)(S,4),M=(b-C[0])/2,_=(x-C[1])/2,Z=(k-C[2])/2,I=(E-C[3])/2,T=(0,f.yq)({s:!0,e:"center"===u||"left"===u,w:"center"===u||"right"===u},e.x,e.y,e.angle,M,_,Z,I),j=(0,a.Z)(T,2);n=j[0],r=j[1]}else{var P=(0,p.X1)(e.text,(0,l.mO)(e),e.lineHeight),L=w(e,{width:o-P.width,height:s-P.height});n=e.x-L.x,r=e.y-L.y}return{width:o,height:s,baseline:c,x:Number.isFinite(n)?n:e.x,y:Number.isFinite(r)?r:e.y}}(e,t);return(0,i.Z)({text:t},r)}},S=function(e,t){t.text;var n=t.isDeleted,r=t.originalText;return(0,c.BE)(e,(0,i.Z)({originalText:r,isDeleted:null!==n&&void 0!==n?n:e.isDeleted},E(e,r)))},C=function(e){return(0,i.Z)((0,i.Z)({},g(e.type,e)),{},{points:e.points||[],pressures:[],simulatePressure:e.simulatePressure,lastCommittedPoint:null})},M=function(e){return(0,i.Z)((0,i.Z)({},g(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead||null,endArrowhead:e.endArrowhead||null})},_=function(e){var t,n,r;return(0,i.Z)((0,i.Z)({},g("image",e)),{},{strokeColor:"transparent",status:null!==(t=e.status)&&void 0!==t?t:"pending",fileId:null!==(n=e.fileId)&&void 0!==n?n:null,scale:null!==(r=e.scale)&&void 0!==r?r:[1,1]})},Z=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==t||"object"!==typeof t)return t;var r=Object.prototype.toString.call(t);if("[object Object]"===r){var a="function"===typeof t.constructor?Object.create(Object.getPrototypeOf(t)):{};for(var i in t)if(t.hasOwnProperty(i)){if(0===n&&("shape"===i||"canvas"===i))continue;a[i]=e(t[i],n+1)}return a}if(Array.isArray(t)){for(var o=t.length,l=new Array(o);o--;)l[o]=e(t[o],n+1);return l}return(void 0).DEV&&"[object Object]"!==r&&"[object Array]"!==r&&r.startsWith("[object ")&&console.warn("_deepCloneElement: unexpected object type ".concat(r,". This value will not be cloned!")),t},I=function(e){return Z(e)},T=function(e){if((0,l.h2)()&&e){var t,n,r="".concat(e,"_copy");return null!==(t=window.h)&&void 0!==t&&null!==(n=t.app)&&void 0!==n&&n.getSceneElementsIncludingDeleted().find((function(e){return e.id===r}))&&(r+="_copy"),r}return(0,s.kb)()},j=function(e,t,n,r){var a=I(n);return a.id=T(a.id),a.boundElements=null,a.updated=(0,l.C3)(),a.seed=(0,s.LU)(),a.groupIds=(0,u.Qy)(a.groupIds,e,(function(e){return t.has(e)||t.set(e,T(e)),t.get(e)})),r&&(a=Object.assign(a,r)),a},P=function(e,t){var n,a=[],o=(0,l.xn)(e),u=new Map,d=function(e){if(u.has(e))return u.get(e);if(o.has(e)){var t=T(e);return u.set(e,t),t}return null},f=new Map,h=(0,r.Z)(e);try{for(h.s();!(n=h.n()).done;){var p=n.value,v=Z(p);if(v.id=d(p.id),null!==t&&void 0!==t&&t.randomizeSeed&&(v.seed=(0,s.LU)(),(0,c.ZP)(v)),v.groupIds&&(v.groupIds=v.groupIds.map((function(e){return f.has(e)||f.set(e,T(e)),f.get(e)}))),"containerId"in v&&v.containerId){var m=d(v.containerId);v.containerId=m}if("boundElements"in v&&v.boundElements&&(v.boundElements=v.boundElements.reduce((function(e,t){var n=d(t.id);return n&&e.push((0,i.Z)((0,i.Z)({},t),{},{id:n})),e}),[])),"endBinding"in v&&v.endBinding){var g=d(v.endBinding.elementId);v.endBinding=g?(0,i.Z)((0,i.Z)({},v.endBinding),{},{elementId:g}):null}if("startBinding"in v&&v.startBinding){var y=d(v.startBinding.elementId);v.startBinding=y?(0,i.Z)((0,i.Z)({},v.startBinding),{},{elementId:y}):null}v.frameId&&(v.frameId=d(v.frameId)),a.push(v)}}catch(b){h.e(b)}finally{h.f()}return a}},2695:(e,t,n)=>{"use strict";n.d(t,{LM:()=>M,T:()=>I,vY:()=>w,xx:()=>Z});var r=n(4925),a=n(7762),i=n(2982),o=n(1413),l=n(885),s=n(5320),c=n(9525),u=n(7540),d=n(1710),f=n(5529),h=n(6139),p=n(7253),v=n(3079),m=n(6864),g=n(5016),y=n(6603),b=["boundTextFontSize"],x=function(e){return e<0?e+2*Math.PI:e>=2*Math.PI?e-2*Math.PI:e},w=function(e,t,n,r,a,i,o,s,c,u,d,h){if(1===n.length){var p=(0,l.Z)(n,1)[0];return"rotation"===t?(k(p,s,c,a,e.originalElements),(0,v.Ww)(p)):!(0,f.iB)(p)||"nw"!==t&&"ne"!==t&&"sw"!==t&&"se"!==t?t&&C(e.originalElements,o,p,t,i,s,c):(S(p,t,i,s,c),(0,v.Ww)(p)),!0}if(n.length>1){if("rotation"===t)return _(e,n,s,c,a,u,d),!0;if("nw"===t||"ne"===t||"sw"===t||"se"===t)return M(e,n,t,i,s,c),!0}return!1},k=function(e,t,n,r,a){var i,o=(0,d.qf)(e),c=(0,l.Z)(o,4),u=c[0],p=c[1],v=(u+c[2])/2,y=(p+c[3])/2;(0,f.He)(e)?i=0:(i=5*Math.PI/2+Math.atan2(n-y,t-v),r&&(i+=s.ay/2,i-=i%s.ay),i=x(i));var b=(0,g.xB)(e);if((0,h.DR)(e,{angle:i}),b){var w,k=null===(w=m.Z.getScene(e))||void 0===w?void 0:w.getElement(b);k&&!(0,f.Yv)(e)&&(0,h.DR)(k,{angle:i})}},E=function(e,t,n){var r=e.width;if((0,f.Xh)(e)){var a=(0,g.tl)(e);a&&(r=(0,g.iZ)(a))}var i=e.fontSize*(t/r);if(i<s.CP)return null;var o=(0,g.X1)(e.text,(0,p.mO)({fontSize:i,fontFamily:e.fontFamily,fontWeight:e.fontWeight}),e.lineHeight);return{size:i,baseline:o.baseline+(n-o.height)}},S=function(e,t,n,r,a){var i,o=(0,d.qf)(e),s=(0,l.Z)(o,4),c=s[0],f=s[1],p=s[2],v=s[3],m=(c+p)/2,g=(f+v)/2,y=(0,u.U1)(r,a,m,g,-e.angle),b=(0,l.Z)(y,2),x=b[0],w=b[1];switch(t){case"se":i=Math.max((x-c)/(p-c),(w-f)/(v-f));break;case"nw":i=Math.max((p-x)/(p-c),(v-w)/(v-f));break;case"ne":i=Math.max((x-c)/(p-c),(v-w)/(v-f));break;case"sw":i=Math.max((p-x)/(p-c),(w-f)/(v-f))}if(i>0){var k=e.width*i,S=e.height*i,C=E(e,k,S);if(null===C)return;var M=(0,d.wC)(e,k,S,!1),_=(0,l.Z)(M,4),Z=(c-_[0])/2,I=(f-_[1])/2,T=(p-_[2])/2,j=(v-_[3])/2,P=(0,u.yq)(function(e,t){return{n:/^(n|ne|nw)$/.test(e)||t&&/^(s|se|sw)$/.test(e),s:/^(s|se|sw)$/.test(e)||t&&/^(n|ne|nw)$/.test(e),w:/^(w|nw|sw)$/.test(e)||t&&/^(e|ne|se)$/.test(e),e:/^(e|ne|se)$/.test(e)||t&&/^(w|nw|sw)$/.test(e)}}(t,n),e.x,e.y,e.angle,Z,I,T,j),L=(0,l.Z)(P,2),D=L[0],O=L[1];(0,h.DR)(e,{fontSize:C.size,width:k,height:S,baseline:C.baseline,x:D,y:O})}},C=function(e,t,n,r,a,m,y){var b=e.get(n.id),x=(0,d.wC)(b,b.width,b.height,!0),w=(0,l.Z)(x,4),k=[w[0],w[1]],S=[w[2],w[3]],C=(0,u.H5)(k,S),M=(0,u.xj)([m,y],C,-b.angle),_=(0,d.wC)(n,n.width,n.height,!0),Z=(0,l.Z)(_,4),I=Z[0],T=Z[1],j=Z[2]-I,P=Z[3]-T,L=(S[0]-k[0])/j,D=(S[1]-k[1])/P,O={},R=(0,g.WJ)(n);r.includes("e")&&(L=(M[0]-k[0])/j),r.includes("s")&&(D=(M[1]-k[1])/P),r.includes("w")&&(L=(S[0]-M[0])/j),r.includes("n")&&(D=(S[1]-M[1])/P);var A=b.width,N=b.height,z=n.width*L,B=n.height*D;if(a&&(z=2*z-A,B=2*B-N),t){var F=Math.abs(z)/A,H=Math.abs(B)/N;if(1===r.length&&(B*=F,z*=H),2===r.length){var W=Math.max(F,H);z=A*W*Math.sign(z),B=N*W*Math.sign(B)}}if(R){var U=e.get(R.id);if(U&&(O={fontSize:U.fontSize,baseline:U.baseline}),t){var K=(0,o.Z)((0,o.Z)({},n),{},{width:z,height:B}),V=E(R,(0,g.iZ)(K),(0,g.D9)(K,R));if(null===V)return;O={fontSize:V.size,baseline:V.baseline}}else{var Y=(0,g.AT)((0,p.mO)(R),R.lineHeight),G=(0,g.w_)(R.fontSize,R.lineHeight);z=Math.max(z,Y),B=Math.max(B,G)}}var X=(0,d.wC)(b,z,B,!0),q=(0,l.Z)(X,4),$=q[0],Q=q[1],J=q[2],ee=q[3],te=J-$,ne=ee-Q,re=[].concat(k);if(["n","w","nw"].includes(r)&&(re=[S[0]-Math.abs(te),S[1]-Math.abs(ne)]),"ne"===r){var ae=[k[0],S[1]];re=[ae[0],ae[1]-Math.abs(ne)]}if("sw"===r){var ie=[S[0],k[1]];re=[ie[0]-Math.abs(te),ie[1]]}t&&(["s","n"].includes(r)&&(re[0]=C[0]-te/2),["e","w"].includes(r)&&(re[1]=C[1]-ne/2));var oe=B<0;z<0&&(r.includes("e")&&(re[0]-=Math.abs(te)),r.includes("w")&&(re[0]+=Math.abs(te))),oe&&(r.includes("s")&&(re[1]-=Math.abs(ne)),r.includes("n")&&(re[1]+=Math.abs(ne))),a&&(re[0]=C[0]-Math.abs(te)/2,re[1]=C[1]-Math.abs(ne)/2);var le=b.angle,se=(0,u.xj)(re,C,le),ce=[re[0]+Math.abs(te)/2,re[1]+Math.abs(ne)/2],ue=(0,u.xj)(ce,C,le);re=(0,u.xj)(se,ue,-le);var de=(0,i.Z)(re),fe=b.x-$,he=b.y-Q;de[0]+=fe,de[1]+=he;var pe,ve,me=de[0],ge=de[1];((0,f.bt)(n)||(0,f.F9)(n))&&(pe=(0,c.z)(1,B,b.points,!0),ve=(0,c.z)(0,z,pe,!0));var ye={width:Math.abs(z),height:Math.abs(B),x:me,y:ge,points:ve};if("scale"in n&&"scale"in b&&(0,h.DR)(n,{scale:[(Math.sign(J-b.x)||b.scale[0])*b.scale[0],(Math.sign(ee-b.y)||b.scale[1])*b.scale[1]]}),(0,f.Yv)(n)&&R&&t){var be=ye.width/n.width*R.fontSize;if(be<s.CP)return;O.fontSize=be}0!==ye.width&&0!==ye.height&&Number.isFinite(ye.x)&&Number.isFinite(ye.y)&&((0,h.DR)(n,ye),(0,v.Ww)(n,{newSize:{width:ye.width,height:ye.height}}),R&&null!=O&&(0,h.DR)(R,{fontSize:O.fontSize,baseline:O.baseline}),(0,g.RB)(n,r,t))},M=function(e,t,n,u,p,w){var k,S=t.reduce((function(t,n){var r=e.originalElements.get(n.id);return r&&t.push({orig:r,latest:n}),t}),[]),C=S.reduce((function(t,n){var r,a=n.orig;if(!(0,f.bt)(a))return t;var l=(0,g.xB)(a);if(!l)return t;var s=null!==(r=e.originalElements.get(l))&&void 0!==r?r:null;if(!(0,f.Xh)(s))return t;var c=y._.getBoundTextElementPosition(a,s);return[].concat((0,i.Z)(t),[(0,o.Z)((0,o.Z)({},s),c)])}),[]),M=(0,d.v2)(S.map((function(e){return e.orig})).concat(C)),_=M.minX,Z=M.minY,I=M.maxX,T=M.maxY,j=M.midX,P=M.midY,L=n,D=u?[j,P]:{ne:[_,T],se:[_,Z],sw:[I,Z],nw:[I,T]}[L],O=(0,l.Z)(D,2),R=O[0],A=O[1],N=Math.max(Math.abs(p-R)/(I-_)||0,Math.abs(w-A)/(T-Z)||0)*(u?2:1);if(0!==N){var z,B={ne:[p>=R,w<=A],se:[p>=R,w>=A],sw:[p<=R,w>=A],nw:[p<=R,w<=A]}[L].map((function(e){return e?1:-1})),F=(0,l.Z)(B,2),H=F[0],W=F[1],U=H<0,K=W<0,V=[],Y=(0,a.Z)(S);try{var G=function(){var t,n=z.value,r=n.orig,a=n.latest;if((0,f.iB)(r)&&(0,f.Xh)(r))return"continue";var i=r.width*N,l=r.height*N,u=x(r.angle*H*W),h=(0,f.bt)(r)||(0,f.F9)(r),p=r.x-R,v=r.y-A,m=R+H*(p*N+(U&&!h?i:0)),y=A+W*(v*N+(K&&!h?l:0)),b=function(e,t,n,r){return(0,f.bt)(e)||(0,f.F9)(e)?{points:(0,c.z)(0,t,(0,c.z)(1,n,e.points,r),r)}:{}}(r,i*H,l*W,!1),w=(0,o.Z)({x:m,y:y,width:i,height:l,angle:u},b);if((0,f.pC)(r)&&1===S.length&&(w.scale=[r.scale[0]*H,r.scale[1]*W]),(0,f.bt)(r)&&(U||K)){var k=(0,d.Ut)(r,r.points),C=(0,d.Ut)((0,o.Z)((0,o.Z)({},r),{},{x:m,y:y}),b.points),M=[r.x,r.y],_=[m,y],Z=function(e){var t="x"===e?0:1;return(C[t+2]-_[t]-(M[t]-k[t])*N+(k[t+2]-M[t])*N-(_[t]-C[t]))/2};U&&(w.x-=Z("x")),K&&(w.y-=Z("y"))}if((0,f.iB)(r)){var I=E(r,i,l);if(!I)return{v:void 0};w.fontSize=I.size,w.baseline=I.baseline}var T=e.originalElements.get(null!==(t=(0,g.xB)(r))&&void 0!==t?t:"");if(T){var j=T.fontSize*N;if(j<s.CP)return{v:void 0};w.boundTextFontSize=j}V.push({element:a,update:w})};for(Y.s();!(z=Y.n()).done;){var X=G();if("continue"!==X&&"object"===typeof X)return X.v}}catch(se){Y.e(se)}finally{Y.f()}for(var q=V.map((function(e){return e.element})),$=0,Q=V;$<Q.length;$++){var J=Q[$],ee=J.element,te=J.update,ne=te.boundTextFontSize,re=(0,r.Z)(te,b),ae=re.width,ie=re.height,oe=re.angle;(0,h.DR)(ee,re,!1),(0,v.Ww)(ee,{simultaneouslyUpdated:q,newSize:{width:ae,height:ie}});var le=(0,g.WJ)(ee);le&&ne&&((0,h.DR)(le,{fontSize:ne,angle:(0,f.bt)(ee)?void 0:oe},!1),(0,g.RB)(ee,n,!0))}null===(k=m.Z.getScene(V[0].element))||void 0===k||k.informMutation()}},_=function(e,t,n,r,a,i,o){var c,p=5*Math.PI/2+Math.atan2(r-o,n-i);a&&(p+=s.ay/2,p-=p%s.ay),t.filter((function(e){return"frame"!==e.type})).forEach((function(n){var r,a,s=(0,d.qf)(n),c=(0,l.Z)(s,4),m=c[0],y=c[1],b=(m+c[2])/2,w=(y+c[3])/2,k=null!==(r=null===(a=e.originalElements.get(n.id))||void 0===a?void 0:a.angle)&&void 0!==r?r:n.angle,E=(0,u.U1)(b,w,i,o,p+k-n.angle),S=(0,l.Z)(E,2),C=S[0],M=S[1];(0,h.DR)(n,{x:n.x+(C-b),y:n.y+(M-w),angle:x(p+k)},!1),(0,v.Ww)(n,{simultaneouslyUpdated:t});var _=(0,g.WJ)(n);_&&!(0,f.Yv)(n)&&(0,h.DR)(_,{x:_.x+(C-b),y:_.y+(M-w),angle:x(p+k)},!1)})),null===(c=m.Z.getScene(t[0]))||void 0===c||c.informMutation()},Z=function(e,t,n,r){var a=1===t.length?(0,d.qf)(t[0]):(0,d.KP)(t),i=(0,l.Z)(a,4),o=i[0],s=i[1],c=i[2],f=i[3],h=(o+c)/2,p=(s+f)/2,v=1===t.length?t[0].angle:0,m=(0,u.U1)(n,r,h,p,-v),g=(0,l.Z)(m,2);switch(n=g[0],r=g[1],e){case"n":return(0,u.U1)(n-(o+c)/2,r-s,0,0,v);case"s":return(0,u.U1)(n-(o+c)/2,r-f,0,0,v);case"w":return(0,u.U1)(n-o,r-(s+f)/2,0,0,v);case"e":return(0,u.U1)(n-c,r-(s+f)/2,0,0,v);case"nw":return(0,u.U1)(n-o,r-s,0,0,v);case"ne":return(0,u.U1)(n-c,r-s,0,0,v);case"sw":return(0,u.U1)(n-o,r-f,0,0,v);case"se":return(0,u.U1)(n-c,r-f,0,0,v);default:return[0,0]}},I=function(e,t){var n=(0,l.Z)(t.points,2),r=(0,l.Z)(n[1],2),a=r[0],i=r[1];return"nw"===e&&(a<0||i<0)||"ne"===e&&a>=0||"sw"===e&&a<=0||"se"===e&&(a>0||i>0)?"end":"origin"}},7132:(e,t,n)=>{"use strict";n.d(t,{PZ:()=>c,QD:()=>s,Qp:()=>f,o4:()=>d,uK:()=>u});var r=n(885),a=(n(6139),n(5529)),i=n(5320),o=n(1710),l=n(7253),s=function(e){return(0,a.bt)(e)||(0,a.F9)(e)?e.points.length<2:0===e.width&&0===e.height},c=function(e,t,n,a){var i=(0,o.Pi)(e),s=(0,r.Z)(i,4),c=s[0],u=s[1],d=s[2],f=s[3],h=(0,l.dE)({clientX:a.offsetLeft,clientY:a.offsetTop},a),p=(0,l.dE)({clientX:a.offsetLeft+t,clientY:a.offsetTop+n},a);return h.x<=d&&h.y<=f&&p.x>=c&&p.y>=u},u=function(e,t,n){var r=Math.abs(t),a=Math.abs(n);if("line"===e||"arrow"===e||"freedraw"===e){var o=Math.round(Math.atan(a/r)/i.ay)*i.ay;0===o?n=0:o===Math.PI/2?t=0:n=r*Math.tan(o)*Math.sign(n)||n}else"selection"!==e&&(n=r*Math.sign(n));return{width:t,height:n}},d=function(e,t,n,r){var a=n-e,o=r-t,l=Math.round(Math.atan(o/a)/i.ay)*i.ay;if(0===l)o=0;else if(l===Math.PI/2)a=0;else{var s=Math.tan(l),c=t-s*e,u=-1/s,d=r-u*n;a=(-1*d- -1*c)/(-1*s- -1*u)-e,o=(c*u-d*s)/(-1*s- -1*u)-t}return{width:a,height:o}},f=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var r=Math.abs(e.height);t.height=r,t.y=e.y-r}return t}},5016:(e,t,n)=>{"use strict";n.d(t,{$2:()=>_,AT:()=>R,D9:()=>$,FE:()=>S,H_:()=>W,NS:()=>X,OW:()=>V,P7:()=>k,PT:()=>ee,R8:()=>M,RB:()=>E,Rg:()=>Z,TP:()=>F,WJ:()=>z,X1:()=>C,Zr:()=>G,aV:()=>K,bG:()=>b,cn:()=>U,cw:()=>H,eB:()=>Q,iZ:()=>q,lD:()=>L,mY:()=>j,oN:()=>w,tl:()=>B,w_:()=>I,xB:()=>N});var r,a,i=n(4942),o=n(885),l=n(2982),s=n(1413),c=n(7253),u=n(6139),d=n(5320),f=n(6864),h=n(4991),p=n(5529),v=n(6603),m=n(7536),g=n(3071),y=n(5570),b=function(e){return e.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},x=function(e){return b(e).split("\n")},w=function(e,t){var n=void 0,r={x:e.x,y:e.y,text:e.text,width:e.width,height:e.height,baseline:e.baseline,fontWeight:e.fontWeight};r.text=e.text,t&&(n=q(t,e),r.text=L(e.originalText,(0,c.mO)(e),n));var a=C(r.text,(0,c.mO)(e),e.lineHeight);if(r.width=a.width,r.height=a.height,r.baseline=a.baseline,t){var i=$(t,e),o=q(t);if(a.height>i){var l=X(a.height,t.type);(0,u.DR)(t,{height:l}),(0,y.h_)(t.id,l)}if(a.width>o){var d=X(a.width,t.type);(0,u.DR)(t,{width:d})}var f=(0,s.Z)((0,s.Z)({},e),r),h=S(t,f),p=h.x,v=h.y;r.x=p,r.y=v}(0,u.DR)(e,r)},k=function(e,t,n){var r=(0,c.xn)(e);t.forEach((function(e){var t=n.get(e.id),a=N(e);if(a){var i=n.get(a);if(i){var o=r.get(t);o&&(0,u.DR)(o,{boundElements:(e.boundElements||[]).filter((function(e){return e.id!==i&&e.id!==a})).concat({type:"text",id:i})});var l=r.get(i);l&&(0,h.iB)(l)&&(0,u.DR)(l,{containerId:o?t:null})}}}))},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=N(e);if(r){(0,y.kT)(e.id);var a=f.Z.getScene(e).getElement(r);if(a&&a.text){if(!e)return;var i=(a=f.Z.getScene(e).getElement(r)).text,o=a.height,l=a.width,s=q(e),d=$(e,a),h=e.height,v=a.baseline;if(n||"n"!==t&&"s"!==t){i&&(i=L(a.originalText,(0,c.mO)(a),s));var m=C(i,(0,c.mO)(a),a.lineHeight);o=m.height,l=m.width,v=m.baseline}if(o>d){var g=(h=X(o,e.type))-e.height,b=(0,p.Yv)(e)||"ne"!==t&&"nw"!==t&&"n"!==t?e.y:e.y-g;(0,u.DR)(e,{height:h,y:b})}(0,u.DR)(a,{text:i,width:l,height:o,baseline:v}),(0,p.Yv)(e)||(0,u.DR)(a,S(e,a))}}},S=function(e,t){if((0,p.Yv)(e))return v._.getBoundTextElementPosition(e,t);var n,r=H(e),a=$(e,t),i=q(e);return n=t.verticalAlign===d.oX.TOP?r.y:t.verticalAlign===d.oX.BOTTOM?r.y+(a-t.height):r.y+(a/2-t.height/2),{x:t.textAlign===d.I8.LEFT?r.x:t.textAlign===d.I8.RIGHT?r.x+(i-t.width):r.x+(i/2-t.width/2),y:n}},C=function(e,t,n){e=e.split("\n").map((function(e){return e||" "})).join("\n");var r=t.match(/(\d+(\.\d+)?)/),a=r?parseFloat(r[0]):16,i=P(e,a,n);return{width:j(e,t),height:i,baseline:M(e,t,n)}},M=function(e,t,n,r){var a=document.createElement("div");a.style.position="absolute",a.style.whiteSpace="pre",a.style.font=t,a.style.minHeight="1em",r&&(a.style.overflow="hidden",a.style.wordBreak="break-word",a.style.whiteSpace="pre-wrap"),a.style.lineHeight=String(n),a.innerText=e,document.body.appendChild(a);var i=document.createElement("span");i.style.display="inline-block",i.style.overflow="hidden",i.style.width="1px",i.style.height="1px",a.appendChild(i);var o=i.offsetTop+i.offsetHeight,l=a.offsetHeight;if(d.G6){var s=P(e,parseFloat(t),n),c=parseFloat(t),u=P(e,Math.round(c),n);s>l&&(o+=s-u),l>s&&(o-=u-s)}return document.body.removeChild(a),o},_=function(e){var t=x(e.text).length;return e.height/t/e.fontSize},Z=function(e,t){return e*t},I=function(e,t){return Z(e,t)+2*d.gK},T=function(e,t){a||(a=document.createElement("canvas"));var n=a.getContext("2d");n.font=t;var r=n.measureText(e).width;return(0,c.h2)()?10*r:r},j=function(e,t){var n=x(e),r=0;return n.forEach((function(e){r=Math.max(r,T(e,t))})),r},P=function(e,t,n){var r=x(e).length;return Z(t,n)*r},L=function(e,t,n){if(!Number.isFinite(n)||n<0)return e;var r=[],a=e.split("\n"),i=T(" ",t),o="",l=0,s=function(e){e.trim()&&r.push(e)},c=function(){o="",l=0};return a.forEach((function(e){if(j(e,t)<=n)r.push(e);else{var a=function(e){var t=e.split("-");return t.length>1&&t.forEach((function(e,n){n!==t.length-1&&(t[n]=e+="-")})),t.join(" ").split(" ")}(e);c();for(var u=0;u<a.length;){var d=T(a[u],t);if(d===n)s(a[u]),u++;else if(d>n){for(s(o),c();a[u].length>0;){var f=String.fromCodePoint(a[u].codePointAt(0)),h=D.calculate(f,t);l+=h,a[u]=a[u].slice(f.length),l>=n?(s(o),o=f,l=h):o+=f}l+i>=n?(s(o),c()):o.endsWith("-")||(o+=" ",l+=i),u++}else for(;l<n&&u<a.length;){var p=a[u];if((l=T(o+p,t))>n){s(o),c();break}u++;var v=!p.endsWith("-");if(o+=p,v&&(o+=" "),l+i>=n){v?r.push(o.slice(0,-1)):r.push(o),c();break}}}" "===o.slice(-1)&&(o=o.slice(0,-1),s(o))}})),r.join("\n")},D=function(){var e={};return{calculate:function(t,n){var r=t.charCodeAt(0);if(e[n]||(e[n]=[]),!e[n][r]){var a=T(t,n);e[n][r]=a}return e[n][r]},getCache:function(t){return e[t]}}}(),O="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),R=function(e,t){var n=A(e);return 0===n?C(O.split("").join("\n"),e,t).width+2*d.gK:n+2*d.gK},A=function(e){var t=D.getCache(e);if(!t)return 0;var n=t.filter((function(e){return void 0!==e}));return Math.max.apply(Math,(0,l.Z)(n))},N=function(e){var t,n,r;return null!==e&&void 0!==e&&null!==(t=e.boundElements)&&void 0!==t&&t.length&&(null===e||void 0===e||null===(n=e.boundElements)||void 0===n||null===(r=n.filter((function(e){return"text"===e.type}))[0])||void 0===r?void 0:r.id)||null},z=function(e){if(!e)return null;var t,n=N(e);return n&&(null===(t=f.Z.getScene(e))||void 0===t?void 0:t.getElement(n))||null},B=function(e){return e&&e.containerId&&(null===(t=f.Z.getScene(e))||void 0===t?void 0:t.getElement(e.containerId))||null;var t},F=function(e,t){if(!(0,p.Yv)(e))return{x:e.x+e.width/2,y:e.y+e.height/2};var n=v._.getPointsGlobalCoordinates(e);if(n.length%2===1){var r=Math.floor(e.points.length/2),a=v._.getPointGlobalCoordinates(e,e.points[r]);return{x:a[0],y:a[1]}}var i=e.points.length/2-1,o=v._.getEditorMidPoints(e,t)[i];return o||(o=v._.getSegmentMidPoint(e,n[i],n[i+1],i+1)),{x:o[0],y:o[1]}},H=function(e){var t=d.gK,n=d.gK;return"ellipse"===e.type&&(t+=e.width/2*(1-Math.sqrt(2)/2),n+=e.height/2*(1-Math.sqrt(2)/2)),"diamond"===e.type&&(t+=e.width/4,n+=e.height/4),{x:e.x+t,y:e.y+n}},W=function(e){var t=B(e);return!t||(0,p.Yv)(t)?e.angle:t.angle},U=function(e){return e.some((function(e){if((0,p.Xh)(e)){var t=B(e);return!(0,h.iB)(e)||!(0,p.Yv)(t)}return!1}))},K=function(e){return e.some((function(e){if((0,p.Xh)(e)){var t=B(e);return!(0,h.iB)(e)||!(0,p.Yv)(t)}return(0,h.iB)(e)}))},V=function(e,t,n,r){var a=(0,m.eD)(e,t);if(1===a.length)return(0,p.mG)(a[0],!1)?a[0]:null;for(var i=null,l=e.length-1;l>=0;--l)if(!e[l].isDeleted){var s=(0,h.qf)(e[l]),c=(0,o.Z)(s,4),u=c[0],d=c[1],f=c[2],v=c[3];if((0,p.Yv)(e[l])&&(0,g.Qu)(e[l],t,null,[n,r])){i=e[l];break}if(u<n&&n<f&&d<r&&r<v){i=e[l];break}}return(0,p.mG)(i,!1)?i:null},Y=new Set(["rectangle","ellipse","diamond","arrow"]),G=function(e){return Y.has(e.type)},X=function(e,t){e=Math.ceil(e);var n=2*d.gK;return"ellipse"===t?Math.round((e+n)/Math.sqrt(2)*2):"arrow"===t?e+8*n:"diamond"===t?2*(e+n):e+n},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z(e),n=e.width;if((0,p.Yv)(e)){var r,a=(null!==(r=null===t||void 0===t?void 0:t.fontSize)&&void 0!==r?r:d.n5)*d.vL;return Math.max(d.bY*n,a)}return"ellipse"===e.type?Math.round(n/2*Math.sqrt(2))-2*d.gK:"diamond"===e.type?Math.round(n/2)-2*d.gK:n-2*d.gK},$=function(e,t){var n=e.height;return(0,p.Yv)(e)?n-8*d.gK*2<=0?t.height:n:"ellipse"===e.type?Math.round(n/2*Math.sqrt(2))-2*d.gK:"diamond"===e.type?Math.round(n/2)-2*d.gK:n-2*d.gK},Q=function(){return j(O,(0,c.mO)({fontSize:d.n5,fontFamily:d.rk,fontWeight:d.P3}))>0},J=(r={},(0,i.Z)(r,d.ut.Virgil,1.25),(0,i.Z)(r,d.ut.Helvetica,1.15),(0,i.Z)(r,d.ut.Cascadia,1.2),r),ee=function(e){return e in J?J[e]:J[d.rk]}},5570:(e,t,n)=>{"use strict";n.d(t,{b_:()=>E,eR:()=>k,h_:()=>x,kT:()=>w});var r=n(4165),a=n(531),i=n(1413),o=n(885),l=n(9057),s=n(7253),c=n(6864),u=n(5529),d=n(5320),f=n(6139),h=n(5016),p=n(2806),v=n(5783),m=n(6603),g=n(3310),y=function(e,t,n,r,a,i){var o=r.zoom,l=180*n/Math.PI,s=e*(o.value-1)/2,c=t*(o.value-1)/2;return e>a&&1!==o.value&&(s=a*(o.value-1)/2),t>i&&1!==o.value&&(c=i*(o.value-1)/2),"translate(".concat(s,"px, ").concat(c,"px) scale(").concat(o.value,") rotate(").concat(l,"deg)")},b={},x=function(e,t){var n=b[e]||(b[e]={height:t});return n.height=t,n},w=function(e){b[e]&&delete b[e]},k=function(e){var t,n;return null!==(t=null===(n=b[e])||void 0===n?void 0:n.height)&&void 0!==t?t:null},E=function(e){var t=e.id,n=e.onChange,w=e.onSubmit,k=e.getViewportCoords,E=e.element,S=e.canvas,C=e.excalidrawContainer,M=e.app,_=function(){var e,n=M.state,r=null===(e=c.Z.getScene(E))||void 0===e?void 0:e.getElement(t);if(r){var a=r.textAlign,l=r.verticalAlign;if(r&&(0,u.iB)(r)){var p=r.x,v=r.y,g=(0,h.tl)(r),w=r.width,S=r.height,C=r.width,_=r.height;if(g&&r.containerId){if((0,u.Yv)(g)){var I=m._.getBoundTextElementPosition(g,r);p=I.x,v=I.y}var T,j=function(e,t){if(!t.style.fontFamily||!t.style.fontSize)return!1;var n=t.style.fontFamily.replace(/"/g,"");return(0,s.$g)({fontFamily:e.fontFamily})!==n||"".concat(e.fontSize,"px")!==t.style.fontSize}(r,Z);if(j?T=x(g.id,g.height):(T=b[g.id])||(T=x(g.id,g.height)),w=(0,h.iZ)(g),S=(0,h.D9)(g,r),!(0,u.Yv)(g)&&_>S){var P=(0,h.NS)(_,g.type);return void(0,f.DR)(g,{height:P})}if(!(0,u.Yv)(g)&&g.height>T.height&&_<S){var L=(0,h.NS)(_,g.type);(0,f.DR)(g,{height:L})}else{v=(0,h.FE)(g,r).y}}var D=k(p,v),O=(0,o.Z)(D,2),R=O[0],A=O[1],N=Z.selectionStart,z=Z.selectionEnd,B=Z.value.length;if(N===z&&z!==B){var F=B-z;Z.selectionStart=Z.value.length-F,Z.selectionEnd=Z.value.length-F}g?C+=.5:(w=(n.width-8-R)/n.zoom.value,C=Math.min(C,w));var H=r.lineHeight;d.G6&&(H=(0,h.$2)((0,i.Z)((0,i.Z)({},r),{},{fontSize:Math.round(r.fontSize)})));var W=(n.height-A)/n.zoom.value;Object.assign(Z.style,{font:(0,s.mO)(r),lineHeight:H,width:"".concat(C,"px"),height:"".concat(_,"px"),left:"".concat(R,"px"),top:"".concat(A,"px"),transform:y(C,_,(0,h.H_)(r),n,w,W),textAlign:a,verticalAlign:l,color:r.strokeColor,opacity:r.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(W,"px")}),Z.scrollTop=0,(0,s.h2)()&&(Z.style.fontFamily=(0,s.$g)(r)),(0,f.DR)(r,{x:p,y:v})}}},Z=document.createElement("textarea");Z.dir="auto",Z.tabIndex=0,Z.dataset.type="wysiwyg",Z.wrap="off",Z.classList.add("excalidraw-wysiwyg");var I="pre",T="normal";(0,u.Xh)(E)&&(I="pre-wrap",T="break-word"),Object.assign(Z.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:T,whiteSpace:I,overflowWrap:"break-word",boxSizing:"content-box"}),Z.value=E.originalText,_(),n&&(Z.onpaste=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,i,o,l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.mQ)(t,!0);case 2:if((n=e.sent).text){e.next=5;break}return e.abrupt("return");case 5:if(a=(0,h.bG)(n.text)){e.next=8;break}return e.abrupt("return");case 8:i=(0,h.tl)(E),o=(0,s.mO)({fontSize:M.state.currentItemFontSize,fontFamily:M.state.currentItemFontFamily,fontWeight:M.state.currentItemFontWeight}),i&&(l=(0,h.lD)("".concat(Z.value).concat(a),o,(0,h.iZ)(i)),c=(0,h.mY)(l,o),Z.style.width="".concat(c,"px"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z.oninput=function(){n((0,h.bG)(Z.value))}),Z.onkeydown=function(e){if(!e.shiftKey&&v.Lo.keyTest(e))e.preventDefault(),M.actionManager.executeAction(v.Lo),_();else if(!e.shiftKey&&v.CZ.keyTest(e))e.preventDefault(),M.actionManager.executeAction(v.CZ),_();else if(p.Tu.keyTest(e))M.actionManager.executeAction(p.Tu);else if(p.Zq.keyTest(e))M.actionManager.executeAction(p.Zq);else if(e.key===l.tW.ESCAPE)e.preventDefault(),A=!0,N();else if(e.key===l.tW.ENTER&&e[l.tW.CTRL_OR_CMD]){if(e.preventDefault(),e.isComposing||229===e.keyCode)return;A=!0,N()}else if(e.key===l.tW.TAB||e[l.tW.CTRL_OR_CMD]&&(e.code===l.aU.BRACKET_LEFT||e.code===l.aU.BRACKET_RIGHT)){if(e.preventDefault(),e.isComposing)return;e.shiftKey||e.code===l.aU.BRACKET_LEFT?D():L(),Z.dispatchEvent(new Event("input"))}};var j=" ".repeat(4),P=new RegExp("^ {1,".concat(4,"}")),L=function(){var e=Z.selectionStart,t=Z.selectionEnd,n=O(),r=Z.value;n.forEach((function(e){var t=r.slice(0,e),n=r.slice(e);r="".concat(t).concat(j).concat(n)})),Z.value=r,Z.selectionStart=e+4,Z.selectionEnd=t+4*n.length},D=function(){var e=Z.selectionStart,t=Z.selectionEnd,n=O(),r=[],a=Z.value;n.forEach((function(e){var t=a.slice(e,e+4).match(P);if(t){var n=a.slice(0,e),i=a.slice(e+t[0].length);a="".concat(n).concat(i),r.push(e)}})),Z.value=a,r.length&&(e>r[r.length-1]?Z.selectionStart=Math.max(e-4,r[r.length-1]):Z.selectionStart=e,Z.selectionEnd=Math.max(Z.selectionStart,t-4*r.length))},O=function(){var e=Z.selectionStart,t=Z.selectionEnd,n=Z.value,r=n.slice(0,e).match(/[^\n]*$/)[0].length;return e-=r,n.slice(e,t).split("\n").reduce((function(t,n,r,a){return t.concat(r?t[r-1]+a[r-1].length+1:e)}),[]).reverse()},R=function(e){e.preventDefault(),e.stopPropagation()},A=!1,N=function(){var e;z();var t=null===(e=c.Z.getScene(E))||void 0===e?void 0:e.getElement(E.id);if(t){var n=Z.value,r=(0,h.tl)(t);if(r){if(n=t.text,Z.value.trim()){var a=(0,h.xB)(r);a&&a===E.id?(0,u.Yv)(r)&&(0,f.ZP)(r):(0,f.DR)(r,{boundElements:(r.boundElements||[]).concat({type:"text",id:E.id})})}else{var i;(0,f.DR)(r,{boundElements:null===(i=r.boundElements)||void 0===i?void 0:i.filter((function(e){return!(0,u.iB)(e)}))})}(0,h.oN)(t,r)}w({text:n,viaKeyboard:A,originalText:Z.value})}},z=function(){W||(W=!0,Z.onblur=null,Z.oninput=null,Z.onkeydown=null,U&&U.disconnect(),window.removeEventListener("resize",_),window.removeEventListener("wheel",R,!0),window.removeEventListener("pointerdown",F),window.removeEventListener("pointerup",B),window.removeEventListener("blur",N),window.removeEventListener("beforeunload",N),H(),Z.remove())},B=function e(t){window.removeEventListener("pointerup",e);var n=null===t||void 0===t?void 0:t.target,r=n instanceof HTMLElement&&n.classList.contains("active-color");setTimeout((function(){if(Z.onblur=N,r){var e=new MutationObserver((function(e,t){e.find((function(e){var t;return e.removedNodes.length>0&&void 0!==(null===(t=e.removedNodes[0].dataset)||void 0===t?void 0:t.radixPopperContentWrapper)}))&&(setTimeout((function(){Z.focus()})),t.disconnect())}));e.observe(document.querySelector(".excalidraw-container"),{childList:!0})}r||Z.focus()}))},F=function(e){var t=e.target instanceof HTMLElement&&e.target.classList.contains("active-color");((e.target instanceof HTMLElement||e.target instanceof SVGElement)&&e.target.closest(".".concat(d.$C.SHAPE_ACTIONS_MENU))&&!(0,s.s)(e.target)||t)&&(Z.onblur=null,window.addEventListener("pointerup",B),window.addEventListener("blur",N))},H=c.Z.getScene(E).addCallback((function(){var e;_(),!(null===(e=document.activeElement)||void 0===e||!e.closest(".color-picker-content"))||Z.focus()})),W=!1;Z.select(),B();var U=null;S&&"ResizeObserver"in window?(U=new window.ResizeObserver((function(){_()}))).observe(S):window.addEventListener("resize",_),window.addEventListener("pointerdown",F),window.addEventListener("wheel",R,{passive:!1,capture:!0}),window.addEventListener("beforeunload",N),null===C||void 0===C||C.querySelector(".excalidraw-textEditorContainer").appendChild(Z)}},5049:(e,t,n)=>{"use strict";n.d(t,{Fn:()=>d,PC:()=>g,kK:()=>m,oY:()=>y,ox:()=>u});var r=n(885),a=n(1710),i=n(7540),o=n(4991),l=n(5529),s=n(8841),c={mouse:8,pen:16,touch:28},u={e:!0,s:!0,n:!0,w:!0},d={e:!0,s:!0,n:!0,w:!0,rotation:!0},f={e:!0,s:!0,n:!0,w:!0},h={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},p={e:!0,s:!0,n:!0,w:!0},v=function(e,t,n,a,o,l,s){var c=(0,i.U1)(e+n/2,t+a/2,o,l,s),u=(0,r.Z)(c,2);return[u[0]-n/2,u[1]-a/2,n,a]},m=function(e,t,n,a){var i=(0,r.Z)(e,6),o=i[0],l=i[1],u=i[2],d=i[3],f=i[4],h=i[5],p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:4,g=c[a],y=g/n.value,b=g/n.value,x=g/n.value,w=g/n.value,k=u-o,E=d-l,S=m/n.value,C=(g-2*s.Lu)/(2*n.value),M={nw:p.nw?void 0:v(o-S-x+C,l-S-w+C,y,b,f,h,t),ne:p.ne?void 0:v(u+S-C,l-S-w+C,y,b,f,h,t),sw:p.sw?void 0:v(o-S-x+C,d+S-C,y,b,f,h,t),se:p.se?void 0:v(u+S-C,d+S-C,y,b,f,h,t),rotation:p.rotation?void 0:v(o+k/2-y/2,l-S-w+C-16/n.value,y,b,f,h,t)},_=5*c.mouse/n.value;return Math.abs(k)>_&&(p.n||(M.n=v(o+k/2-y/2,l-S-w+C,y,b,f,h,t)),p.s||(M.s=v(o+k/2-y/2,d+S-C,y,b,f,h,t))),Math.abs(E)>_&&(p.w||(M.w=v(o-S-x+C,l+E/2-b/2,y,b,f,h,t)),p.e||(M.e=v(u+S-C,l+E/2-b/2,y,b,f,h,t))),M},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mouse";if(e.locked)return{};var i={};if("freedraw"===e.type||(0,l.bt)(e)){if(2===e.points.length){var c=(0,r.Z)(e.points,2)[1];0===c[0]||0===c[1]?i=p:c[0]>0&&c[1]<0?i=h:c[0]>0&&c[1]>0?i=p:c[0]<0&&c[1]>0?i=h:c[0]<0&&c[1]<0&&(i=p)}}else(0,o.iB)(e)?i=f:(0,l.He)(e)&&(i={rotation:!0});var u=(0,l.bt)(e)?s.Lu+8:s.Lu;return m((0,a.qf)(e,!0),e.angle,t,n,i,u)},y=function(e,t){if(t.editingLinearElement)return!1;if(e.length>1)return!0;var n=e[0];return!(0,l.bt)(n)||n.points.length>2}},5529:(e,t,n)=>{"use strict";n.d(t,{F9:()=>c,He:()=>s,Lx:()=>v,Mn:()=>p,QI:()=>w,UQ:()=>S,Xh:()=>x,Xo:()=>b,Yv:()=>f,bt:()=>d,dt:()=>h,eK:()=>E,f0:()=>m,gs:()=>o,iB:()=>l,mG:()=>g,pC:()=>i,r2:()=>y,wi:()=>a});var r=n(5320),a=function(e){return!!e&&"image"===e.type&&!!e.fileId},i=function(e){return!!e&&"image"===e.type},o=function(e){return!!e&&"embeddable"===e.type},l=function(e){return null!=e&&"text"===e.type},s=function(e){return null!=e&&"frame"===e.type},c=function(e){return null!=e&&u(e.type)},u=function(e){return"freedraw"===e},d=function(e){return null!=e&&h(e.type)},f=function(e){return null!=e&&"arrow"===e.type},h=function(e){return"arrow"===e||"line"===e},p=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&v(e.type)},v=function(e){return"arrow"===e},m=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||"image"===e.type||"embeddable"===e.type||"frame"===e.type||"text"===e.type&&!e.containerId)},g=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||f(e))},y=function(e){return"text"===(null===e||void 0===e?void 0:e.type)||"diamond"===(null===e||void 0===e?void 0:e.type)||"rectangle"===(null===e||void 0===e?void 0:e.type)||"embeddable"===(null===e||void 0===e?void 0:e.type)||"ellipse"===(null===e||void 0===e?void 0:e.type)||"arrow"===(null===e||void 0===e?void 0:e.type)||"freedraw"===(null===e||void 0===e?void 0:e.type)||"line"===(null===e||void 0===e?void 0:e.type)},b=function(e){var t;return g(e)&&!(null===(t=e.boundElements)||void 0===t||!t.some((function(e){return"text"===e.type})))},x=function(e){return null!==e&&"containerId"in e&&null!==e.containerId&&l(e)},w=function(e){return"rectangle"===e||"embeddable"===e},k=function(e){return"line"===e||"arrow"===e||"diamond"===e},E=function(e,t){return!(e!==r.a6.ADAPTIVE_RADIUS&&e!==r.a6.LEGACY||!w(t.type))||!(e!==r.a6.PROPORTIONAL_RADIUS||!k(t.type))},S=function(e){return k(e.type)?{type:r.a6.PROPORTIONAL_RADIUS}:w(e.type)?{type:r.a6.ADAPTIVE_RADIUS}:null}},2711:(e,t,n)=>{"use strict";n.d(t,{_:()=>h,l:()=>f});var r=n(3144),a=n(5671),i=n(136),o=n(7277),l=n(1120),s=n(9611);var c=n(8814);function u(e,t,n){return u=(0,c.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,s.Z)(a,n.prototype),a},u.apply(null,arguments)}function d(e){var t="function"===typeof Map?new Map:void 0;return d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,(0,l.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,s.Z)(r,e)},d(e)}var f=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Couldn't export canvas.",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CANVAS_ERROR";return(0,a.Z)(this,n),(e=t.call(this)).name=i,e.message=r,e}return(0,r.Z)(n)}(d(Error)),h=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request Aborted";return(0,a.Z)(this,n),t.call(this,e,"AbortError")}return(0,r.Z)(n)}(d(DOMException))},4953:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>_,A_:()=>Z,Dn:()=>k,Qs:()=>O,SH:()=>E,Tq:()=>P,cH:()=>D,cO:()=>w,fj:()=>M,lz:()=>I,ni:()=>C,pr:()=>j,wO:()=>S,xr:()=>m,yZ:()=>T});var r=n(2982),a=n(885),i=n(7762),o=n(4991),l=n(7540),s=n(5016),c=n(7253),u=n(6139),d=n(7536),f=n(5034),h=n(6864),p=n(1710),v=n(3037),m=function(e,t,n){var r,a=(0,c.xn)(e),o=(0,i.Z)(t);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(l.frameId){var s=n.get(l.id),d=n.get(l.frameId);if(s){var f=a.get(s);f&&(0,u.DR)(f,{frameId:null!==d&&void 0!==d?d:l.frameId},!1)}}}}catch(h){o.e(h)}finally{o.f()}};function g(e,t){var n=(0,p.GJ)(t),r=(0,p.GJ)(e);return n.some((function(e){return r.some((function(t){return(0,v.y8)(e,t)}))}))}var y=function(e,t){return L((0,d.Yp)(e,t,!1)).filter((function(e){return"frame"!==e.type&&!e.frameId||e.frameId===t.id}))},b=function(e,t,n){return(0,d.Yp)(e,t).some((function(e){return e.id===n.id}))},x=function(e,t){var n=(0,o.qf)(t),r=(0,a.Z)(n,4),i=r[0],l=r[1],s=r[2],c=r[3],u=(0,o.KP)(e),d=(0,a.Z)(u,4),f=d[0],h=d[1],p=d[2],v=d[3];return i<=f&&l<=h&&s>=p&&c>=v},w=function(e,t){return x([e],t)||g(e,t)||b([t],e,t)},k=function(e,t){var n=(0,o.qf)(t),r=(0,a.Z)(n,4),i=r[0],s=r[1],c=r[2],u=r[3];return(0,l.Ni)([i,s],[e.x,e.y],[c,u])},E=function(e){var t,n=new Map,r=(0,i.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,l=(0,o.He)(a)?a.id:a.frameId;l&&!n.has(l)&&n.set(l,S(e,l))}}catch(s){r.e(s)}finally{r.f()}return n},S=function(e,t){return e.filter((function(e){return e.frameId===t}))},C=function(e,t,n){var l,s=S(e,t.id),c=new Set(s),u=new Set([].concat((0,r.Z)(y(e,t)),(0,r.Z)(s.filter((function(n){return b(e,n,t)}))))),d=s.filter((function(e){return!u.has(e)})),h=new Set(Array.from(u).flatMap((function(e){return e.groupIds}))),p=(0,i.Z)(d);try{for(p.s();!(l=p.n()).done;){var v=l.value;if(g(v,t)){if(v.groupIds.length>0){var m,w=(0,i.Z)(v.groupIds);try{for(w.s();!(m=w.n()).done;){var k=m.value;h.add(k)}}catch(K){w.e(K)}finally{w.f()}}}else 0===v.groupIds.length&&c.delete(v)}}catch(K){p.e(K)}finally{p.f()}var E,C=(0,i.Z)(d);try{for(C.s();!(E=C.n()).done;){var M=E.value;if(M.groupIds.length>0){var _,Z=!0,I=(0,i.Z)(M.groupIds);try{for(I.s();!(_=I.n()).done;){var T=_.value;h.has(T)&&(Z=!1)}}catch(K){I.e(K)}finally{I.f()}Z&&c.delete(M)}}}catch(K){C.e(K)}finally{C.f()}var j,P=Array.from(u).filter((function(e){return 0===e.groupIds.length})),L=(0,i.Z)(P);try{for(L.s();!(j=L.n()).done;){var D=j.value;c.add(D)}}catch(K){L.e(K)}finally{L.f()}for(var O=Array.from(u).filter((function(e){return e.groupIds.length>0})),R=(0,f.yR)(O,n),A=0,N=Object.entries(R);A<N.length;A++){var z=(0,a.Z)(N[A],2),B=z[0];if(z[1]){var F=(0,f.Fb)(e,B);if(x(F,t)){var H,W=(0,i.Z)(F);try{for(W.s();!(H=W.n()).done;){var U=H.value;c.add(U)}}catch(K){W.e(K)}finally{W.f()}}}}return(0,r.Z)(c).filter((function(e){return!((0,o.iB)(e)&&e.containerId)}))},M=function(e,t){return L(e,y(e,t))},_=function(e,t){var n;return e.frameId?t?t.get(e.frameId)||null:(null===(n=h.Z.getScene(e))||void 0===n?void 0:n.getElement(e.frameId))||null:null},Z=function(e,t,n){var r,a=e.reduce((function(e,t,r){return t.frameId===n.id&&e.currTargetFrameChildrenMap.set(t.id,!0),e}),{currTargetFrameChildrenMap:new Map}),o=a.currTargetFrameChildrenMap,l=new Set(t.map((function(e){return e.id}))),c=[],d=(0,i.Z)(L(e,t));try{for(d.s();!(r=d.n()).done;){var f=r.value;o.has(f.id)||c.push(f);var h=(0,s.WJ)(f);!h||l.has(h.id)||o.has(h.id)||c.push(h)}}catch(g){d.e(g)}finally{d.f()}for(var p=0,v=c;p<v.length;p++){var m=v[p];(0,u.DR)(m,{frameId:n.id},!1)}return e.slice()},I=function(e,t,n){var r,o=new Map,l=new Map,c=(0,i.Z)(t);try{for(c.s();!(r=c.n()).done;){var d=r.value;if(d.frameId){o.set(d.id,d);var f=l.get(d.frameId)||[];f.push(d);var h=(0,s.WJ)(d);h&&(o.set(h.id,h),f.push(h)),l.set(d.frameId,f)}}}catch(g){c.e(g)}finally{c.f()}var p,v=(0,i.Z)(o);try{for(v.s();!(p=v.n()).done;){var m=(0,a.Z)(p.value,2)[1];(0,u.DR)(m,{frameId:null},!1)}}catch(g){v.e(g)}finally{v.f()}return e.slice()},T=function(e,t,n){var r=S(e,t.id);return I(e,r,n)},j=function(e,t,n,r){return Z(T(e,n,r),t,n)},P=function(e,t,n){var a=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,elements:e}),l=new Set(a);if(t.editingGroupId){var s,c=(0,i.Z)(a);try{for(c.s();!(s=c.n()).done;){var u=s.value;0===u.groupIds.length?l.add(u):u.groupIds.flatMap((function(t){return(0,f.Fb)(e,t)})).forEach((function(e){return l.add(e)}))}}catch(h){c.e(h)}finally{c.f()}}var d=new Set;return l.forEach((function(n){!n.frameId||(0,o.He)(n)||O(n,e,t)||d.add(n)})),d.size>0?I(e,(0,r.Z)(d),t):e},L=function(e,t){var n,r=new Set,a=(0,i.Z)(t||e);try{for(a.s();!(n=a.n()).done;){var l=n.value,s=l.groupIds[l.groupIds.length-1];s&&r.add(s)}}catch(p){a.e(p)}finally{a.f()}var c,u=new Set,d=(0,i.Z)(r);try{for(d.s();!(c=d.n()).done;){var h=c.value;(0,f.Fb)(e,h).some((function(e){return(0,o.He)(e)}))&&u.add(h)}}catch(p){d.e(p)}finally{d.f()}return(t||e).filter((function(e){return!u.has(e.groupIds[e.groupIds.length-1])}))},D=function(e,t){var n=(0,o.iB)(e)&&(0,s.tl)(e)||e;return t.selectedElementIds[n.id]&&t.selectedElementsAreBeingDragged?t.frameToHighlight:_(n)},O=function(e,t,n){var r=D(e,n),a=(0,o.iB)(e)&&(0,s.tl)(e)||e;if(r){if(!n.selectedElementIds[e.id]||!n.selectedElementsAreBeingDragged)return!0;if(0===a.groupIds.length)return w(a,r);var l=new Set(a.groupIds.flatMap((function(e){return(0,f.Fb)(t,e)})));if(n.editingGroupId&&n.selectedElementsAreBeingDragged){var c=new Set((0,d.eD)(t,n));if(null!==n.frameToHighlight)return!0;c.forEach((function(e){l.delete(e)}))}var u,h=(0,i.Z)(l);try{for(h.s();!(u=h.n()).done;){var p=u.value;if((0,o.He)(p))return!1}}catch(y){h.e(y)}finally{h.f()}var v,m=(0,i.Z)(l);try{for(m.s();!(v=m.n()).done;){var g=v.value;if(w(g,r))return!0}}catch(y){m.e(y)}finally{m.f()}}return!1}},5034:(e,t,n)=>{"use strict";n.d(t,{AI:()=>S,F$:()=>d,Fb:()=>b,Nd:()=>y,Qy:()=>w,S_:()=>k,YS:()=>x,bO:()=>f,h6:()=>E,iE:()=>g,iJ:()=>v,yO:()=>p,yR:()=>m,zq:()=>h});var r=n(2982),a=n(885),i=n(7762),o=n(4942),l=n(1413),s=n(7536),c=n(5016),u=n(2219),d=function(e,t,n){var r=n.reduce((function(t,n){return n.groupIds.includes(e)&&(t[n.id]=!0),t}),{});return Object.keys(r).length<2?t.selectedGroupIds[e]||t.editingGroupId===e?{selectedElementIds:t.selectedElementIds,selectedGroupIds:(0,l.Z)((0,l.Z)({},t.selectedGroupIds),{},(0,o.Z)({},e,!1)),editingGroupId:null}:t:{editingGroupId:t.editingGroupId,selectedGroupIds:(0,l.Z)((0,l.Z)({},t.selectedGroupIds),{},(0,o.Z)({},e,!0)),selectedElementIds:(0,l.Z)((0,l.Z)({},t.selectedElementIds),r)}},f=function(){var e=null,t=null,n=null,r=function(r,a,o,c){var d=c?c.scene.getSelectedElements({selectedElementIds:r.selectedElementIds,elements:a}):(0,s.eD)(a,r);return d.length?function(r,a,o,s){var c;if(void 0!==n&&a===t&&r===e&&o.editingGroupId===(null===(c=n)||void 0===c?void 0:c.editingGroupId))return n;var d,f={},h=(0,i.Z)(r);try{for(h.s();!(d=h.n()).done;){var p=d.value.groupIds;if(o.editingGroupId){var v=p.indexOf(o.editingGroupId);v>-1&&(p=p.slice(0,v))}if(p.length>0){var m=p[p.length-1];f[m]=!0}}}catch(k){h.e(k)}finally{h.f()}for(var g={},y=a.reduce((function(e,t){var n=t.groupIds.find((function(e){return f[e]}));return n&&(e[t.id]=!0,Array.isArray(g[n])?g[n].push(t.id):g[n]=[t.id]),e}),{}),b=0,x=Object.keys(g);b<x.length;b++){var w=x[b];g[w].length<2&&f[w]&&(f[w]=!1)}return t=a,e=r,n={editingGroupId:o.editingGroupId,selectedGroupIds:f,selectedElementIds:(0,u.Oh)((0,l.Z)((0,l.Z)({},o.selectedElementIds),y),s)}}(d,a,r,o):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:(0,u.Oh)(r.selectedElementIds,o)}};return r.clearCache=function(){t=null,e=null,n=null},r}(),h=function(e,t){return null!=p(e,t)},p=function(e,t){return t.groupIds.filter((function(t){return t!==e.editingGroupId})).find((function(t){return e.selectedGroupIds[t]}))},v=function(e){return Object.entries(e.selectedGroupIds).filter((function(e){var t=(0,a.Z)(e,2);t[0];return t[1]})).map((function(e){var t=(0,a.Z)(e,2),n=t[0];t[1];return n}))},m=function(e,t){var n,r=(0,l.Z)((0,l.Z)({},t),{},{selectedGroupIds:{}}),a=(0,i.Z)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value.groupIds;if(t.editingGroupId){var s=o.indexOf(t.editingGroupId);s>-1&&(o=o.slice(0,s))}if(o.length>0){var c=o[o.length-1];r=(0,l.Z)((0,l.Z)({},r),d(c,r,e))}}}catch(u){a.e(u)}finally{a.f()}return r.selectedGroupIds},g=function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{editingGroupId:t.groupIds.length?t.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,o.Z)({},t.id,!0)})},y=function(e,t){return e.groupIds.includes(t)},b=function(e,t){return e.filter((function(e){return y(e,t)}))},x=function(e,t){return e.groupIds.find((function(e){return t[e]}))},w=function(e,t,n){for(var a=(0,r.Z)(e),i=t?e.indexOf(t):-1,o=i>-1?i:e.length,l=0;l<o;l++)a[l]=n(a[l]);return a},k=function(e,t,n){var a=(0,r.Z)(e),i=n?a.indexOf(n):-1,o=i>-1?i:a.length;return a.splice(o,0,t),a},E=function(e,t){return e.filter((function(e){return!t[e]}))},S=function(e){var t=new Map;return e.forEach((function(e){var n=0===e.groupIds.length?e.id:e.groupIds[e.groupIds.length-1],a=t.get(n)||[],i=(0,c.WJ)(e);i&&a.push(i),t.set(n,[].concat((0,r.Z)(a),[e]))})),Array.from(t.values())}},3709:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(2982),a=n(885),i=n(2791),o=n(868),l=n(70),s=function(e){var t=(0,i.useState)(null),n=(0,a.Z)(t,2),s=n[0],c=n[1],u=(0,o.Fy)(),d=(0,l.I)().theme,f=(0,i.useRef)(u.isMobile);f.current=u.isMobile;var h=(0,o.J0)().container;return(0,i.useLayoutEffect)((function(){s&&s.classList.toggle("excalidraw--mobile",u.isMobile)}),[s,u.isMobile]),(0,i.useLayoutEffect)((function(){var t,n,a=null!==e&&void 0!==e&&e.parentSelector?null===h||void 0===h?void 0:h.querySelector(e.parentSelector):document.body;if(a){var i=document.createElement("div");return(t=i.classList).add.apply(t,["excalidraw"].concat((0,r.Z)((null===e||void 0===e||null===(n=e.className)||void 0===n?void 0:n.split(/\s+/))||[]))),i.classList.toggle("excalidraw--mobile",f.current),i.classList.toggle("theme--dark","dark"===d),a.appendChild(i),c(i),function(){a.removeChild(i)}}}),[h,d,null===e||void 0===e?void 0:e.className,null===e||void 0===e?void 0:e.parentSelector]),s}},8150:(e,t,n)=>{"use strict";n.d(t,{YX:()=>d,mF:()=>h,yT:()=>p});var r=n(885),a=n(4165),i=n(531),o=n(9886),l=n(2791),s=n(3729),c=n(1718),u=n(3037),d=(0,o.cn)(new Map),f=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.$D)({elements:t,appState:{exportBackground:!1,viewBackgroundColor:s.HO.white},files:null,renderEmbeddables:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e,t,n){var o=(0,l.useState)(),s=(0,r.Z)(o,2),c=s[0],u=s[1];return(0,l.useEffect)((function(){if(t)if(e){var r=n.get(e);r?u(r):(0,i.Z)((0,a.Z)().mark((function r(){var i,o;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f(t);case 2:o=r.sent,null===(i=o.querySelector(".style-fonts"))||void 0===i||i.remove(),o&&(n.set(e,o),u(o));case 5:case"end":return r.stop()}}),r)})))()}else(0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})))()}),[e,t,n,u]),c},p=function(){var e=(0,o.KO)(d,c.yE),t=(0,r.Z)(e,1)[0];return{clearLibraryCache:function(){return t.clear()},deleteItemsFromLibraryCache:function(e){e.forEach((function(e){return t.delete(e)}))},svgCache:t}}},61:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(2791),a=n(5320);function i(e,t,n){(0,r.useEffect)((function(){function r(r){var a=r;if(e.current){var i=null===n||void 0===n?void 0:n(a,e.current);if(!0!==i){if(!1===i)return t(a);if(!e.current.contains(a.target)&&document.documentElement.contains(a.target))a.target.closest("[data-radix-portal]")||a.target===document.documentElement&&"none"===document.body.style.pointerEvents||a.target.closest("[data-prevent-outside-click]")||t(a)}}}return document.addEventListener(a.Ks.POINTER_DOWN,r),document.addEventListener(a.Ks.TOUCH_START,r),function(){document.removeEventListener(a.Ks.POINTER_DOWN,r),document.removeEventListener(a.Ks.TOUCH_START,r)}}),[e,t,n])}},5861:(e,t,n)=>{"use strict";n.d(t,{Fp:()=>u,G3:()=>m,Mj:()=>d,QT:()=>x,m0:()=>v,t:()=>y});var r=n(4165),a=n(531),i=n(2982),o=n(790),l=n(2675),s=n(1718),c=n(9886),u={code:"en",label:"English"},d=[u].concat((0,i.Z)([{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438"},{code:"ca-ES",label:"Catal\xe0"},{code:"cs-CZ",label:"\u010cesky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{code:"es-ES",label:"Espa\xf1ol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06cc",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xe7ais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"\u05e2\u05d1\u05e8\u05d9\u05ea",rtl:!0},{code:"hi-IN",label:"\u0939\u093f\u0928\u094d\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65e5\u672c\u8a9e"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"\u049a\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},{code:"ko-KR",label:"\ud55c\uad6d\uc5b4"},{code:"ku-TR",label:"Kurd\xee"},{code:"lt-LT",label:"Lietuvi\u0173"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xe5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xeas Brasileiro"},{code:"pt-PT",label:"Portugu\xeas"},{code:"ro-RO",label:"Rom\xe2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010dina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Sloven\u0161\u010dina"},{code:"tr-TR",label:"T\xfcrk\xe7e"},{code:"uk-UA",label:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{code:"zh-CN",label:"\u7b80\u4f53\u4e2d\u6587"},{code:"zh-TW",label:"\u7e41\u9ad4\u4e2d\u6587"},{code:"vi-VN",label:"Ti\u1ebfng Vi\u1ec7t"},{code:"mr-IN",label:"\u092e\u0930\u093e\u0920\u0940"}].filter((function(e){return l[e.code]>=85})).sort((function(e,t){return e.label>t.label?1:-1})))),f="__test__";(void 0).DEV&&d.unshift({code:f,label:"test language"},{code:"".concat(f,".rtl"),label:"\u202atest language (rtl)\u202c",rtl:!0});var h=u,p={},v=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=t,document.documentElement.dir=h.rtl?"rtl":"ltr",document.documentElement.lang=h.code,!t.code.startsWith(f)){e.next=7;break}p={},e.next=17;break;case 7:return e.prev=7,e.next=10,n(5491)("./".concat(h.code,".json"));case 10:p=e.sent,e.next=17;break;case 13:e.prev=13,e.t0=e.catch(7),console.error("Failed to load language ".concat(t.code,":"),e.t0.message),p=o;case 17:s.e_.set(b,t.code);case 18:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){return h},g=function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(void 0===e[r])return;e=e[r]}if("string"===typeof e)return e},y=function(e,t,n){if(h.code.startsWith(f)){var r=t?"".concat(e,"(").concat(JSON.stringify(t).slice(1,-1),")"):e;return"\u202a[[".concat(r,"]]\u202c")}var a=e.split("."),i=g(p,a)||g(o,a)||n;if(void 0===i){var l="Can't find translation for ".concat(e);if((void 0).PROD)return console.warn(l),"";throw new Error(l)}if(t)for(var s in t)i=i.replace("{{".concat(s,"}}"),String(t[s]));return i},b=(0,c.cn)(u.code),x=function(){var e=(0,c.Dv)(b,s.yE);return{t:y,langCode:e}}},1718:(e,t,n)=>{"use strict";n.d(t,{e_:()=>i,yE:()=>a});var r=n(9886),a=(n(2791),Symbol()),i=(0,r.Vv)()},9057:(e,t,n)=>{"use strict";n.d(t,{E0:()=>s,Ge:()=>c,OA:()=>l,Wl:()=>o,aU:()=>a,tW:()=>i});var r=n(5320),a={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR",S:"KeyS"},i={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:r.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},o=function(e){return e===i.ARROW_LEFT||e===i.ARROW_RIGHT||e===i.ARROW_DOWN||e===i.ARROW_UP},l=function(e){return e.altKey},s=function(e){return e.shiftKey},c=function(e){return e.shiftKey}},7540:(e,t,n)=>{"use strict";n.d(t,{EK:()=>C,H5:()=>d,Jj:()=>S,LW:()=>u,N_:()=>x,Ni:()=>p,U1:()=>l,c9:()=>h,eH:()=>k,ep:()=>M,g6:()=>f,lk:()=>E,mW:()=>_,wC:()=>g,xj:()=>s,yB:()=>b,yW:()=>y,yq:()=>c});var r=n(885),a=n(5320),i=n(1710),o=n(4937),l=function(e,t,n,r,a){return[(e-n)*Math.cos(a)-(t-r)*Math.sin(a)+n,(e-n)*Math.sin(a)+(t-r)*Math.cos(a)+r]},s=function(e,t,n){return l(e[0],e[1],t[0],t[1],n)},c=function(e,t,n,r,a,i,o,l){var s=Math.cos(r),c=Math.sin(r);return e.e&&e.w?t+=a+o:e.e?(t+=a*(1+s),n+=a*c,t+=o*(1-s),n+=o*-c):e.w&&(t+=a*(1-s),n+=a*-c,t+=o*(1+s),n+=o*c),e.n&&e.s?n+=i+l:e.n?(t+=i*c,n+=i*(1-s),t+=l*-c,n+=l*(1+s)):e.s&&(t+=i*-c,n+=i*(1+s),t+=l*c,n+=l*(1-s)),[t,n]},u=function(e,t,n,r){var a=n-e,i=r-t;return Math.hypot(a,i)},d=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length>=3){var n=[e[0],e[e.length-1]],r=n[0],i=n[1];return u(r[0],r[1],i[0],i[1])<=a.qx/t}return!1},h=function(e,t,n){var r=e.length;if(r<3)return!1;for(var a=[Number.MAX_SAFE_INTEGER,n],i=[t,n],o=0,l=0;l<r;l++){var s=e[l],c=e[(l+1)%r];if(m(s,c,i,a)){if(0===v(s,i,c))return p(s,i,c);o++}}return o%2===1},p=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])},v=function(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r>0?1:2},m=function(e,t,n,r){var a=v(e,t,n),i=v(e,t,r),o=v(n,r,e),l=v(n,r,t);return a!==i&&o!==l||(!(0!==a||!p(e,n,t))||(!(0!==i||!p(e,r,t))||(!(0!==o||!p(n,e,r))||!(0!==l||!p(n,t,r)))))},g=function(e,t,n){return n?[Math.round(e/n)*n,Math.round(t/n)*n]:[e,t]},y=function(e,t){var n,r,i;if((null===(n=t.roundness)||void 0===n?void 0:n.type)===a.a6.PROPORTIONAL_RADIUS||(null===(r=t.roundness)||void 0===r?void 0:r.type)===a.a6.LEGACY)return e*a.Rx;if((null===(i=t.roundness)||void 0===i?void 0:i.type)===a.a6.ADAPTIVE_RADIUS){var o,l,s=null!==(o=null===(l=t.roundness)||void 0===l?void 0:l.value)&&void 0!==o?o:a._9;return e<=s/a.Rx?e*a.Rx:s}return 0},b=function(e,t){var n=o.R.generateElementShape(e);if(!n)return null;for(var r=(0,i.CM)(n[0]),a=[0,0],l=0,s=1/0,c=null;l<r.length;){var d=r[l],f=d.op,h=d.data;if("move"===f&&(a=h),"bcurveTo"===f){var p=a,v=[h[0],h[1]],m=[h[2],h[3]],g=[h[4],h[5]],y=u(g[0],g[1],t[0],t[1]);y<s&&(s=y,c=[p,v,m,g]),a=g}l++}return c},x=function(e,t,n,r,a){var i=function(a,i){return Math.pow(1-a,3)*r[i]+3*a*Math.pow(1-a,2)*n[i]+3*Math.pow(a,2)*(1-a)*t[i]+e[i]*Math.pow(a,3)};return[i(a,0),i(a,1)]},w=function(e,t){var n=[];n[0]=0;for(var r=function(e,t){var n=b(e,t);if(!n)return[];for(var r=[],a=1;a>0;){var i=x(n[0],n[1],n[2],n[3],a);r.push([i[0],i[1]]),a-=.05}return r.length&&S(r.at(-1),t)&&r.push([t[0],t[1]]),r}(e,t),a=0,i=0;a<r.length-1;){i+=u(r[a][0],r[a][1],r[a+1][0],r[a+1][1]),n.push(i),a++}return n},k=function(e,t){return w(e,t).at(-1)},E=function(e,t,n){for(var r=w(e,t),a=r.length-1,i=n*r.at(-1),o=0,l=a,s=0;o<l;)r[s=Math.floor(o+(l-o)/2)]<i?o=s+1:l=s;return r[s]>i&&s--,r[s]===i?s/a:1-(s+(i-r[s])/(r[s+1]-r[s]))/a},S=function(e,t){return e[0]===t[0]&&e[1]===t[1]},C=function(e){return Math.round(e/Math.PI*1e4)%5e3===0},M=function(e,t){var n=(0,r.Z)(e,2),a=n[0],i=n[1],o=(0,r.Z)(t,2),l=o[0],s=o[1];return a<=l?i>=l:a>=l&&s>=a},_=function(e,t){var n=Math.max(e[0],t[0]),r=Math.min(e[1],t[1]);return n<=r?[n,r]:null}},3037:(e,t,n)=>{"use strict";n.d(t,{y8:()=>b,NL:()=>w,$D:()=>k});var r=n(4165),a=n(531),i=n(1413),o=n(5972),l=n(6462),s=n(3371),c=(n(5320),n(9381),n(7422)),u=(n(3310),n(6864)),d=n(2793);function f(e){return[Math.min(e[0][0],e[1][0]),Math.min(e[0][1],e[1][1]),Math.max(e[0][0],e[1][0]),Math.max(e[0][1],e[1][1])]}function h(e,t){return e[0]*t[1]-t[0]*e[1]}function p(e,t){return[e[0]-t[0],e[1]-t[1]]}var v=1e-6;function m(e,t){var n=h(p(e[1],e[0]),p(t,e[0]));return Math.abs(n)<v}function g(e,t){return h(p(e[1],e[0]),p(t,e[0]))<0}function y(e,t){return m(e,t[0])||m(e,t[1])||(g(e,t[0])?!g(e,t[1]):g(e,t[1]))}function b(e,t){return function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}(f(e),f(t))&&y(e,t)&&y(t,e)}n(5529),n(7540),n(7105),n(2775),n(4875);var x=function(e){var t=new u.Z;return t.replaceAllElements((0,d._N)(e)),t.getNonDeletedElements()},w=function(e){var t=e.elements,n=e.appState,r=e.files,a=e.maxWidthOrHeight,l=e.getDimensions,c=e.exportPadding,u=(0,s.nu)({elements:t,appState:n},null,null),d=u.elements,f=u.appState,h=f.exportBackground,p=f.viewBackgroundColor;return(0,o.NL)(x(d),(0,i.Z)((0,i.Z)({},f),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),r||{},{exportBackground:h,exportPadding:c,viewBackgroundColor:p},(function(e,t){var r,i=document.createElement("canvas");if(a){var o;"function"===typeof l&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var s=Math.max(e,t),c=a<s?a/s:null!==(o=null===n||void 0===n?void 0:n.exportScale)&&void 0!==o?o:1;return i.width=e*c,i.height=t*c,{canvas:i,scale:c}}var u=(null===l||void 0===l?void 0:l(e,t))||{width:e,height:t};return i.width=u.width,i.height=u.height,{canvas:i,scale:null!==(r=u.scale)&&void 0!==r?r:1}}))},k=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,u,d,f,h,p,v,m,g,y;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.elements,a=t.appState,u=void 0===a?(0,l.im)():a,d=t.files,f=void 0===d?{}:d,h=t.exportPadding,p=t.renderEmbeddables,v=(0,s.nu)({elements:n,appState:u},null,null),m=v.elements,g=v.appState,y=(0,i.Z)((0,i.Z)({},g),{},{exportPadding:h}),e.abrupt("return",(0,o.$D)(x(m),y,f,{renderEmbeddables:p,serializeAsJSON:function(){return(0,c.I_)(m,y,f||{},"local")}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},9525:(e,t,n)=>{"use strict";n.d(t,{k:()=>a,z:()=>i});var r=n(2982),a=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{width:Math.max.apply(Math,(0,r.Z)(t))-Math.min.apply(Math,(0,r.Z)(t)),height:Math.max.apply(Math,(0,r.Z)(n))-Math.min.apply(Math,(0,r.Z)(n))}},i=function(e,t,n,a){var i=n.map((function(t){return t[e]})),o=Math.max.apply(Math,(0,r.Z)(i)),l=Math.min.apply(Math,(0,r.Z)(i)),s=o-l,c=0===s?1:t/s,u=1/0,d=n.map((function(t){var n=t[e]*c,a=(0,r.Z)(t);return a[e]=n,n<u&&(u=n),a}));if(!a)return d;if(2===d.length)return d;var f=l-u;return d.map((function(t){return t.map((function(t,n){return n===e?t+f:t}))}))}},3859:(e,t,n)=>{"use strict";n.d(t,{LU:()=>s,kb:()=>c});var r=n(6839),a=n(4172),i=n(7253),o=new r.k(Date.now()),l=0,s=function(){return Math.floor(o.next()*Math.pow(2,31))},c=function(){return(0,i.h2)()?"id".concat(l++):(0,a.x0)()}},2775:(e,t,n)=>{"use strict";n.d(t,{Dn:()=>W,Xx:()=>Y,Lc:()=>ne,lw:()=>$,Rg:()=>ee,uI:()=>q});var r=n(1413),a=n(885),i=n(5529),o=n(1710),l=n(7253),s=n(7540),c=n(7711),u=n(6462),d=n(5320),f=n(2982);function h(e,t,n){return e*(arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e})(.5-t*(.5-n))}function p(e,t){return[e[0]+t[0],e[1]+t[1]]}function v(e,t){return[e[0]-t[0],e[1]-t[1]]}function m(e,t){return[e[0]*t,e[1]*t]}function g(e){return[e[1],-e[0]]}function y(e,t){return e[0]*t[0]+e[1]*t[1]}function b(e,t){return e[0]===t[0]&&e[1]===t[1]}function x(e,t){return function(e){return e[0]*e[0]+e[1]*e[1]}(v(e,t))}function w(e){return function(e,t){return[e[0]/t,e[1]/t]}(e,function(e){return Math.hypot(e[0],e[1])}(e))}function k(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function E(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=e[0]-t[0],o=e[1]-t[1],l=i*r+o*a;return[i*a-o*r+t[0],l+t[1]]}function S(e,t,n){return p(e,m(v(t,e),n))}function C(e,t,n){return p(e,m(t,n))}var M=Math.min,_=Math.PI,Z=.275,I=_+1e-4;function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=void 0===n?16:n,a=t.smoothing,i=void 0===a?.5:a,o=t.thinning,l=void 0===o?.5:o,s=t.simulatePressure,c=void 0===s||s,u=t.easing,d=void 0===u?function(e){return e}:u,f=t.start,b=void 0===f?{}:f,k=t.end,_=void 0===k?{}:k,T=t.last,j=void 0!==T&&T,P=b.cap,L=void 0===P||P,D=b.easing,O=void 0===D?function(e){return e*(2-e)}:D,R=_.cap,A=void 0===R||R,N=_.easing,z=void 0===N?function(e){return--e*e*e+1}:N;if(0===e.length||r<=0)return[];for(var B,F=e[e.length-1].runningLength,H=!1===b.taper?0:!0===b.taper?Math.max(r,F):b.taper,W=!1===_.taper?0:!0===_.taper?Math.max(r,F):_.taper,U=Math.pow(r*i,2),K=[],V=[],Y=e.slice(0,10).reduce((function(e,t){var n=t.pressure;if(c){var a=M(1,t.distance/r),i=M(1,1-a);n=M(1,e+a*Z*(i-e))}return(e+n)/2}),e[0].pressure),G=h(r,l,e[e.length-1].pressure,d),X=e[0].vector,q=e[0].point,$=q,Q=q,J=$,ee=!1,te=0;te<e.length;te++){var ne=e[te].pressure,re=e[te],ae=re.point,ie=re.vector,oe=re.distance,le=re.runningLength;if(!(te<e.length-1&&F-le<3)){if(l){if(c){var se=M(1,oe/r),ce=M(1,1-se);ne=M(1,Y+se*Z*(ce-Y))}G=h(r,l,ne,d)}else G=r/2;void 0===B&&(B=G);var ue=le<H?O(le/H):1,de=F-le<W?z((F-le)/W):1;G=Math.max(.01,G*Math.min(ue,de));var fe=(te<e.length-1?e[te+1]:e[te]).vector,he=te<e.length-1?y(ie,fe):1,pe=null!==he&&he<0;if(y(ie,X)<0&&!ee||pe){for(var ve=m(g(X),G),me=0;me<=1;me+=.07692307692307693)Q=E(v(ae,ve),ae,I*me),K.push(Q),J=E(p(ae,ve),ae,I*-me),V.push(J);q=Q,$=J,pe&&(ee=!0)}else if(ee=!1,te!==e.length-1){var ge=m(g(S(fe,ie,he)),G);Q=v(ae,ge),(te<=1||x(q,Q)>U)&&(K.push(Q),q=Q),J=p(ae,ge),(te<=1||x($,J)>U)&&(V.push(J),$=J),Y=ne,X=ie}else{var ye=m(g(ie),G);K.push(v(ae,ye)),V.push(p(ae,ye))}}}var be=e[0].point.slice(0,2),xe=e.length>1?e[e.length-1].point.slice(0,2):p(e[0].point,[1,1]),we=[],ke=[];if(1===e.length){if(!H&&!W||j){for(var Ee=C(be,w(g(v(be,xe))),-(B||G)),Se=[],Ce=1/13,Me=Ce;Me<=1;Me+=Ce)Se.push(E(Ee,be,2*I*Me));return Se}}else{if(!(H||W&&1===e.length))if(L)for(var _e=1/13,Ze=_e;Ze<=1;Ze+=_e){var Ie=E(V[0],be,I*Ze);we.push(Ie)}else{var Te=v(K[0],V[0]),je=m(Te,.5),Pe=m(Te,.51);we.push(v(be,je),v(be,Pe),p(be,Pe),p(be,je))}var Le=g(function(e){return[-e[0],-e[1]]}(e[e.length-1].vector));if(W||H&&1===e.length)ke.push(xe);else if(A)for(var De=C(xe,Le,G),Oe=1/29,Re=Oe;Re<1;Re+=Oe)ke.push(E(De,xe,3*I*Re));else ke.push(p(xe,m(Le,G)),p(xe,m(Le,.99*G)),v(xe,m(Le,.99*G)),v(xe,m(Le,G)))}return K.concat(ke,V.reverse(),we)}(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.streamline,a=void 0===r?.5:r,i=n.size,o=void 0===i?16:i,l=n.last,s=void 0!==l&&l;if(0===e.length)return[];var c=.15+.85*(1-a),u=Array.isArray(e[0])?e:e.map((function(e){var t=e.x,n=e.y,r=e.pressure;return[t,n,void 0===r?.5:r]}));if(2===u.length){var d=u[1];u=u.slice(0,-1);for(var h=1;h<5;h++)u.push(S(u[0],d,h/4))}1===u.length&&(u=[].concat((0,f.Z)(u),[[].concat((0,f.Z)(p(u[0],[1,1])),(0,f.Z)(u[0].slice(2)))]));for(var m=[{point:[u[0][0],u[0][1]],pressure:u[0][2]>=0?u[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],g=!1,y=0,x=m[0],E=u.length-1,C=1;C<u.length;C++){var M=s&&C===E?u[C].slice(0,2):S(x.point,u[C],c);if(!b(x.point,M)){var _=k(M,x.point);if(y+=_,C<E&&!g){if(y<o)continue;g=!0}x={point:M,pressure:u[C][2]>=0?u[C][2]:.5,vector:w(v(x.point,M)),distance:_,runningLength:y},m.push(x)}}return m[0].vector=(null==(t=m[1])?void 0:t.vector)||[0,0],m}(e,t),t)}var j=n(5016),P=n(6603),L=n(3391),D=n(4953),O=n(8410),R=n(4937),A="invert(100%) hue-rotate(180deg) saturate(1.25)",N=(0,u.im)(),z=function(e,t){return(0,i.wi)(e)&&!t.imageCache.has(e.fileId)},B=function(e,t,n){var r;return"dark"===n.theme&&(0,i.wi)(e)&&!z(e,t)&&(null===(r=t.imageCache.get(e.fileId))||void 0===r?void 0:r.mimeType)!==d.LO.svg},F=function(e){return"freedraw"===e.type?12*e.strokeWidth:20},H=function(e,t,n,r){var s,u,d=document.createElement("canvas"),f=d.getContext("2d"),h=F(e),p=function(e,t){var n=16777216,r=32767,s=F(e),c=(0,o.qf)(e),u=(0,a.Z)(c,4),d=u[0],f=u[1],h=u[2],p=u[3],v=(0,i.bt)(e)||(0,i.F9)(e)?(0,l.TE)(d,h):e.width,m=(0,i.bt)(e)||(0,i.F9)(e)?(0,l.TE)(f,p):e.height,g=v*window.devicePixelRatio+2*s,y=m*window.devicePixelRatio+2*s,b=t.value;return(g*b>r||y*b>r)&&(b=Math.min(r/g,r/y)),g*y*b*b>n&&(b=Math.sqrt(n/(g*y))),{width:g=Math.floor(g*b),height:y=Math.floor(y*b),scale:b}}(e,t),v=p.width,m=p.height,g=p.scale;d.width=v,d.height=m;var y=0,b=0;if((0,i.bt)(e)||(0,i.F9)(e)){var x=(0,o.qf)(e),w=(0,a.Z)(x,2),k=w[0],E=w[1];y=e.x>k?(0,l.TE)(e.x,k)*window.devicePixelRatio*g:0,b=e.y>E?(0,l.TE)(e.y,E)*window.devicePixelRatio*g:0,f.translate(y,b)}f.save(),f.translate(h*g,h*g),f.scale(window.devicePixelRatio*g,window.devicePixelRatio*g);var S=c.Z.canvas(d);return B(e,n,r)&&(f.filter=A),V(e,S,f,n,r),f.restore(),{element:e,canvas:d,theme:r.theme,scale:g,zoomValue:t.value,canvasOffsetX:y,canvasOffsetY:b,boundTextElementVersion:(null===(s=(0,j.WJ)(e))||void 0===s?void 0:s.version)||null,containingFrameOpacity:(null===(u=(0,D.$Z)(e))||void 0===u?void 0:u.opacity)||100}},W=14,U=document.createElement("img");U.src="data:".concat(d.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var K=document.createElement("img");K.src="data:".concat(d.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var V=function(e,t,n,r,a){var o,s;switch(n.globalAlpha=(null!==(o=null===(s=(0,D.$Z)(e))||void 0===s?void 0:s.opacity)&&void 0!==o?o:100)*e.opacity/1e4,e.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":n.lineJoin="round",n.lineCap="round",t.draw(R.R.get(e));break;case"arrow":case"line":n.lineJoin="round",n.lineCap="round",R.R.get(e).forEach((function(e){t.draw(e)}));break;case"freedraw":n.save(),n.fillStyle=e.strokeColor;var c=function(e){return te.get(e)}(e),u=R.R.get(e);u&&t.draw(u),n.fillStyle=e.strokeColor,n.fill(c),n.restore();break;case"image":var d,f=(0,i.wi)(e)?null===(d=r.imageCache.get(e.fileId))||void 0===d?void 0:d.image:void 0;null==f||f instanceof Promise?function(e,t,n){t.fillStyle="#E7E7E7",t.fillRect(0,0,e.width,e.height);var r=Math.min(e.width,e.height),a=Math.min(r,Math.min(.4*r,100));t.drawImage("error"===e.status?K:U,e.width/2-a/2,e.height/2-a/2,a,a)}(e,n,a.zoom.value):n.drawImage(f,0,0,e.width,e.height);break;default:if(!(0,i.iB)(e))throw new Error("Unimplemented type ".concat(e.type));var h=(0,l.dZ)(e.text),p=h&&!n.canvas.isConnected;p&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",h?"rtl":"ltr"),n.save(),n.font=(0,l.mO)(e),n.fillStyle=e.strokeColor,n.textAlign=e.textAlign;for(var v=e.text.replace(/\r\n?/g,"\n").split("\n"),m="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,g=(0,j.Rg)(e.fontSize,e.lineHeight),y=e.height-e.baseline,b=0;b<v.length;b++)n.fillText(v[b],m,(b+1)*g-y);n.restore(),p&&n.canvas.remove()}n.globalAlpha=1},Y=new WeakMap,G=function(e,t,n){var r,a,i=t?n.zoom:N.zoom,o=Y.get(e),l=o&&o.zoomValue!==i.value&&!(null!==n&&void 0!==n&&n.shouldCacheIgnoreZoom),s=(null===(r=(0,j.WJ)(e))||void 0===r?void 0:r.version)||null,c=(null===(a=(0,D.$Z)(e))||void 0===a?void 0:a.opacity)||100;if(!o||l||o.theme!==n.theme||o.boundTextElementVersion!==s||o.containingFrameOpacity!==c){var u=H(e,i,t,n);return Y.set(e,u),u}return o},X=function(e,t,n,r){var s=e.element,c=F(s),u=e.scale,f=(0,o.qf)(s),h=(0,a.Z)(f,4),p=h[0],v=h[1],m=h[2],g=h[3];(0,i.F9)(s)&&(p=Math.floor(p),m=Math.ceil(m),v=Math.floor(v),g=Math.ceil(g));var y=((p+m)/2+r.scrollX)*window.devicePixelRatio,b=((v+g)/2+r.scrollY)*window.devicePixelRatio;t.save(),t.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var x=(0,j.WJ)(s);if((0,i.Yv)(s)&&x){var w=document.createElement("canvas"),k=w.getContext("2d"),E=Math.max((0,l.TE)(p,m),(0,l.TE)(v,g));w.width=E*window.devicePixelRatio*u+c*e.scale*10,w.height=E*window.devicePixelRatio*u+c*e.scale*10;var S=(w.width-e.canvas.width)/2,C=(w.height-e.canvas.height)/2;k.translate(w.width/2,w.height/2),k.rotate(s.angle),k.drawImage(e.canvas,-e.canvas.width/2,-e.canvas.height/2,e.canvas.width,e.canvas.height);var M=(0,o.qf)(x),_=(0,a.Z)(M,6),Z=_[4],I=_[5];k.rotate(-s.angle);var T=w.width/2-(Z-p)*window.devicePixelRatio*u-S-c*u,P=w.height/2-(I-v)*window.devicePixelRatio*u-C-c*u;k.translate(-T,-P),k.clearRect(-(x.width/2+d.gK)*window.devicePixelRatio*u,-(x.height/2+d.gK)*window.devicePixelRatio*u,(x.width+2*d.gK)*window.devicePixelRatio*u,(x.height+2*d.gK)*window.devicePixelRatio*u),t.translate(y,b),t.drawImage(w,-(m-p)/2*window.devicePixelRatio-S/u-c,-(g-v)/2*window.devicePixelRatio-C/u-c,w.width/u,w.height/u)}else if(t.translate(y,b),t.rotate(s.angle),"scale"in e.element&&!z(s,n)&&t.scale(e.element.scale[0],e.element.scale[1]),t.translate(-y,-b),t.drawImage(e.canvas,(p+r.scrollX)*window.devicePixelRatio-c*e.scale/e.scale,(v+r.scrollY)*window.devicePixelRatio-c*e.scale/e.scale,e.canvas.width/e.scale,e.canvas.height/e.scale),"true"===(void 0).VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX&&(0,i.Xo)(s)){var L=(0,j.WJ)(s),D=(0,j.cw)(s);t.strokeStyle="#c92a2a",t.lineWidth=3,t.strokeRect((D.x+r.scrollX)*window.devicePixelRatio,(D.y+r.scrollY)*window.devicePixelRatio,(0,j.iZ)(s)*window.devicePixelRatio,(0,j.D9)(s,L)*window.devicePixelRatio)}t.restore()},q=function(e,t,n){t.save(),t.translate(e.x+n.scrollX,e.y+n.scrollY),t.fillStyle="rgba(0, 0, 200, 0.04)";var r=.5/n.zoom.value;t.fillRect(r,r,e.width,e.height),t.lineWidth=1/n.zoom.value,t.strokeStyle=" rgb(105, 101, 219)",t.strokeRect(r,r,e.width,e.height),t.restore()},$=function(e,t,n,r,u){switch(e.type){case"frame":!r.isExporting&&u.frameRendering.enabled&&u.frameRendering.outline&&(n.save(),n.translate(e.x+u.scrollX,e.y+u.scrollY),n.fillStyle="rgba(0, 0, 200, 0.04)",n.lineWidth=2/u.zoom.value,n.strokeStyle=d.iG.strokeColor,d.iG.radius&&n.roundRect?(n.beginPath(),n.roundRect(0,0,e.width,e.height,d.iG.radius/u.zoom.value),n.stroke(),n.closePath()):n.strokeRect(0,0,e.width,e.height),n.restore());break;case"freedraw":if(R.R.generateElementShape(e),r.isExporting){var f=(0,o.qf)(e),h=(0,a.Z)(f,4),p=h[0],v=h[1],m=h[2],g=h[3],y=(p+m)/2+u.scrollX,b=(v+g)/2+u.scrollY,x=(m-p)/2-(e.x-p),w=(g-v)/2-(e.y-v);n.save(),n.translate(y,b),n.rotate(e.angle),n.translate(-x,-w),V(e,t,n,r,u),n.restore()}else{var k=G(e,r,u);X(k,n,r,u)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"embeddable":if(R.R.generateElementShape(e,r.isExporting),r.isExporting){var E=(0,o.qf)(e),S=(0,a.Z)(E,4),C=S[0],M=S[1],_=S[2],Z=S[3],I=(C+_)/2+u.scrollX,T=(M+Z)/2+u.scrollY,L=(_-C)/2-(e.x-C),D=(Z-M)/2-(e.y-M);if((0,i.iB)(e)){var O=(0,j.tl)(e);if((0,i.Yv)(O)){var A=P._.getBoundTextElementPosition(O,e);L=(_-C)/2-(A.x-C),D=(Z-M)/2-(A.y-M)}}n.save(),n.translate(I,T),B(e,r,u)&&(n.filter="none");var N=(0,j.WJ)(e);if((0,i.Yv)(e)&&N){var z=document.createElement("canvas"),H=z.getContext("2d"),W=Math.max((0,l.TE)(C,_),(0,l.TE)(M,Z)),U=F(e);z.width=W*u.exportScale+10*U*u.exportScale,z.height=W*u.exportScale+10*U*u.exportScale,H.translate(z.width/2,z.height/2),H.scale(u.exportScale,u.exportScale),L=e.width/2-(e.x-C),D=e.height/2-(e.y-M),H.rotate(e.angle);var K=c.Z.canvas(z);H.translate(-L,-D),V(e,K,H,r,u),H.translate(L,D),H.rotate(-e.angle);var Y=(0,o.qf)(N),q=(0,a.Z)(Y,6),$=(C+_)/2-q[4],Q=(M+Z)/2-q[5];H.translate(-$,-Q),H.clearRect(-N.width/2,-N.height/2,N.width,N.height),n.scale(1/u.exportScale,1/u.exportScale),n.drawImage(z,-z.width/2,-z.height/2,z.width,z.height)}else n.rotate(e.angle),"image"===e.type&&n.scale(e.scale[0],e.scale[1]),n.translate(-L,-D),V(e,t,n,r,u);n.restore()}else{var J=G(e,r,u),ee=n.imageSmoothingEnabled;null!==u&&void 0!==u&&u.shouldCacheIgnoreZoom||e.angle&&!(0,s.EK)(e.angle)||(n.imageSmoothingEnabled=!1),X(J,n,r,u),n.imageSmoothingEnabled=ee}break;default:throw new Error("Unimplemented type ".concat(e.type))}},Q=function(e,t,n){if("undefined"===typeof n)return e.draw(t);var a={sets:t.sets,shape:t.shape,options:(0,r.Z)((0,r.Z)({},t.options),{},{fixedDecimalPlaceDigits:n})};return e.draw(a)},J=function(e,t,n,r){var a=(0,D.$Z)(e);if(a&&a.id===r){var i=t.ownerDocument.createElementNS(d.hR,"g");return i.setAttributeNS(d.hR,"clip-path","url(#".concat(a.id,")")),n.forEach((function(e){return i.appendChild(e)})),i}return null},ee=function e(t,n,r,c,u,f,h,p,v){var m,g,y=u,b=f,x=(0,o.qf)(t),w=(0,a.Z)(x,4),k=w[0],E=w[1],S=w[2],C=w[3],M=(S-k)/2-(t.x-k),_=(C-E)/2-(t.y-E);if((0,i.iB)(t)){var Z=(0,j.tl)(t);if((0,i.Yv)(Z)){var I=(0,o.qf)(Z),T=(0,a.Z)(I,4),N=T[0],z=T[1],B=T[2],F=T[3],H=P._.getBoundTextElementPosition(Z,t);M=(B-N)/2-(H.x-N),_=(F-z)/2-(H.y-z),u=u+H.x-t.x,f=f+H.y-t.y}}var W=180*t.angle/Math.PI,U=r;if(t.link){var K=r.ownerDocument.createElementNS(d.hR,"a");K.setAttribute("href",(0,O.$u)(t.link)),U.appendChild(K),U=K}var V=(null!==(m=null===(g=(0,D.$Z)(t))||void 0===g?void 0:g.opacity)&&void 0!==m?m:100)*t.opacity/1e4;switch(t.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":var Y=R.R.generateElementShape(t),G=Q(n,Y,d.zK);1!==V&&(G.setAttribute("stroke-opacity","".concat(V)),G.setAttribute("fill-opacity","".concat(V))),G.setAttribute("stroke-linecap","round"),G.setAttribute("transform","translate(".concat(u||0," ").concat(f||0,") rotate(").concat(W," ").concat(M," ").concat(_,")"));var X=J(t,U,[G],p);X?U.appendChild(X):U.appendChild(G);break;case"embeddable":var q=R.R.generateElementShape(t,!0),$=Q(n,q,d.zK),ee=t.opacity/100;1!==ee&&($.setAttribute("stroke-opacity","".concat(ee)),$.setAttribute("fill-opacity","".concat(ee))),$.setAttribute("stroke-linecap","round"),$.setAttribute("transform","translate(".concat(u||0," ").concat(f||0,") rotate(").concat(W," ").concat(M," ").concat(_,")")),U.appendChild($);var te=(0,L.g0)(t);e(te,n,U,c,te.x+y-t.x,te.y+b-t.y,h,p,v);var ne=Q(n,q,d.zK);for(ne.setAttribute("stroke-linecap","round"),ne.setAttribute("transform","translate(".concat(u||0," ").concat(f||0,") rotate(").concat(W," ").concat(M," ").concat(_,")"));ne.firstChild;)ne.removeChild(ne.firstChild);var ae=(0,s.yW)(Math.min(t.width,t.height),t),ie=(0,L.LM)((0,O.ye)(t.link||""));if(!1===v||"document"===(null===ie||void 0===ie?void 0:ie.type)){var oe=r.ownerDocument.createElementNS(d.hR,"a");oe.setAttribute("href",(0,O.$u)(t.link||"")),oe.setAttribute("target","_blank"),oe.setAttribute("rel","noopener noreferrer"),oe.style.borderRadius="".concat(ae,"px"),ne.appendChild(oe)}else{var le,se=r.ownerDocument.createElementNS(d.hR,"foreignObject");se.style.width="".concat(t.width,"px"),se.style.height="".concat(t.height,"px"),se.style.border="none";var ce=se.ownerDocument.createElementNS(d.hR,"div");ce.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),ce.style.width="100%",ce.style.height="100%";var ue=ce.ownerDocument.createElement("iframe");ue.src=null!==(le=null===ie||void 0===ie?void 0:ie.link)&&void 0!==le?le:"",ue.style.width="100%",ue.style.height="100%",ue.style.border="none",ue.style.borderRadius="".concat(ae,"px"),ue.style.top="0",ue.style.left="0",ue.allowFullscreen=!0,ce.appendChild(ue),se.appendChild(ce),ne.appendChild(se)}U.appendChild(ne);break;case"line":case"arrow":var de=(0,j.WJ)(t),fe=r.ownerDocument.createElementNS(d.hR,"mask");if(de){fe.setAttribute("id","mask-".concat(t.id));var he=r.ownerDocument.createElementNS(d.hR,"rect");u=u||0,f=f||0,he.setAttribute("x","0"),he.setAttribute("y","0"),he.setAttribute("fill","#fff"),he.setAttribute("width","".concat(t.width+100+u)),he.setAttribute("height","".concat(t.height+100+f)),fe.appendChild(he);var pe=r.ownerDocument.createElementNS(d.hR,"rect"),ve=P._.getBoundTextElementPosition(t,de),me=u+ve.x-t.x,ge=f+ve.y-t.y;pe.setAttribute("x",me.toString()),pe.setAttribute("y",ge.toString()),pe.setAttribute("fill","#000"),pe.setAttribute("width","".concat(de.width)),pe.setAttribute("height","".concat(de.height)),pe.setAttribute("opacity","1"),fe.appendChild(pe)}var ye=r.ownerDocument.createElementNS(d.hR,"g");de&&ye.setAttribute("mask","url(#mask-".concat(t.id,")")),ye.setAttribute("stroke-linecap","round"),R.R.generateElementShape(t).forEach((function(e){var r=Q(n,e,d.zK);1!==V&&(r.setAttribute("stroke-opacity","".concat(V)),r.setAttribute("fill-opacity","".concat(V))),r.setAttribute("transform","translate(".concat(u||0," ").concat(f||0,") rotate(").concat(W," ").concat(M," ").concat(_,")")),"line"===t.type&&(0,s.g6)(t.points)&&"transparent"!==t.backgroundColor&&r.setAttribute("fill-rule","evenodd"),ye.appendChild(r)}));var be=J(t,U,[ye,fe],p);be?U.appendChild(be):(U.appendChild(ye),U.append(fe));break;case"freedraw":var xe=R.R.generateElementShape(t),we=xe?Q(n,xe,d.zK):r.ownerDocument.createElementNS(d.hR,"g");1!==V&&(we.setAttribute("stroke-opacity","".concat(V)),we.setAttribute("fill-opacity","".concat(V))),we.setAttribute("transform","translate(".concat(u||0," ").concat(f||0,") rotate(").concat(W," ").concat(M," ").concat(_,")")),we.setAttribute("stroke","none");var ke=r.ownerDocument.createElementNS(d.hR,"path");ke.setAttribute("fill",t.strokeColor),ke.setAttribute("d",re(t)),we.appendChild(ke);var Ee=J(t,U,[we],p);Ee?U.appendChild(Ee):U.appendChild(we);break;case"image":var Se=Math.round(t.width),Ce=Math.round(t.height),Me=(0,i.wi)(t)&&c[t.fileId];if(Me){var _e="image-".concat(Me.id),Ze=r.querySelector("#".concat(_e));if(!Ze){(Ze=r.ownerDocument.createElementNS(d.hR,"symbol")).id=_e;var Ie=r.ownerDocument.createElementNS(d.hR,"image");Ie.setAttribute("width","100%"),Ie.setAttribute("height","100%"),Ie.setAttribute("href",Me.dataURL),Ze.appendChild(Ie),U.prepend(Ze)}var Te=r.ownerDocument.createElementNS(d.hR,"use");if(Te.setAttribute("href","#".concat(_e)),h&&Me.mimeType!==d.LO.svg&&Te.setAttribute("filter",A),Te.setAttribute("width","".concat(Se)),Te.setAttribute("height","".concat(Ce)),Te.setAttribute("opacity","".concat(V)),1!==t.scale[0]||1!==t.scale[1]){var je=1!==t.scale[0]?-Se:0,Pe=1!==t.scale[1]?-Ce:0;Te.setAttribute("transform","scale(".concat(t.scale[0],", ").concat(t.scale[1],") translate(").concat(je," ").concat(Pe,")"))}var Le=r.ownerDocument.createElementNS(d.hR,"g");Le.appendChild(Te),Le.setAttribute("transform","translate(".concat(u||0," ").concat(f||0,") rotate(").concat(W," ").concat(M," ").concat(_,")"));var De=J(t,U,[Le],p);De?U.appendChild(De):U.appendChild(Le)}break;case"frame":break;default:if(!(0,i.iB)(t))throw new Error("Unimplemented type ".concat(t.type));var Oe=r.ownerDocument.createElementNS(d.hR,"g");1!==V&&(Oe.setAttribute("stroke-opacity","".concat(V)),Oe.setAttribute("fill-opacity","".concat(V))),Oe.setAttribute("transform","translate(".concat(u||0," ").concat(f||0,") rotate(").concat(W," ").concat(M," ").concat(_,")"));for(var Re=t.text.replace(/\r\n?/g,"\n").split("\n"),Ae=(0,j.Rg)(t.fontSize,t.lineHeight),Ne="center"===t.textAlign?t.width/2:"right"===t.textAlign?t.width:0,ze=(0,l.dZ)(t.text)?"rtl":"ltr",Be="center"===t.textAlign?"middle":"right"===t.textAlign||"rtl"===ze?"end":"start",Fe=0;Fe<Re.length;Fe++){var He=r.ownerDocument.createElementNS(d.hR,"text");He.textContent=Re[Fe],He.setAttribute("x","".concat(Ne)),He.setAttribute("y","".concat(Fe*Ae)),He.setAttribute("font-family",(0,l.$g)(t)),He.setAttribute("font-size","".concat(t.fontSize,"px")),He.setAttribute("font-weight","".concat(t.fontWeight)),He.setAttribute("fill",t.strokeColor),He.setAttribute("text-anchor",Be),He.setAttribute("style","white-space: pre;"),He.setAttribute("direction",ze),He.setAttribute("dominant-baseline","text-before-edge"),Oe.appendChild(He)}var We=J(t,U,[Oe],p);We?U.appendChild(We):U.appendChild(Oe)}},te=new WeakMap([]);function ne(e){var t=re(e),n=new Path2D(t);return te.set(e,n),n}function re(e){return function(e){if(!e.length)return"";var t=e.length-1;return e.reduce((function(e,n,r,a){return r===t?e.push(n,ae(n,a[0]),"L",a[0],"Z"):e.push(n,ae(n,a[r+1])),e}),["M",e[0],"Q"]).join(" ").replace(ie,"$1")}(T(e.simulatePressure?e.points:e.points.length?e.points.map((function(t,n){var r=(0,a.Z)(t,2);return[r[0],r[1],e.pressures[n]]})):[[0,0,.5]],{simulatePressure:e.simulatePressure,size:4.25*e.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(e){return Math.sin(e*Math.PI/2)},last:!!e.lastCommittedPoint}))}function ae(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}var ie=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},8841:(e,t,n)=>{"use strict";n.d(t,{Lu:()=>I,n_:()=>U,tp:()=>F,M_:()=>J,AW:()=>W});var r,a=n(7762),i=n(2982),o=n(885),l=n(9495),s=n(4991),c=function(e,t,n,r,a,i,o){e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+a-i),e.quadraticCurveTo(t+r,n+a,t+r-i,n+a),e.lineTo(t+i,n+a),e.quadraticCurveTo(t,n+a,t,n+a-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),e.fill(),o&&(e.strokeStyle=o),e.stroke()},u=n(8190),d=n(2775),f=n(3193),h=n(6603),p=n(5034),v=n(3071),m=n(5049),g=n(7253),y=function(e){return e.ACTIVE="active",e.AWAY="away",e.IDLE="idle",e}({}),b=n(5320),x=n(7570),w=function(e,t,n){if(!n.zenModeEnabled){var r=e.points[0],i=e.points[e.points.length-1];S(r,i,t)}var o,l=(0,a.Z)(e.points);try{for(l.s();!(o=l.n()).done;){var s=o.value;E(s,n,t)}}catch(c){l.e(c)}finally{l.f()}},k=function(e,t,n){E(e.points[0],n,t),n.zenModeEnabled||S(e.points[0],e.points[1],t)},E=function(e,t,n){var r=(0,o.Z)(e,2),a=r[0],i=r[1];n.save();var l=(t.zenModeEnabled?3:2)/t.zoom.value;n.beginPath(),n.moveTo(a-l,i-l),n.lineTo(a+l,i+l),n.moveTo(a+l,i-l),n.lineTo(a-l,i+l),n.stroke(),n.restore()},S=function(e,t,n){n.beginPath(),n.lineTo.apply(n,(0,i.Z)(e)),n.lineTo.apply(n,(0,i.Z)(t)),n.stroke()},C=function(e,t,n,r,a){var i=8/r.zoom.value,o=i/2,l=i/4;if("horizontal"===n){var s=[(e[0]+t[0])/2,e[1]];r.zenModeEnabled||S([e[0],e[1]-i],[e[0],e[1]+i],a),S([s[0]-l,s[1]-o],[s[0]-l,s[1]+o],a),S([s[0]+l,s[1]-o],[s[0]+l,s[1]+o],a),r.zenModeEnabled||(S([t[0],t[1]-i],[t[0],t[1]+i],a),S(e,t,a))}else{var c=[e[0],(e[1]+t[1])/2];r.zenModeEnabled||S([e[0]-i,e[1]],[e[0]+i,e[1]],a),S([c[0]-o,c[1]-l],[c[0]+o,c[1]-l],a),S([c[0]-o,c[1]+l],[c[0]+o,c[1]+l],a),r.zenModeEnabled||(S([t[0]-i,t[1]],[t[0]+i,t[1]],a),S(e,t,a))}},M=n(5529),_=n(3391),Z=n(4953),I=(n(3309),2),T=function(e,t,n,r,a,i,o,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;e.save(),e.translate(i,o),e.rotate(l),s&&e.fillRect(t-i,n-o,r,a),c&&e.roundRect?(e.beginPath(),e.roundRect(t-i,n-o,r,a,c),e.stroke(),e.closePath()):e.strokeRect(t-i,n-o,r,a),e.restore()},j=function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),a&&e.stroke()},P=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e.strokeStyle="#5e5ad8",e.setLineDash([]),e.fillStyle="rgba(255, 255, 255, 0.9)",a?e.fillStyle="rgba(134, 131, 226, 0.9)":i&&(e.fillStyle="rgba(177, 151, 252, 0.7)"),j(e,n[0],n[1],r/t.zoom.value,!i)},L=function(e,t,n){if(t.selectedLinearElement){e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=1/t.zoom.value;var r=h._.getPointsGlobalCoordinates(n),a=h._.POINT_HANDLE_SIZE,i=t.editingLinearElement?a:a/2;r.forEach((function(n,r){var a,o,l=!(null===(a=t.editingLinearElement)||void 0===a||null===(o=a.selectedPointsIndices)||void 0===o||!o.includes(r));P(e,t,n,i,l)})),h._.getEditorMidPoints(n,t).filter((function(e){return null!==e})).forEach((function(n){var o;null!==t&&void 0!==t&&null!==(o=t.selectedLinearElement)&&void 0!==o&&o.segmentMidPointHoveredCoords&&h._.arePointsEqual(n,t.selectedLinearElement.segmentMidPointHoveredCoords)?t.editingLinearElement?(P(e,t,n,i,!1),D(n,e,t)):(D(n,e,t),P(e,t,n,i,!1)):(t.editingLinearElement||2===r.length)&&P(e,t,n,a/2,!1,!0)})),e.restore()}},D=function(e,t,n){t.fillStyle="rgba(105, 101, 219, 0.4)",j(t,e[0],e[1],h._.POINT_HANDLE_SIZE/n.zoom.value,!1)},O=function(e,t,n,r){t.translate(e.x+r.scrollX,e.y+r.scrollY),t.beginPath(),t.roundRect&&!n.isExporting?t.roundRect(0,0,e.width,e.height,b.iG.radius/r.zoom.value):t.rect(0,0,e.width,e.height),t.clip(),t.translate(-(e.x+r.scrollX),-(e.y+r.scrollY))},R=function(e,t){return[e.width/t,e.height/t]},A=function(e){var t=e.canvas,n=e.scale,r=e.normalizedWidth,a=e.normalizedHeight,i=e.theme,o=e.isExporting,l=e.viewBackgroundColor,s=t.getContext("2d");(s.setTransform(1,0,0,1,0,0),s.scale(n,n),o&&"dark"===i&&(s.filter=b.ZF),"string"===typeof l)?(("transparent"===l||5===l.length||9===l.length||/(hsla|rgba)\(/.test(l))&&s.clearRect(0,0,r,a),s.save(),s.fillStyle=l,s.fillRect(0,0,r,a),s.restore()):s.clearRect(0,0,r,a);return s},N=function(e){var t,n=e.canvas,r=e.elements,v=e.visibleElements,g=e.selectedElements,b=e.scale,x=e.appState,E=e.renderConfig;if(null===n)return{atLeastOneVisibleElement:!1,elements:r};var S=R(n,b),_=(0,o.Z)(S,2),Z=_[0],j=_[1],P=A({canvas:n,scale:b,normalizedWidth:Z,normalizedHeight:j});P.save(),P.scale(x.zoom.value,x.zoom.value);var O=void 0;if(v.forEach((function(e){var t;(null===(t=x.editingLinearElement)||void 0===t?void 0:t.elementId)===e.id&&e&&(O=e)})),O&&L(P,x,O),x.selectionElement)try{(0,d.uI)(x.selectionElement,P,x)}catch(Ze){console.error(Ze)}x.isBindingEnabled&&x.suggestedBindings.filter((function(e){return null!=e})).forEach((function(e){Y(P,x,e)})),x.frameToHighlight&&X(P,x,x.frameToHighlight),x.elementsToHighlight&&q(P,x,x.elementsToHighlight);var N,z=g.some((function(e){return(0,M.He)(e)}));if(1===g.length&&(null===(t=x.editingLinearElement)||void 0===t?void 0:t.elementId)===g[0].id&&L(P,x,g[0]),x.selectedLinearElement&&x.selectedLinearElement.hoverPointIndex>=0&&function(e,t){var n,r,a=t.selectedLinearElement,i=a.elementId,o=a.hoverPointIndex;if(null===(n=t.editingLinearElement)||void 0===n||null===(r=n.selectedPointsIndices)||void 0===r||!r.includes(o)){var l=h._.getElement(i);if(l){var s=h._.getPointAtIndexGlobalCoordinates(l,o);e.save(),e.translate(t.scrollX,t.scrollY),D(s,e,t),e.restore()}}}(P,x),!x.multiElement&&!x.editingLinearElement){var B,F=(0,m.oY)(g,x);1===g.length&&(0,M.bt)(g[0])&&(null===(B=x.selectedLinearElement)||void 0===B?void 0:B.elementId)===g[0].id&&!g[0].locked&&L(P,x,g[0]);var H=E.selectionColor||l.black;if(F){var W,U=g.reduce((function(e,t){return e[t.id]=!0,e}),{}),G=r.reduce((function(e,t){var n=[];if(U[t.id]&&!(0,p.zq)(x,t)&&n.push(H),E.remoteSelectedElementIds[t.id]&&n.push.apply(n,(0,i.Z)(E.remoteSelectedElementIds[t.id].map((function(e){return(0,f.G)(e)})))),n.length){var r,a=(0,s.qf)(t,!0),l=(0,o.Z)(a,6),c=l[0],u=l[1],d=l[2],h=l[3],v=l[4],m=l[5];e.push({angle:t.angle,elementX1:c,elementY1:u,elementX2:d,elementY2:h,selectionColors:n,dashed:!!E.remoteSelectedElementIds[t.id],cx:v,cy:m,activeEmbeddable:(null===(r=x.activeEmbeddable)||void 0===r?void 0:r.element)===t&&"active"===x.activeEmbeddable.state})}return e}),[]),$=function(e){var t=(0,p.Fb)(r,e),n=(0,s.KP)(t),a=(0,o.Z)(n,4),i=a[0],c=a[1],u=a[2],d=a[3];G.push({angle:0,elementX1:i,elementX2:u,elementY1:c,elementY2:d,selectionColors:[l.black],dashed:!0,cx:i+(u-i)/2,cy:c+(d-c)/2,activeEmbeddable:!1})},Q=(0,a.Z)((0,p.iJ)(x));try{for(Q.s();!(W=Q.n()).done;){$(W.value)}}catch(Ie){Q.e(Ie)}finally{Q.f()}x.editingGroupId&&$(x.editingGroupId),G.forEach((function(e){return V(P,x,e)}))}if(P.save(),P.translate(x.scrollX,x.scrollY),1===g.length){P.fillStyle=l.white;var J=(0,s.PC)(g[0],x.zoom,"mouse");!x.viewModeEnabled&&F&&K(P,E,x,J,g[0].angle)}else if(g.length>1&&!x.isRotating){var ee=2*I/x.zoom.value;P.fillStyle=l.white;var te=(0,s.KP)(g),ne=(0,o.Z)(te,4),re=ne[0],ae=ne[1],ie=ne[2],oe=ne[3],le=P.getLineDash();P.setLineDash([2/x.zoom.value]);var se=P.lineWidth;P.lineWidth=1/x.zoom.value,P.strokeStyle=H,T(P,re-ee,ae-ee,ie-re+2*ee,oe-ae+2*ee,(re+ie)/2,(ae+oe)/2,0),P.lineWidth=se,P.setLineDash(le);var ce=(0,s.kK)([re,ae,ie,oe,(re+ie)/2,(ae+oe)/2],0,x.zoom,"mouse",z?m.Fn:s.ox);g.some((function(e){return!e.locked}))&&K(P,E,x,ce,0)}P.restore()}for(var ue in function(e,t){if(t.snapLines.length){var n="light"===t.theme||t.zenModeEnabled?"#ff6b6b":"#ff0000",r=(t.zenModeEnabled?1.5:1)/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY);var i,o=(0,a.Z)(t.snapLines);try{for(o.s();!(i=o.n()).done;){var l=i.value;"pointer"===l.type?(e.lineWidth=r,e.strokeStyle=n,k(l,e,t)):"gap"===l.type?(e.lineWidth=r,e.strokeStyle=n,C(l.points[0],l.points[1],l.direction,t,e)):"points"===l.type&&(e.lineWidth=r,e.strokeStyle=n,w(l,e,t))}}catch(Ie){o.e(Ie)}finally{o.f()}e.restore()}}(P,x),P.restore(),E.remotePointerViewportCoords){var de=E.remotePointerViewportCoords[ue],fe=de.x,he=de.y;fe-=x.offsetLeft,he-=x.offsetTop;var pe=fe<0||fe>Z-11||he<0||he>j-14;fe=Math.max(fe,0),fe=Math.min(fe,Z-11),he=Math.max(he,0),he=Math.min(he,j-14);var ve=(0,f.G)(ue);P.save(),P.strokeStyle=ve,P.fillStyle=ve;var me=E.remotePointerUserStates[ue],ge=pe||me===y.IDLE||me===y.AWAY;ge&&(P.globalAlpha=.3),E.remotePointerButton&&"down"===E.remotePointerButton[ue]&&(P.beginPath(),P.arc(fe,he,15,0,2*Math.PI,!1),P.lineWidth=3,P.strokeStyle="#ffffff88",P.stroke(),P.closePath(),P.beginPath(),P.arc(fe,he,15,0,2*Math.PI,!1),P.lineWidth=1,P.strokeStyle=ve,P.stroke(),P.closePath()),P.fillStyle=l.white,P.strokeStyle=l.white,P.lineWidth=6,P.lineJoin="round",P.beginPath(),P.moveTo(fe,he),P.lineTo(fe+0,he+14),P.lineTo(fe+4,he+9),P.lineTo(fe+11,he+8),P.closePath(),P.stroke(),P.fill(),P.fillStyle=ve,P.strokeStyle=ve,P.lineWidth=2,P.lineJoin="round",P.beginPath(),ge?(P.moveTo(fe-1,he-1),P.lineTo(fe-1,he+15),P.lineTo(fe+5,he+10),P.lineTo(fe+12,he+9),P.closePath(),P.fill()):(P.moveTo(fe,he),P.lineTo(fe+0,he+14),P.lineTo(fe+4,he+9),P.lineTo(fe+11,he+8),P.closePath(),P.fill(),P.stroke());var ye=E.remotePointerUsernames[ue]||"";if(!pe&&ye){P.font="600 12px sans-serif";var be=fe+5.5,xe=he+14+2,we=P.measureText(ye),ke=we.actualBoundingBoxDescent+we.actualBoundingBoxAscent,Ee=Math.max(ke,12),Se=be-1,Ce=xe-1,Me=we.width+2+10+2,_e=Ee+2+6+2;P.roundRect?(P.beginPath(),P.roundRect(Se,Ce,Me,_e,8),P.fillStyle=ve,P.fill(),P.strokeStyle=l.white,P.stroke()):c(P,Se,Ce,Me,_e,8,l.white),P.fillStyle=l.black,P.fillText(ye,be+5+1,xe+3+we.actualBoundingBoxAscent+Math.floor((Ee-ke)/2)+2)}P.restore(),P.closePath()}return E.renderScrollbars&&(N=(0,u.tJ)(r,Z,j,x),P.save(),P.fillStyle=u.w1,P.strokeStyle="rgba(255,255,255,0.8)",[N.horizontal,N.vertical].forEach((function(e){e&&c(P,e.x,e.y,e.width,e.height,u.nn/2)})),P.restore()),{scrollBars:N,atLeastOneVisibleElement:v.length>0,elements:r}},z=function(e){var t=e.canvas,n=e.rc,r=e.elements,a=e.visibleElements,i=e.scale,l=e.appState,s=e.renderConfig;if(null!==t){var c=s.renderGrid,u=void 0===c||c,f=s.isExporting,h=R(t,i),p=(0,o.Z)(h,2),v=p[0],m=p[1],y=A({canvas:t,scale:i,normalizedWidth:v,normalizedHeight:m,theme:l.theme,isExporting:f,viewBackgroundColor:l.viewBackgroundColor});y.scale(l.zoom.value,l.zoom.value),u&&l.gridSize&&function(e,t,n,r,a,i,o){var l=function(e){return e.Bold="#cccccc",e.Regular="#e5e5e5",e}({}),s=-Math.round(a.value/t)*t+n%t,c=-Math.round(a.value/t)*t+r%t,u=Math.min(1/a.value,1),d=1/a.value,f=[3*u,d+(u+d)];e.save(),e.lineWidth=u;for(var h=s;h<s+i+2*t;h+=t){var p=Math.round(h-n)%(5*t)===0;e.beginPath(),e.setLineDash(p?[]:f),e.strokeStyle=p?l.Bold:l.Regular,e.moveTo(h,c-t),e.lineTo(h,c+o+2*t),e.stroke()}for(var v=c;v<c+o+2*t;v+=t){var m=Math.round(v-r)%(5*t)===0;e.beginPath(),e.setLineDash(m?[]:f),e.strokeStyle=m?l.Bold:l.Regular,e.moveTo(s-t,v),e.lineTo(s+i+2*t,v),e.stroke()}e.restore()}(y,l.gridSize,l.scrollX,l.scrollY,l.zoom,v/l.zoom.value,m/l.zoom.value);var b=new Set;a.forEach((function(e){e.groupIds.length>0&&l.frameToHighlight&&l.selectedElementIds[e.id]&&((0,Z.cO)(e,l.frameToHighlight)||e.groupIds.find((function(e){return b.has(e)})))&&e.groupIds.forEach((function(e){return b.add(e)}))})),a.filter((function(e){return!(0,_.JX)(e)})).forEach((function(e){try{var t;if((e.frameId||(null===(t=l.frameToHighlight)||void 0===t?void 0:t.id))&&(s.isExporting&&(0,g.FQ)(r)||!s.isExporting&&l.frameRendering.enabled&&l.frameRendering.clip)){y.save();var a=(0,Z.cH)(e,l);a&&(0,Z.Qs)(e,r,l)&&O(a,y,s,l),(0,d.lw)(e,n,y,s,l),y.restore()}else(0,d.lw)(e,n,y,s,l);f||Q(e,y,l)}catch(i){console.error(i)}})),a.filter((function(e){return(0,_.JX)(e)})).forEach((function(e){try{var t,a=function(){if((0,d.lw)(e,n,y,s,l),(0,M.gs)(e)&&(f||!e.validated)&&e.width&&e.height){var t=(0,_.g0)(e);(0,d.lw)(t,n,y,s,l)}f||Q(e,y,l)};if((e.frameId||(null===(t=l.frameToHighlight)||void 0===t?void 0:t.id))&&(s.isExporting&&(0,g.FQ)(r)||!s.isExporting&&l.frameRendering.enabled&&l.frameRendering.clip)){y.save();var i=(0,Z.cH)(e,l);i&&(0,Z.Qs)(e,r,l)&&O(i,y,s,l),a(),y.restore()}else a()}catch(o){console.error(o)}}))}},B=(0,g.hR)((function(e){var t,n=N(e);null===(t=e.callback)||void 0===t||t.call(e,n)}),{trailing:!0}),F=function(e,t){if(!t){var n=N(e);return e.callback(n),n}B(e)},H=(0,g.hR)((function(e){z(e)}),{trailing:!0}),W=function(e,t){t?H(e):z(e)},U=function(){B.cancel(),H.cancel()},K=function(e,t,n,r,a){Object.keys(r).forEach((function(i){var l=r[i];if(void 0!==l){var s=(0,o.Z)(l,4),c=s[0],u=s[1],d=s[2],f=s[3];e.save(),e.lineWidth=1/n.zoom.value,t.selectionColor&&(e.strokeStyle=t.selectionColor),"rotation"===i?j(e,c+d/2,u+f/2,d/2):e.roundRect?(e.beginPath(),e.roundRect(c,u,d,f,2/n.zoom.value),e.fill(),e.stroke()):T(e,c,u,d,f,c+d/2,u+f/2,a,!0),e.restore()}}))},V=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*I,a=n.angle,i=n.elementX1,o=n.elementY1,l=n.elementX2,s=n.elementY2,c=n.selectionColors,u=n.cx,d=n.cy,f=n.dashed,h=n.activeEmbeddable,p=l-i,v=s-o,m=r/t.zoom.value,g=8/t.zoom.value,y=4/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=(h?4:1)/t.zoom.value;for(var b=c.length,x=0;x<b;++x)e.strokeStyle=c[x],f&&e.setLineDash([g,y+(g+y)*(b-1)]),e.lineDashOffset=(g+y)*x,T(e,i-m,o-m,p+2*m,v+2*m,u,d,a);e.restore()},Y=function(e,t,n){var r=Array.isArray(n)?$:G;e.save(),e.translate(t.scrollX,t.scrollY),r(e,n),e.restore()},G=function(e,t){var n=(0,s.qf)(t),r=(0,o.Z)(n,4),a=r[0],i=r[1],l=r[2]-a,c=r[3]-i,u=(0,v.fb)(t,l,c);e.strokeStyle="rgba(0,0,0,.05)",e.lineWidth=u-4;var d=2+u/2;switch(t.type){case"rectangle":case"text":case"image":case"embeddable":case"frame":T(e,a-d,i-d,l+2*d,c+2*d,a+l/2,i+c/2,t.angle);break;case"diamond":var f=Math.hypot(l,c);!function(e,t,n,r,a,i){e.save(),e.translate(r,a),e.rotate(i),e.beginPath(),e.moveTo(0,n/2),e.lineTo(t/2,0),e.lineTo(0,-n/2),e.lineTo(-t/2,0),e.closePath(),e.stroke(),e.restore()}(e,l+2*(d*f/c),c+2*(d*f/l),a+l/2,i+c/2,t.angle);break;case"ellipse":!function(e,t,n,r,a,i){e.beginPath(),e.ellipse(r,a,t/2,n/2,i,0,2*Math.PI),e.stroke()}(e,l+2*d,c+2*d,a+l/2,i+c/2,t.angle)}},X=function(e,t,n){var r=(0,s.qf)(n),a=(0,o.Z)(r,4),i=a[0],l=a[1],c=a[2]-i,u=a[3]-l;e.strokeStyle="rgb(0,118,255)",e.lineWidth=2*b.iG.strokeWidth/t.zoom.value,e.save(),e.translate(t.scrollX,t.scrollY),T(e,i,l,c,u,i+c/2,l+u/2,n.angle,!1,b.iG.radius/t.zoom.value),e.restore()},q=function(e,t,n){var r=n.filter((function(e){return 0===e.groupIds.length})),a=n.filter((function(e){return e.groupIds.length>0})),i=function(e){var t=(0,s.KP)(e),n=(0,o.Z)(t,4),r=n[0],a=n[1],i=n[2],l=n[3];return{angle:0,elementX1:r,elementX2:i,elementY1:a,elementY2:l,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:r+(i-r)/2,cy:a+(l-a)/2,activeEmbeddable:!1}};Object.entries((0,p.yR)(a,t)).filter((function(e){var t=(0,o.Z)(e,2);t[0];return t[1]})).map((function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];return n})).map((function(e){return function(e){var t=(0,p.Fb)(n,e);return i(t)}(e)})).concat(r.map((function(e){return i([e])}))).forEach((function(n){return V(e,t,n)}))},$=function(e,t){var n=(0,o.Z)(t,3),r=n[0],a=n[1],i=n[2],l=(0,v.fb)(i,i.width,i.height);e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="rgba(0,0,0,.05)",("both"===a?[0,-1]:"start"===a?[0]:[-1]).forEach((function(t){var n=h._.getPointAtIndexGlobalCoordinates(r,t),a=(0,o.Z)(n,2),i=a[0],s=a[1];j(e,i,s,l)}))},Q=function(e,t,n){if(e.link&&!n.selectedElementIds[e.id]){var a=(0,s.qf)(e),i=(0,o.Z)(a,4),l=i[0],c=i[1],u=i[2],d=i[3],f=(0,x.sw)([l,c,u,d],e.angle,n),h=(0,o.Z)(f,4),p=h[0],v=h[1],m=h[2],g=h[3],y=p+m/2,b=v+g/2;if(t.save(),t.translate(n.scrollX+y,n.scrollY+b),t.rotate(e.angle),r&&r.zoom===n.zoom.value)t.drawImage(r,p-y,v-b,m,g);else{(r=document.createElement("canvas")).zoom=n.zoom.value,r.width=m*window.devicePixelRatio*n.zoom.value,r.height=g*window.devicePixelRatio*n.zoom.value;var w=r.getContext("2d");w.scale(window.devicePixelRatio*n.zoom.value,window.devicePixelRatio*n.zoom.value),w.fillStyle="#fff",w.fillRect(0,0,m,g),w.drawImage(x.rj,0,0,m,g),w.restore(),t.drawImage(r,p-y,v-b,m,g)}t.restore()}},J=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=a.offsetX,o=void 0===i?0:i,l=a.offsetY,s=void 0===l?0:l,c=a.exportWithDarkMode,u=void 0!==c&&c,f=a.exportingFrameId,h=void 0===f?null:f,p=a.renderEmbeddables;n&&(e.filter((function(e){return!(0,_.JX)(e)})).forEach((function(e){if(!e.isDeleted)try{(0,d.Rg)(e,t,n,r,e.x+o,e.y+s,u,h,p)}catch(a){console.error(a)}})),e.filter((function(e){return(0,M.gs)(e)})).forEach((function(e){if(!e.isDeleted)try{(0,d.Rg)(e,t,n,r,e.x+o,e.y+s,u,h,p)}catch(a){console.error(a)}})))}},6864:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(2982),a=n(5671),i=n(3144),o=n(4991),l=n(5529),s=n(2219),c=n(3859),u=function(e){return"string"===typeof e},d=function(){function e(){var t=this;(0,a.Z)(this,e),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap=new Map,this.selectedElementsCache={selectedElementIds:null,elements:null,cache:new Map},this.versionNonce=void 0,this.addNewElement=function(e){e.frameId?t.insertElementAtIndex(e,t.getElementIndex(e.frameId)):t.replaceAllElements([].concat((0,r.Z)(t.elements),[e]))}}return(0,i.Z)(e,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getFramesIncludingDeleted",value:function(){return this.frames}},{key:"getSelectedElements",value:function(e){var t=function(e){for(var t="",n=0,r=["includeBoundTextElement","includeElementsInFrames"];n<r.length;n++){var a=r[n];t+="".concat(a,":").concat(e[a]?"1":"0")}return t}(e),n=(null===e||void 0===e?void 0:e.elements)||this.nonDeletedElements;if(this.selectedElementsCache.elements===n&&this.selectedElementsCache.selectedElementIds===e.selectedElementIds){var r=this.selectedElementsCache.cache.get(t);if(r)return r}else null==(null===e||void 0===e?void 0:e.elements)&&this.selectedElementsCache.cache.clear();var a=(0,s.eD)(n,{selectedElementIds:e.selectedElementIds},e);return null==(null===e||void 0===e?void 0:e.elements)&&(this.selectedElementsCache.selectedElementIds=e.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(t,a)),a}},{key:"getNonDeletedFrames",value:function(){return this.nonDeletedFrames}},{key:"getElement",value:function(e){return this.elementsMap.get(e)||null}},{key:"getVersionNonce",value:function(){return this.versionNonce}},{key:"getNonDeletedElement",value:function(e){var t=this.getElement(e);return t&&(0,o.qP)(t)?t:null}},{key:"mapElements",value:function(e){var t=!1,n=this.elements.map((function(n){var r=e(n);return r!==n&&(t=!0),r}));return t&&this.replaceAllElements(n),t}},{key:"replaceAllElements",value:function(t){var n=this;this.elements=t;var r=[];this.elementsMap.clear(),t.forEach((function(t){(0,l.He)(t)&&r.push(t),n.elementsMap.set(t.id,t),e.mapElementToScene(t,n)})),this.nonDeletedElements=(0,o.Lm)(this.elements),this.frames=r,this.nonDeletedFrames=(0,o.Xf)(this.frames),this.informMutation()}},{key:"informMutation",value:function(){this.versionNonce=(0,c.LU)();for(var e=0,t=Array.from(this.callbacks);e<t.length;e++){(0,t[e])()}}},{key:"addCallback",value:function(e){var t=this;if(this.callbacks.has(e))throw new Error;return this.callbacks.add(e),function(){if(!t.callbacks.has(e))throw new Error;t.callbacks.delete(e)}}},{key:"destroy",value:function(){var t=this;this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),e.sceneMapById.forEach((function(n,r){n===t&&e.sceneMapById.delete(r)})),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(e,t){if(!Number.isFinite(t)||t<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var n=[].concat((0,r.Z)(this.elements.slice(0,t)),[e],(0,r.Z)(this.elements.slice(t)));this.replaceAllElements(n)}},{key:"insertElementsAtIndex",value:function(e,t){if(!Number.isFinite(t)||t<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var n=[].concat((0,r.Z)(this.elements.slice(0,t)),(0,r.Z)(e),(0,r.Z)(this.elements.slice(t)));this.replaceAllElements(n)}},{key:"getElementIndex",value:function(e){return this.elements.findIndex((function(t){return t.id===e}))}}],[{key:"mapElementToScene",value:function(e,t){u(e)?this.sceneMapById.set(e,t):(this.sceneMapByElement.set(e,t),this.sceneMapById.set(e.id,t))}},{key:"getScene",value:function(e){return u(e)?this.sceneMapById.get(e)||null:this.sceneMapByElement.get(e)||null}}]),e}();d.sceneMapByElement=new WeakMap,d.sceneMapById=new Map;const f=d},4845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h,i:()=>v});var r=n(2982),a=n(885),i=n(1413),o=n(4991),l=n(7540),s=n(2775),c=n(7253),u=n(8631),d=n(5320),f=function(e){return[1.5,6+e]};var h=function(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={seed:e.seed,strokeLineDash:"dashed"===e.strokeStyle?(r=e.strokeWidth,[8,8+r]):"dotted"===e.strokeStyle?f(e.strokeWidth):void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:(t=Math.min(e.width,e.height),n=e.roughness,t>=50?n:n/(2+(50-t)/10)),stroke:e.strokeColor,preserveVertices:a||e.roughness<d.$h.cartoonist};switch(e.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":return i.fillStyle=e.fillStyle,i.fill=(0,c.Qm)(e.backgroundColor)?void 0:e.backgroundColor,"ellipse"===e.type&&(i.curveFitting=1),i;case"line":case"freedraw":return(0,l.g6)(e.points)&&(i.fillStyle=e.fillStyle,i.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),i;case"arrow":return i;default:throw new Error("Unimplemented type ".concat(e.type))}},p=function(e,t){return"embeddable"===e.type&&(t||!e.validated)&&(0,c.Qm)(e.backgroundColor)&&(0,c.Qm)(e.strokeColor)?(0,i.Z)((0,i.Z)({},e),{},{roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}):e},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e.type){case"rectangle":case"embeddable":var d;if(e.roundness){var v=e.width,m=e.height,g=(0,l.yW)(Math.min(v,m),e);d=t.path("M ".concat(g," 0 L ").concat(v-g," 0 Q ").concat(v," 0, ").concat(v," ").concat(g," L ").concat(v," ").concat(m-g," Q ").concat(v," ").concat(m,", ").concat(v-g," ").concat(m," L ").concat(g," ").concat(m," Q 0 ").concat(m,", 0 ").concat(m-g," L 0 ").concat(g," Q 0 0, ").concat(g," 0"),h(p(e,n),!0))}else d=t.rectangle(0,0,e.width,e.height,h(p(e,n),!1));return d;case"diamond":var y,b=(0,o.UC)(e),x=(0,a.Z)(b,8),w=x[0],k=x[1],E=x[2],S=x[3],C=x[4],M=x[5],_=x[6],Z=x[7];if(e.roundness){var I=(0,l.yW)(Math.abs(w-_),e),T=(0,l.yW)(Math.abs(S-k),e);y=t.path("M ".concat(w+I," ").concat(k+T," L ").concat(E-I," ").concat(S-T,"\n            C ").concat(E," ").concat(S,", ").concat(E," ").concat(S,", ").concat(E-I," ").concat(S+T,"\n            L ").concat(C+I," ").concat(M-T,"\n            C ").concat(C," ").concat(M,", ").concat(C," ").concat(M,", ").concat(C-I," ").concat(M-T,"\n            L ").concat(_+I," ").concat(Z+T,"\n            C ").concat(_," ").concat(Z,", ").concat(_," ").concat(Z,", ").concat(_+I," ").concat(Z-T,"\n            L ").concat(w-I," ").concat(k+T,"\n            C ").concat(w," ").concat(k,", ").concat(w," ").concat(k,", ").concat(w+I," ").concat(k+T),h(e,!0))}else y=t.polygon([[w,k],[E,S],[C,M],[_,Z]],h(e));return y;case"ellipse":return t.ellipse(e.width/2,e.height/2,e.width,e.height,h(e));case"line":case"arrow":var j,P=h(e),L=e.points.length?e.points:[[0,0]];if(j=e.roundness?[t.curve(L,P)]:P.fill?[t.polygon(L,P)]:[t.linearPath(L,P)],"arrow"===e.type){var D=e.startArrowhead,O=void 0===D?null:D,R=e.endArrowhead,A=void 0===R?"arrow":R,N=function(e,n,r,l){var s=(0,o.Y5)(e,n,r,l);if(null===s)return[];if("dot"===l){var c=(0,a.Z)(s,3),u=c[0],d=c[1],h=c[2];return[t.circle(u,d,h,(0,i.Z)((0,i.Z)({},P),{},{fill:e.strokeColor,fillStyle:"solid",stroke:"none"}))]}if("triangle"===l){var p=(0,a.Z)(s,6),v=p[0],m=p[1],g=p[2],y=p[3],b=p[4],x=p[5];return delete P.strokeLineDash,[t.polygon([[v,m],[g,y],[b,x],[v,m]],(0,i.Z)((0,i.Z)({},P),{},{fill:e.strokeColor,fillStyle:"solid"}))]}var w=(0,a.Z)(s,6),k=w[0],E=w[1],S=w[2],C=w[3],M=w[4],_=w[5];if("dotted"===e.strokeStyle){var Z=f(e.strokeWidth-1);P.strokeLineDash=[Z[0],Z[1]-1]}else delete P.strokeLineDash;return[t.line(S,C,k,E,P),t.line(M,_,k,E,P)]};if(null!==O){var z,B=N(e,j,"start",O);(z=j).push.apply(z,(0,r.Z)(B))}if(null!==A){var F,H=N(e,j,"end",A);(F=j).push.apply(F,(0,r.Z)(H))}}return j;case"freedraw":var W;if((0,s.Lc)(e),(0,l.g6)(e.points)){var U=(0,u.og)(e.points,.75);W=t.curve(U,(0,i.Z)((0,i.Z)({},h(e)),{},{stroke:"none"}))}else W=null;return W;case"frame":case"text":case"image":return null;default:return(0,c.vE)(e,"generateElementShape(): Unimplemented type ".concat(null===e||void 0===e?void 0:e.type)),null}}},4937:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var r=n(3144),a=n(5671),i=n(2870),o=n(2775),l=n(4845),s=(0,r.Z)((function e(){(0,a.Z)(this,e)}));s.rg=new i.V,s.cache=new WeakMap,s.get=function(e){return s.cache.get(e)},s.set=function(e,t){return s.cache.set(e,t)},s.delete=function(e){return s.cache.delete(e)},s.destroy=function(){s.cache=new WeakMap},s.generateElementShape=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?void 0:s.get(e);if(void 0!==n)return n;o.Xx.delete(e);var r=(0,l.i)(e,s.rg,t);return s.cache.set(e,r),r}},1598:(e,t,n)=>{"use strict";n.d(t,{$b:()=>a,CJ:()=>d,M9:()=>l,PD:()=>i,QG:()=>u,Un:()=>c,Zd:()=>o,sh:()=>s});var r=n(5529),a=function(e){return"rectangle"===e||"embeddable"===e||"ellipse"===e||"diamond"===e||"line"===e||"freedraw"===e},i=function(e){return"image"!==e&&"frame"!==e},o=function(e){return"rectangle"===e||"embeddable"===e||"ellipse"===e||"diamond"===e||"freedraw"===e||"arrow"===e||"line"===e},l=function(e){return"rectangle"===e||"embeddable"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"line"===e},s=function(e){return"rectangle"===e||"embeddable"===e||"arrow"===e||"line"===e||"diamond"===e},c=function(e){return"arrow"===e},u=function(e,t){for(var n=null,r=e.length-1;r>=0;--r){var a=e[r];if(!a.isDeleted&&t(a)){n=a;break}}return n},d=function(e,t){var n=[];return e.filter((function(e){return!(e.isDeleted||!t(e))&&(!(0,r.gs)(e)||(n.push(e),!1))})).concat(n)}},5972:(e,t,n)=>{"use strict";n.d(t,{$D:()=>g,Cg:()=>b,NL:()=>m});var r=n(4165),a=n(1413),i=n(885),o=n(531),l=n(7711),s=n(1710),c=n(8841),u=n(7253),d=n(5320),f=n(6462),h=n(7422),p=n(4473),v=n(6864),m=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n,o,s){var h,v,m,g,b,x,w,k,E,S,C,M,_,Z,I,T,j,P,L,D=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=s.exportBackground,v=s.exportPadding,m=void 0===v?d.qy:v,g=s.viewBackgroundColor,b=D.length>4&&void 0!==D[4]?D[4]:function(e,t){var r=document.createElement("canvas");return r.width=e*n.exportScale,r.height=t*n.exportScale,{canvas:r,scale:n.exportScale}},x=y(t,m),w=(0,i.Z)(x,4),k=w[0],E=w[1],S=w[2],C=w[3],M=b(S,C),_=M.canvas,Z=M.scale,I=void 0===Z?1:Z,T=(0,f.im)(),e.next=7,(0,p.Xx)({imageCache:new Map,fileIds:(0,p.oA)(t).map((function(e){return e.fileId})),files:o});case 7:return j=e.sent,P=j.imageCache,L=(0,u.FQ)(t),(0,c.AW)({canvas:_,rc:l.Z.canvas(_),elements:t,visibleElements:t,scale:I,appState:(0,a.Z)((0,a.Z)({},n),{},{viewBackgroundColor:h?g:null,scrollX:-k+(L?0:m),scrollY:-E+(L?0:m),zoom:T.zoom,shouldCacheIgnoreZoom:!1,theme:n.exportWithDarkMode?"dark":"light"}),renderConfig:{imageCache:P,renderGrid:!1,isExporting:!0}}),e.abrupt("return",_);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),g=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,a,o,f){var p,m,g,b,x,w,k,E,S,C,M,_,Z,I,T,j,P,L,D,O,R,A,N,z,B,F,H,W,U,K,V,Y,G,X,q;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g=a.exportPadding,b=void 0===g?d.qy:g,x=a.viewBackgroundColor,w=a.exportScale,k=void 0===w?1:w,E=a.exportEmbedScene,S="",!E){e.next=14;break}return e.prev=3,e.next=6,Promise.resolve().then(n.bind(n,9381));case 6:return e.next=8,e.sent.encodeSvgMetadata({text:null!==f&&void 0!==f&&f.serializeAsJSON?null===f||void 0===f||null===(C=f.serializeAsJSON)||void 0===C?void 0:C.call(f):(0,h.I_)(t,a,o||{},"local")});case 8:S=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:return M=y(t,b),_=(0,i.Z)(M,4),Z=_[0],I=_[1],T=_[2],j=_[3],(P=document.createElementNS(d.hR,"svg")).setAttribute("version","1.1"),P.setAttribute("xmlns",d.hR),P.setAttribute("viewBox","0 0 ".concat(T," ").concat(j)),P.setAttribute("width","".concat(T*k)),P.setAttribute("height","".concat(j*k)),a.exportWithDarkMode&&P.setAttribute("filter",d.ZF),L="https://excalidraw.com/",(void 0).VITE_IS_EXCALIDRAW_NPM_PACKAGE&&(L=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat((void 0).VITE_PKG_NAME,"@").concat((void 0).PKG_VERSION),null!==(D=L)&&void 0!==D&&D.startsWith("/")&&(L=L.replace("/","".concat(window.location.origin,"/"))),L="".concat(L,"/dist/excalidraw-assets/")),O=(null===(p=v.Z.getScene(t[0]))||void 0===p||null===(m=p.getNonDeletedElements())||void 0===m?void 0:m.length)===t.length,R=(0,u.FQ)(t),A=-Z+(R?0:b),N=-I+(R?0:b),z=O||!R?void 0:t.find((function(e){return"frame"===e.type})),B="",z&&(F=(0,s.qf)(z),H=(0,i.Z)(F,4),W=H[0],U=H[1],K=H[2],V=H[3],Y=(K-W)/2-(z.x-W),G=(V-U)/2-(z.y-U),B="<clipPath id=".concat(z.id,'>\n            <rect transform="translate(').concat(z.x+A," ").concat(z.y+N,") rotate(").concat(z.angle," ").concat(Y," ").concat(G,')"\n          width="').concat(z.width,'"\n          height="').concat(z.height,'"\n          >\n          </rect>\n        </clipPath>')),P.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(S,'\n  <defs>\n    <style class="style-fonts">\n      @font-face {\n        font-family: "Virgil";\n        src: url("').concat(L,'Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("').concat(L,'Cascadia.woff2");\n      }\n    </style>\n    ').concat(B,"\n  </defs>\n  "),a.exportBackground&&x&&((X=P.ownerDocument.createElementNS(d.hR,"rect")).setAttribute("x","0"),X.setAttribute("y","0"),X.setAttribute("width","".concat(T)),X.setAttribute("height","".concat(j)),X.setAttribute("fill",x),P.appendChild(X)),q=l.Z.svg(P),(0,c.M_)(t,q,P,o||{},{offsetX:A,offsetY:N,exportWithDarkMode:a.exportWithDarkMode,exportingFrameId:(null===z||void 0===z?void 0:z.id)||null,renderEmbeddables:null===f||void 0===f?void 0:f.renderEmbeddables}),e.abrupt("return",P);case 36:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),y=function(e,t){var n,r,a=(null===(n=v.Z.getScene(e[0]))||void 0===n||null===(r=n.getNonDeletedElements())||void 0===r?void 0:r.length)===e.length,o=(0,u.FQ)(e);if(!a||o){var l=e.filter((function(e){return"frame"===e.type})).reduce((function(e,t){return e[t.id]=!0,e}),{});e=e.filter((function(e){var t;return!l[null!==(t=e.frameId)&&void 0!==t?t:""]}))}var c=(0,s.KP)(e),d=(0,i.Z)(c,4),f=d[0],h=d[1],p=d[2],m=d[3];return[f,h,(0,u.TE)(f,p)+(o?0:2*t),(0,u.TE)(h,m)+(o?0:2*t)]},b=function(e,t,n){var r=y(e,t).map((function(e){return Math.trunc(e*n)})),a=(0,i.Z)(r,4);return[a[2],a[3]]}},7536:(e,t,n)=>{"use strict";n.d(t,{$b:()=>o.$b,CJ:()=>o.CJ,M9:()=>o.M9,N:()=>a.N,PR:()=>a.PR,QG:()=>o.QG,Un:()=>o.Un,W:()=>i.W,Yp:()=>a.Yp,Zd:()=>o.Zd,Zs:()=>a.Zs,_4:()=>r._4,eD:()=>a.eD,j:()=>l.j,sh:()=>o.sh});var r=n(8190),a=n(2219),i=n(2650),o=n(1598),l=n(6961)},2650:(e,t,n)=>{"use strict";n.d(t,{W:()=>l,s:()=>o});var r=n(885),a=n(4991),i=n(7253),o=function(e){var t=e.scenePoint,n=e.viewportDimensions,r=e.zoom;return{scrollX:n.width/2/r.value-t.x,scrollY:n.height/2/r.value-t.y}},l=function(e,t){if(!(e=(0,a.n_)(e)).length)return{scrollX:0,scrollY:0};var n=(0,a.KP)(e),l=(0,r.Z)(n,4),s=l[0],c=l[1],u=l[2],d=l[3];if(function(e,t){var n=(0,r.Z)(t,4),a=n[0],o=n[1],l=n[2],s=n[3],c=(0,i._i)({sceneX:a,sceneY:o},e),u=c.x,d=c.y,f=(0,i._i)({sceneX:l,sceneY:s},e),h=f.x,p=f.y;return h-u>e.width||p-d>e.height}(t,[s,c,u,d])){var f=(0,a.os)(e,(0,i.dE)({clientX:t.scrollX,clientY:t.scrollY},t)),h=(0,r.Z)(f,4);s=h[0],c=h[1],u=h[2],d=h[3]}return o({scenePoint:{x:(s+u)/2,y:(c+d)/2},viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})}},8190:(e,t,n)=>{"use strict";n.d(t,{WM:()=>l,_4:()=>d,nn:()=>s,tJ:()=>u,w1:()=>c});var r=n(885),a=n(4991),i=n(7253),o=n(5861),l=4,s=6,c="rgba(0,0,0,0.3)",u=function(e,t,n,c){if(0===e.length)return{horizontal:null,vertical:null};var u=(0,a.KP)(e),d=(0,r.Z)(u,4),f=d[0],h=d[1],p=d[2],v=d[3],m=t/c.zoom.value,g=n/c.zoom.value,y=t-m,b=n-g,x={top:parseInt((0,i.IH)("sat"))||0,bottom:parseInt((0,i.IH)("sab"))||0,left:parseInt((0,i.IH)("sal"))||0,right:parseInt((0,i.IH)("sar"))||0},w=(0,o.G3)().rtl,k=-c.scrollX+y/2+x.left,E=-c.scrollY+b/2+x.top,S=k+m-x.right,C=E+g-x.bottom,M=Math.min(f,k),_=Math.min(h,E),Z=Math.max(p,S),I=Math.max(v,C);return{horizontal:k===M&&S===Z?null:{x:Math.max(x.left,l)+(k-M)/(Z-M)*t,y:n-s-Math.max(l,x.bottom),width:(S-k)/(Z-M)*t-Math.max(2*l,x.left+x.right),height:s},vertical:E===_&&C===I?null:{x:w?Math.max(x.left,l):t-s-Math.max(x.right,l),y:(E-_)/(I-_)*n+Math.max(x.top,l),width:s,height:(C-E)/(I-_)*n-Math.max(2*l,x.top+x.bottom)}}},d=function(e,t,n){var a=[e.horizontal,e.vertical].map((function(e){return null!=e&&e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height})),i=(0,r.Z)(a,2),o=i[0],l=i[1];return{isOverEither:o||l,isOverHorizontal:o,isOverVertical:l}}},2219:(e,t,n)=>{"use strict";n.d(t,{CF:()=>d,N:()=>f,Oh:()=>m,PR:()=>h,Yp:()=>u,Zs:()=>v,aI:()=>c,eD:()=>p});var r=n(885),a=n(4991),i=n(5529),o=n(4953),l=n(7253),s=n(7132),c=function(e){var t=new Set;return e.forEach((function(e){"frame"===e.type&&t.add(e.id)})),e.filter((function(e){return!e.frameId||!t.has(e.frameId)}))},u=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=(0,a.qf)(t),s=(0,r.Z)(l,4),u=s[0],d=s[1],f=s[2],h=s[3],p=e.filter((function(e){var t=(0,a.Pi)(e),n=(0,r.Z)(t,4),l=n[0],s=n[1],c=n[2],p=n[3],v=(0,o.$Z)(e);if(v){var m=(0,a.Pi)(v),g=(0,r.Z)(m,4),y=g[0],b=g[1],x=g[2],w=g[3];l=Math.max(y,l),s=Math.max(b,s),c=Math.min(x,c),p=Math.min(w,p)}return!1===e.locked&&"selection"!==e.type&&!(0,i.Xh)(e)&&u<=l&&d<=s&&f>=c&&h>=p}));return p=(p=n?c(p):p).filter((function(e){var t=(0,o.$Z)(e);return!t||(0,o.cO)(e,t)}))},d=function(e,t,n){var r=new Set(t.map((function(e){return e.id})));return e.filter((function(e){var t=(0,s.PZ)(e,n.width,n.height,n);return!r.has(e.id)&&t}))},f=function(){var e=null,t=null,n=null,r=function(r,a){return null!=n&&r===e&&a.selectedElementIds===t||(n=r.some((function(e){return a.selectedElementIds[e.id]})),e=r,t=a.selectedElementIds),n};return r.clearCache=function(){e=null,t=null,n=null},r}(),h=function(e,t,n){var r=Array.from(new Set(p(e,t).map((function(e){return n(e)}))));return 1===r.length?r[0]:null},p=function(e,t,n){var r=e.filter((function(e){return t.selectedElementIds[e.id]||null!==n&&void 0!==n&&n.includeBoundTextElement&&(0,i.Xh)(e)&&t.selectedElementIds[null===e||void 0===e?void 0:e.containerId]?e:null}));if(null!==n&&void 0!==n&&n.includeElementsInFrames){var a=[];return r.forEach((function(t){"frame"===t.type&&(0,o.wO)(e,t.id).forEach((function(e){return a.push(e)})),a.push(t)})),a}return r},v=function(e,t){return t.editingElement?[t.editingElement]:p(e,t,{includeBoundTextElement:!0})},m=function(e,t){return(0,l.w8)(t.selectedElementIds,e)?t.selectedElementIds:e}},6961:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,j:()=>a});var r=n(5320),a=function(e){return Math.max(r.Zj,Math.min(e,30))},i=function(e,t){var n=e.viewportX,r=e.viewportY,a=e.nextZoom,i=n-t.offsetLeft,o=r-t.offsetTop,l=t.zoom.value;return{scrollX:t.scrollX+(i-i/l)+-(i-i/a),scrollY:t.scrollY+(o-o/l)+-(o-o/a),zoom:{value:a}}}},7253:(e,t,n)=>{"use strict";n.d(t,{$9:()=>U,$g:()=>y,$h:()=>ee,AK:()=>A,B4:()=>S,C3:()=>G,Ds:()=>x,FG:()=>N,FQ:()=>ie,Fc:()=>f,G3:()=>Y,G9:()=>se,HP:()=>le,I4:()=>q,IH:()=>D,Ip:()=>K,Mj:()=>ae,Om:()=>_,Oo:()=>h,PI:()=>H,Pr:()=>T,Qm:()=>F,TE:()=>M,Vv:()=>k,XF:()=>ce,_Z:()=>v,_i:()=>L,ag:()=>Q,cx:()=>z,dE:()=>P,dZ:()=>R,h2:()=>$,hR:()=>w,mO:()=>b,qr:()=>B,qz:()=>V,rB:()=>Z,s:()=>g,tH:()=>W,uY:()=>j,v4:()=>J,vE:()=>oe,w8:()=>re,wO:()=>p,wo:()=>I,xn:()=>X,xp:()=>ne,y1:()=>m,y8:()=>te,yo:()=>C});var r=n(7762),a=n(1413),i=n(2982),o=n(885),l=n(3729),s=n(5320),c=n(4164),u=n(2791),d=null,f=function(){if(d)return d;var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),a="".concat(e.getHours()).padStart(2,"0"),i="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(a).concat(i)},h=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},p=function(e){return e instanceof HTMLElement&&e.className.includes("ToolIcon")},v=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement},m=function(e){return v(e)||e instanceof Element&&!!e.closest("label, button")},g=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type)},y=function(e){for(var t=e.fontFamily,n=0,r=Object.entries(s.ut);n<r.length;n++){var a=(0,o.Z)(r[n],2),i=a[0];if(a[1]===t)return"".concat(i,", ").concat(s._D)}return s._D},b=function(e){var t=e.fontSize,n=e.fontFamily,r=e.fontWeight;return"".concat(r," ").concat(t,"px ").concat(y({fontFamily:n}))},x=function(e,t){var n=0,r=null,a=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];r=i,clearTimeout(n),n=window.setTimeout((function(){r=null,e.apply(void 0,i)}),t)};return a.flush=function(){if(clearTimeout(n),r){var t=r;r=null,e.apply(void 0,(0,i.Z)(t))}},a.cancel=function(){r=null,clearTimeout(n)},a},w=function(e,t){var n=null,r=null,a=null,o=function t(o){n=window.requestAnimationFrame((function(){n=null,e.apply(void 0,(0,i.Z)(o)),r=null,a&&(r=a,a=null,t(r))}))},l=function(){for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];"test"!==(void 0).MODE?(r=l,null===n?o(r):null!==t&&void 0!==t&&t.trailing&&(a=l)):e.apply(void 0,l)};return l.flush=function(){null!==n&&(cancelAnimationFrame(n),n=null),r&&(e.apply(void 0,(0,i.Z)(a||r)),r=a=null)},l.cancel=function(){r=a=null,null!==n&&(cancelAnimationFrame(n),n=null)},l},k=function(e){return 1-Math.pow(1-e,4)},E=function(e,t,n){return(t-e)*k(n)+e},S=function(e){var t,n=e.fromValues,r=e.toValues,a=e.onStep,i=e.duration,o=void 0===i?250:i,l=e.interpolateValue,s=e.onStart,c=e.onEnd,u=e.onCancel,d=!1,f=0;return f=window.requestAnimationFrame((function e(i){if(!d){void 0===t&&(t=i,null===s||void 0===s||s());var u=Math.min(i-t,o),h=k(u/o),p={};if(Object.keys(n).forEach((function(e){var t=e,a=(r[t]-n[t])*h+n[t];p[t]=a})),a(p),u<o){var v=u/o,m={};Object.keys(n).forEach((function(e){var t,a=e,i=n[a],o=r[a];null==(t=l?l(i,o,v,a):E(i,o,v))&&(t=E(i,o,v)),m[a]=t})),a(m),f=window.requestAnimationFrame(e)}else a(r),null===c||void 0===c||c()}})),function(){null===u||void 0===u||u(),d=!0,window.cancelAnimationFrame(f)}},C=function(e,t){if(!e.length||t<1)return[];for(var n=0,r=0,a=Array(Math.ceil(e.length/t));n<e.length;)a[r++]=e.slice(n,n+=t);return a},M=function(e,t){return Math.abs(e-t)},_=function(e,t){var n,r;return"custom"===t.type?(0,a.Z)((0,a.Z)({},e.activeTool),{},{type:"custom",customType:t.customType,locked:null!==(r=t.locked)&&void 0!==r?r:e.activeTool.locked}):(0,a.Z)((0,a.Z)({},e.activeTool),{},{lastActiveTool:void 0===t.lastActiveToolBeforeEraser?e.activeTool.lastActiveTool:t.lastActiveToolBeforeEraser,type:t.type,customType:null,locked:null!==(n=t.locked)&&void 0!==n?n:e.activeTool.locked})},Z=function(){var e;return"HTML"===(null===(e=document.fullscreenElement)||void 0===e?void 0:e.nodeName)},I=function(){return document.documentElement.requestFullscreen()},T=function(){return document.exitFullscreen()},j=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),s.Um?e.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},P=function(e,t){var n=e.clientX,r=e.clientY,a=t.zoom,i=t.offsetLeft,o=t.offsetTop,l=t.scrollX,s=t.scrollY;return{x:(n-i)/a.value-l,y:(r-o)/a.value-s}},L=function(e,t){var n=e.sceneX,r=e.sceneY,a=t.zoom,i=t.offsetLeft,o=t.offsetTop,l=t.scrollX,s=t.scrollY;return{x:(n+l)*a.value+i,y:(r+s)*a.value+o}},D=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},O=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff","]*[").concat("\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc","]")),R=function(e){return O.test(e)},A=function(e){var t=(0,o.Z)(e,2);return{x:t[0],y:t[1]}},N=function(e){if("AbortError"!==(null===e||void 0===e?void 0:e.name))throw e;console.warn(e)},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length,Math.max(n,0)))-1;++r<e.length;)if(t(e[r],r,e))return r;return-1},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length-1,Math.max(n,0)))+1;--r>-1;)if(t(e[r],r,e))return r;return-1},F=function(e){var t=5===e.length&&"0"===e.substr(4,1),n=9===e.length&&"00"===e.substr(7,2);return t||n||e===l.HO.transparent},H=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},W=function(e){return function(t){(0,c.unstable_batchedUpdates)(e,t)}},U=function(e){return w((function(t){(0,c.unstable_batchedUpdates)(e,t)}))},K=function(e){for(var t=e.parentElement;t;){if(t===document.body)return document;var n=window.getComputedStyle(t).overflowY;if(t.scrollHeight>t.clientHeight&&("auto"===n||"scroll"===n||"overlay"===n))return t;t=t.parentElement}return document},V=function(e){for(var t=e.parentElement;t;){if(t.tabIndex>-1)return void t.focus();t=t.parentElement}},Y=function(e){return Array.from(e).map((function(e){return"0".concat(e.toString(16)).slice(-2)})).join("")},G=function(){return $()?1:Date.now()},X=function(e){return e.reduce((function(e,t){return e.set("string"===typeof t?t:t.id,t),e}),new Map)},q=function(e){return e.reduce((function(e,t,n){return e.set(t.id,[t,n]),e}),new Map)},$=function(){return"test"===(void 0).MODE},Q=function(e,t){return new CustomEvent(e,{detail:{nativeEvent:t},cancelable:!0})},J=function(e,t){var n=!1;for(var r in t){var i=t[r];if("undefined"!==typeof i){if(e[r]===i&&("object"!==typeof i||null===i))continue;n=!0}}return n?(0,a.Z)((0,a.Z)({},e),t):e},ee=function(){try{return window.self===window.top?"top":"iframe"}catch(e){return"iframe"}},te=function(e){return!!e&&"object"===typeof e&&"then"in e&&"catch"in e&&"finally"in e},ne=function(e){var t=null===e||void 0===e?void 0:e.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return t?Array.from(t).filter((function(e){return e.tabIndex>-1&&!e.disabled})):[]},re=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object.keys(e),i=Object.keys(t);return a.length===i.length&&a.every((function(a){var i=null===n||void 0===n?void 0:n[a],o=i?i(e[a],t[a]):e[a]===t[a];return!o&&r&&console.info("%cisShallowEqual: ".concat(a," not equal ->"),"color: #8B4000",e[a],t[a]),o}))},ae=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null===e||void 0===e||e(n),!r||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}},ie=function(e){var t=e.filter((function(e){return"frame"===e.type}));return 1===t.length&&e.every((function(e){return"frame"===e.type||e.frameId===t[0].id}))},oe=function(e,t,n){if(n)return console.error(t),e;throw new Error(t)},le=function(e){var t,n,a=function(a){var i=Object.entries(a);if(t){var l,s=!0,c=(0,r.Z)(i);try{for(c.s();!(l=c.n()).done;){var u=(0,o.Z)(l.value,2),d=u[0],f=u[1];if(t.get(d)!==f){s=!1;break}}}catch(p){c.e(p)}finally{c.f()}if(s)return n}var h=e(a);return t=new Map(i),n=h,h};return a.clear=function(){t=void 0,n=void 0},a},se=function(){var e;try{var t=u.version.split(".");e=Number(t[0])>17}catch(r){e=!1}var n=!1;return function(){return!0===window.EXCALIDRAW_THROTTLE_RENDER&&(!!e||(n||(n=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1))}}(),ce=function(e,t){return e instanceof Set||e instanceof Map?e.has(t):"includes"in e?e.includes(t):e.hasOwnProperty(t)}},504:(e,t)=>{"use strict";t.N=void 0;var n=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,a=/&(newline|tab);/gi,i=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,o=/^.+(:|&colon;)/gim,l=[".","/"];t.N=function(e){var t,s=(t=e||"",t.replace(r,(function(e,t){return String.fromCharCode(t)}))).replace(a,"").replace(i,"").trim();if(!s)return"about:blank";if(function(e){return l.indexOf(e[0])>-1}(s))return s;var c=s.match(o);if(!c)return s;var u=c[0];return n.test(u)?"about:blank":s}},9991:(e,t,n)=>{"use strict";function r(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null===e||void 0===e||e(n),!1===r||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}n.d(t,{M:()=>r})},5449:(e,t,n)=>{"use strict";n.d(t,{F:()=>a,e:()=>i});var r=n(2791);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(t,e)}))}}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useCallback)(a.apply(void 0,t),t)}},2382:(e,t,n)=>{"use strict";n.d(t,{b:()=>c});var r=n(4942),a=n(1413),i=n(2982),o=n(4925),l=n(2791),s=["scope","children"];function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];var c=function(){var t=n.map((function(e){return(0,l.createContext)(e)}));return function(n){var i=(null===n||void 0===n?void 0:n[e])||t;return(0,l.useMemo)((function(){return(0,r.Z)({},"__scope".concat(e),(0,a.Z)((0,a.Z)({},n),{},(0,r.Z)({},e,i)))}),[n,i])}};return c.scopeName=e,[function(t,r){var a=(0,l.createContext)(r),c=n.length;function u(t){var n=t.scope,r=t.children,i=(0,o.Z)(t,s),u=(null===n||void 0===n?void 0:n[e][c])||a,d=(0,l.useMemo)((function(){return i}),Object.values(i));return(0,l.createElement)(u.Provider,{value:d},r)}return n=[].concat((0,i.Z)(n),[r]),u.displayName=t+"Provider",[u,function(n,i){var o=(null===i||void 0===i?void 0:i[e][c])||a,s=(0,l.useContext)(o);if(s)return s;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},u.apply(void 0,[c].concat((0,i.Z)(t)))]}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];if(1===t.length)return i;var o=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,i=n.scopeName,o=r(t)["__scope".concat(i)];return(0,a.Z)((0,a.Z)({},e),o)}),{});return(0,l.useMemo)((function(){return(0,r.Z)({},"__scope".concat(i.scopeName),n)}),[n])}};return o.scopeName=i.scopeName,o}},6147:(e,t,n)=>{"use strict";var r;n.d(t,{M:()=>c});var a=n(885),i=n(2791),o=n(2999),l=(r||(r=n.t(i,2)))["useId".toString()]||function(){},s=0;function c(e){var t=i.useState(l()),n=(0,a.Z)(t,2),r=n[0],c=n[1];return(0,o.b)((function(){e||c((function(e){return null!==e&&void 0!==e?e:String(s++)}))}),[e]),e||(r?"radix-".concat(r):"")}},2008:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var r=n(885),a=n(2791),i=n(4164),o=n(5449),l=n(2999);var s=function(e){var t=e.present,n=e.children,s=function(e){var t=(0,a.useState)(),n=(0,r.Z)(t,2),o=n[0],s=n[1],u=(0,a.useRef)({}),d=(0,a.useRef)(e),f=(0,a.useRef)("none"),h=e?"mounted":"unmounted",p=function(e,t){return(0,a.useReducer)((function(e,n){var r=t[e][n];return null!==r&&void 0!==r?r:e}),e)}(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),v=(0,r.Z)(p,2),m=v[0],g=v[1];return(0,a.useEffect)((function(){var e=c(u.current);f.current="mounted"===m?e:"none"}),[m]),(0,l.b)((function(){var t=u.current,n=d.current;if(n!==e){var r=f.current,a=c(t);if(e)g("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))g("UNMOUNT");else{g(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}d.current=e}}),[e,g]),(0,l.b)((function(){if(o){var e=function(e){var t=c(u.current).includes(e.animationName);e.target===o&&t&&(0,i.flushSync)((function(){return g("ANIMATION_END")}))},t=function(e){e.target===o&&(f.current=c(u.current))};return o.addEventListener("animationstart",t),o.addEventListener("animationcancel",e),o.addEventListener("animationend",e),function(){o.removeEventListener("animationstart",t),o.removeEventListener("animationcancel",e),o.removeEventListener("animationend",e)}}g("ANIMATION_END")}),[o,g]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:(0,a.useCallback)((function(e){e&&(u.current=getComputedStyle(e)),s(e)}),[])}}(t),u="function"===typeof n?n({present:s.isPresent}):a.Children.only(n),d=(0,o.e)(s.ref,u.ref);return"function"===typeof n||s.isPresent?(0,a.cloneElement)(u,{ref:d}):null};function c(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}s.displayName="Presence"},3523:(e,t,n)=>{"use strict";n.d(t,{WV:()=>d,jH:()=>f});var r=n(4942),a=n(1413),i=n(4925),o=n(7462),l=n(2791),s=n(4164),c=n(4682),u=["asChild"],d=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=(0,l.forwardRef)((function(e,n){var r=e.asChild,a=(0,i.Z)(e,u),s=r?c.g7:t;return(0,l.useEffect)((function(){window[Symbol.for("radix-ui")]=!0}),[]),(0,l.createElement)(s,(0,o.Z)({},a,{ref:n}))}));return n.displayName="Primitive.".concat(t),(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},t,n))}),{});function f(e,t){e&&(0,s.flushSync)((function(){return e.dispatchEvent(t)}))}},4682:(e,t,n)=>{"use strict";n.d(t,{g7:()=>u});var r=n(1413),a=n(4925),i=n(7462),o=n(2791),l=n(5449),s=["children"],c=["children"],u=(0,o.forwardRef)((function(e,t){var n=e.children,r=(0,a.Z)(e,s),l=o.Children.toArray(n),c=l.find(h);if(c){var u=c.props.children,f=l.map((function(e){return e===c?o.Children.count(u)>1?o.Children.only(null):(0,o.isValidElement)(u)?u.props.children:null:e}));return(0,o.createElement)(d,(0,i.Z)({},r,{ref:t}),(0,o.isValidElement)(u)?(0,o.cloneElement)(u,void 0,f):null)}return(0,o.createElement)(d,(0,i.Z)({},r,{ref:t}),n)}));u.displayName="Slot";var d=(0,o.forwardRef)((function(e,t){var n=e.children,i=(0,a.Z)(e,c);return(0,o.isValidElement)(n)?(0,o.cloneElement)(n,(0,r.Z)((0,r.Z)({},function(e,t){var n=(0,r.Z)({},t),a=function(){var a=e[i],o=t[i];/^on[A-Z]/.test(i)?a&&o?n[i]=function(){o.apply(void 0,arguments),a.apply(void 0,arguments)}:a&&(n[i]=a):"style"===i?n[i]=(0,r.Z)((0,r.Z)({},a),o):"className"===i&&(n[i]=[a,o].filter(Boolean).join(" "))};for(var i in t)a();return(0,r.Z)((0,r.Z)({},e),n)}(i,n.props)),{},{ref:(0,l.F)(t,n.ref)})):o.Children.count(n)>1?o.Children.only(null):null}));d.displayName="SlotClone";var f=function(e){var t=e.children;return(0,o.createElement)(o.Fragment,null,t)};function h(e){return(0,o.isValidElement)(e)&&e.type===f}},8112:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(2791);function a(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e})),(0,r.useMemo)((function(){return function(){for(var e,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return null===(n=t.current)||void 0===n?void 0:(e=n).call.apply(e,[t].concat(a))}}),[])}},5240:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(885),a=n(2791),i=n(8112);function o(e){var t=e.prop,n=e.defaultProp,o=e.onChange,l=void 0===o?function(){}:o,s=function(e){var t=e.defaultProp,n=e.onChange,o=(0,a.useState)(t),l=(0,r.Z)(o,1)[0],s=(0,a.useRef)(l),c=(0,i.W)(n);return(0,a.useEffect)((function(){s.current!==l&&(c(l),s.current=l)}),[l,s,c]),o}({defaultProp:n,onChange:l}),c=(0,r.Z)(s,2),u=c[0],d=c[1],f=void 0!==t,h=f?t:u,p=(0,i.W)(l);return[h,(0,a.useCallback)((function(e){if(f){var n="function"===typeof e?e(t):e;n!==t&&p(n)}else d(e)}),[f,t,d,p])]}},2999:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(2791),a=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?r.useLayoutEffect:function(){}},3309:(e,t,n)=>{var r=n(4704).default,a=n(7424).default,i=n(861).default;!function(e,t){"use strict";var n,o,l,s;(null!==(t=(e=Path2D.prototype).roundRect)&&void 0!==t||(e.roundRect=c),globalThis.CanvasRenderingContext2D)&&(null!==(o=(n=globalThis.CanvasRenderingContext2D.prototype).roundRect)&&void 0!==o||(n.roundRect=c));globalThis.OffscreenCanvasRenderingContext2D&&(null!==(s=(l=globalThis.OffscreenCanvasRenderingContext2D.prototype).roundRect)&&void 0!==s||(l.roundRect=c));function c(e,t,n,o,l){if([e,t,n,o].every((function(e){return Number.isFinite(e)}))){var s,c,d,f;if(4===(l=function(e){var t=typeof e;if("undefined"===t||null===e)return[0];if("function"===t)return[NaN];if("object"===t)return"function"===typeof e[Symbol.iterator]?i(e).map((function(e){var t=typeof e;return"undefined"===t||null===e?0:"function"===t?NaN:"object"===t?v(e):m(e)})):[v(e)];return[m(e)]}(l)).length)s=g(l[0]),c=g(l[1]),d=g(l[2]),f=g(l[3]);else if(3===l.length)s=g(l[0]),c=g(l[1]),f=g(l[1]),d=g(l[2]);else if(2===l.length)s=g(l[0]),d=g(l[0]),c=g(l[1]),f=g(l[1]);else{if(1!==l.length)throw new RangeError("".concat(u(this)," ").concat(l.length," is not a valid size for radii sequence."));s=g(l[0]),c=g(l[0]),d=g(l[0]),f=g(l[0])}var h=[s,c,d,f],p=h.find((function(e){var t=e.x,n=e.y;return t<0||n<0}));(null===p||void 0===p?void 0:p.x)<0?p.x:null===p||void 0===p||p.y;if(!h.some((function(e){var t=e.x,n=e.y;return!Number.isFinite(t)||!Number.isFinite(n)}))){if(p)throw new RangeError("".concat(u(this)," Radius value ").concat(p," is negative."));!function(e){var t=a(e,4),i=t[0],l=t[1],s=t[2],c=t[3],u=[Math.abs(n)/(i.x+l.x),Math.abs(o)/(l.y+s.y),Math.abs(n)/(s.x+c.x),Math.abs(o)/(i.y+c.y)],d=Math.min.apply(Math,u);if(d<=1){var f,h=r(e);try{for(h.s();!(f=h.n()).done;){var p=f.value;p.x*=d,p.y*=d}}catch(v){h.e(v)}finally{h.f()}}}(h),n<0&&o<0?(this.moveTo(e-s.x,t),this.ellipse(e+n+c.x,t-c.y,c.x,c.y,0,1.5*-Math.PI,-Math.PI),this.ellipse(e+n+d.x,t+o+d.y,d.x,d.y,0,-Math.PI,-Math.PI/2),this.ellipse(e-f.x,t+o+f.y,f.x,f.y,0,-Math.PI/2,0),this.ellipse(e-s.x,t-s.y,s.x,s.y,0,0,-Math.PI/2)):n<0?(this.moveTo(e-s.x,t),this.ellipse(e+n+c.x,t+c.y,c.x,c.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(e+n+d.x,t+o-d.y,d.x,d.y,0,-Math.PI,1.5*-Math.PI,1),this.ellipse(e-f.x,t+o-f.y,f.x,f.y,0,Math.PI/2,0,1),this.ellipse(e-s.x,t+s.y,s.x,s.y,0,0,-Math.PI/2,1)):o<0?(this.moveTo(e+s.x,t),this.ellipse(e+n-c.x,t-c.y,c.x,c.y,0,Math.PI/2,0,1),this.ellipse(e+n-d.x,t+o+d.y,d.x,d.y,0,0,-Math.PI/2,1),this.ellipse(e+f.x,t+o+f.y,f.x,f.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(e+s.x,t-s.y,s.x,s.y,0,-Math.PI,1.5*-Math.PI,1)):(this.moveTo(e+s.x,t),this.ellipse(e+n-c.x,t+c.y,c.x,c.y,0,-Math.PI/2,0),this.ellipse(e+n-d.x,t+o-d.y,d.x,d.y,0,0,Math.PI/2),this.ellipse(e+f.x,t+o-f.y,f.x,f.y,0,Math.PI/2,Math.PI),this.ellipse(e+s.x,t+s.y,s.x,s.y,0,Math.PI,1.5*Math.PI)),this.closePath(),this.moveTo(e,t)}}function v(e){return{x:e.x,y:e.y,z:e.z,w:e.w}}function m(e){return+e}function g(e){var t,n,r=m(e);return Number.isFinite(r)?{x:r,y:r}:Object(e)===e?{x:m(null!==(t=e.x)&&void 0!==t?t:0),y:m(null!==(n=e.y)&&void 0!==n?n:0)}:{x:NaN,y:NaN}}}function u(e){return"Failed to execute 'roundRect' on '".concat(function(e){return Object(e)===e&&e instanceof Path2D?"Path2D":e instanceof(null===globalThis||void 0===globalThis?void 0:globalThis.CanvasRenderingContext2D)?"CanvasRenderingContext2D":e instanceof(null===globalThis||void 0===globalThis?void 0:globalThis.OffscreenCanvasRenderingContext2D)?"OffscreenCanvasRenderingContext2D":(null===e||void 0===e?void 0:e.constructor.name)||e}(e),"':")}}()},8640:(e,t,n)=>{var r=n(1794),a=n(3828),i=n(6718),o=n(1112),l=n(7740),s=n(8392),c=n(9631),u=n(7147),d=n(5145),f=n(8267),h=n(3452),p=n(2831),v=p.DOMPoint,m=p.DOMMatrix;t.Canvas=r,t.Context2d=i,t.CanvasRenderingContext2D=i,t.CanvasGradient=c.CanvasGradient,t.CanvasPattern=o,t.Image=a,t.ImageData=c.ImageData,t.PNGStream=d,t.PDFStream=f,t.JPEGStream=h,t.DOMMatrix=m,t.DOMPoint=v,t.registerFont=function(e,t){return r._registerFont(u.realpathSync(e),t)},t.deregisterAllFonts=function(){return r._deregisterAllFonts()},t.parseFont=l,t.createCanvas=function(e,t,n){return new r(e,t,n)},t.createImageData=function(e,t,n){return new c.ImageData(e,t,n)},t.loadImage=function(e){return new Promise((function(t,n){var r=new a;function i(){r.onload=null,r.onerror=null}r.onload=function(){i(),t(r)},r.onerror=function(e){i(),n(e)},r.src=e}))},t.backends=c.Backends,t.version=s.version,t.cairoVersion=c.cairoVersion,t.jpegVersion=c.jpegVersion,t.gifVersion=c.gifVersion?c.gifVersion.replace(/[^.\d]/g,""):void 0,t.freetypeVersion=c.freetypeVersion,t.rsvgVersion=c.rsvgVersion,t.pangoVersion=c.pangoVersion},2831:(e,t,n)=>{"use strict";var r=n(9728).default,a=n(6690).default,i=n(3837),o=r((function e(t,n,r,i){a(this,e),"object"===typeof t&&null!==t&&(i=t.w,r=t.z,n=t.y,t=t.x),this.x="number"===typeof t?t:0,this.y="number"===typeof n?n:0,this.z="number"===typeof r?r:0,this.w="number"===typeof i?i:1})),l=10,s=12,c=13,u=15,d=180/Math.PI,f=Math.PI/180;function h(e){var t=e.split("(",1)[0];switch(t){case"matrix":return function(e){var t=e.replace("matrix(","");if(6!==(t=t.split(",",7)).length)throw new Error("Failed to parse ".concat(e));return[(t=t.map(parseFloat))[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}(e);case"matrix3d":return function(e){var t=e.replace("matrix3d(","");if(16!==(t=t.split(",",17)).length)throw new Error("Failed to parse ".concat(e));return t.map(parseFloat)}(e);default:throw new Error("".concat(t," parsing not implemented"))}}var p=function(e){function t(e){var n;if(a(this,t),this._is2D=!0,this._values=new Float64Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),"string"===typeof e){if(""===e)return;var r=e.split(/\)\s+/,20).map(h);if(0===r.length)return;for(e=r[0],n=1;n<r.length;n++)e=y(r[n],e)}if(n=0,e&&6===e.length)v(this,0,e[n++]),v(this,1,e[n++]),v(this,4,e[n++]),v(this,5,e[n++]),v(this,s,e[n++]),v(this,c,e[n++]);else if(e&&16===e.length)v(this,0,e[n++]),v(this,1,e[n++]),m(this,2,e[n++]),m(this,3,e[n++]),v(this,4,e[n++]),v(this,5,e[n++]),m(this,6,e[n++]),m(this,7,e[n++]),m(this,8,e[n++]),m(this,9,e[n++]),m(this,l,e[n++]),m(this,11,e[n++]),v(this,s,e[n++]),v(this,c,e[n++]),m(this,14,e[n++]),m(this,u,e[n]);else if(void 0!==e)throw new TypeError("Expected string or array.")}return r(t,[{key:"toString",value:function(){return this.is2D?"matrix(".concat(this.a,", ").concat(this.b,", ").concat(this.c,", ").concat(this.d,", ").concat(this.e,", ").concat(this.f,")"):"matrix3d(".concat(this._values.join(", "),")")}},{key:"multiply",value:function(e){return g(this._values).multiplySelf(e)}},{key:"multiplySelf",value:function(e){return this._values=y(e._values,this._values),e.is2D||(this._is2D=!1),this}},{key:"preMultiplySelf",value:function(e){return this._values=y(this._values,e._values),e.is2D||(this._is2D=!1),this}},{key:"translate",value:function(e,t,n){return g(this._values).translateSelf(e,t,n)}},{key:"translateSelf",value:function(e,t,n){return"number"!==typeof e&&(e=0),"number"!==typeof t&&(t=0),"number"!==typeof n&&(n=0),this._values=y([1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1],this._values),0!==n&&(this._is2D=!1),this}},{key:"scale",value:function(e,t,n,r,a,i){return g(this._values).scaleSelf(e,t,n,r,a,i)}},{key:"scale3d",value:function(e,t,n,r){return g(this._values).scale3dSelf(e,t,n,r)}},{key:"scale3dSelf",value:function(e,t,n,r){return this.scaleSelf(e,e,e,t,n,r)}},{key:"scaleSelf",value:function(e,t,n,r,a,i){return"number"!==typeof r&&(r=0),"number"!==typeof a&&(a=0),"number"!==typeof i&&(i=0),this.translateSelf(r,a,i),"number"!==typeof e&&(e=1),"number"!==typeof t&&(t=e),"number"!==typeof n&&(n=1),this._values=y([e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1],this._values),this.translateSelf(-r,-a,-i),1===n&&0===i||(this._is2D=!1),this}},{key:"rotateFromVector",value:function(e,t){return g(this._values).rotateFromVectorSelf(e,t)}},{key:"rotateFromVectorSelf",value:function(e,t){"number"!==typeof e&&(e=0),"number"!==typeof t&&(t=0);var n=0===e&&0===t?0:Math.atan2(t,e)*d;return this.rotateSelf(n)}},{key:"rotate",value:function(e,t,n){return g(this._values).rotateSelf(e,t,n)}},{key:"rotateSelf",value:function(e,t,n){var r,a;return void 0===t&&void 0===n&&(n=e,e=t=0),"number"!==typeof t&&(t=0),"number"!==typeof n&&(n=0),0===e&&0===t||(this._is2D=!1),e*=f,t*=f,n*=f,r=Math.cos(n),a=Math.sin(n),this._values=y([r,a,0,0,-a,r,0,0,0,0,1,0,0,0,0,1],this._values),r=Math.cos(t),a=Math.sin(t),this._values=y([r,0,-a,0,0,1,0,0,a,0,r,0,0,0,0,1],this._values),r=Math.cos(e),a=Math.sin(e),this._values=y([1,0,0,0,0,r,a,0,0,-a,r,0,0,0,0,1],this._values),this}},{key:"rotateAxisAngle",value:function(e,t,n,r){return g(this._values).rotateAxisAngleSelf(e,t,n,r)}},{key:"rotateAxisAngleSelf",value:function(e,t,n,r){"number"!==typeof e&&(e=0),"number"!==typeof t&&(t=0),"number"!==typeof n&&(n=0);var a=Math.sqrt(e*e+t*t+n*n);if(0===a)return this;1!==a&&(e/=a,t/=a,n/=a),r*=f;var i=Math.cos(r),o=Math.sin(r),l=1-i,s=l*e,c=l*t;return this._values=y([s*e+i,s*t+o*n,s*n-o*t,0,s*t-o*n,c*t+i,c*n+o*e,0,s*n+o*t,c*n-o*e,l*n*n+i,0,0,0,0,1],this._values),0===e&&0===t||(this._is2D=!1),this}},{key:"skewX",value:function(e){return g(this._values).skewXSelf(e)}},{key:"skewXSelf",value:function(e){if("number"!==typeof e)return this;var t=Math.tan(e*f);return this._values=y([1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1],this._values),this}},{key:"skewY",value:function(e){return g(this._values).skewYSelf(e)}},{key:"skewYSelf",value:function(e){if("number"!==typeof e)return this;var t=Math.tan(e*f);return this._values=y([1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this._values),this}},{key:"flipX",value:function(){return g(y([-1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this._values))}},{key:"flipY",value:function(){return g(y([1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],this._values))}},{key:"inverse",value:function(){return g(this._values).invertSelf()}},{key:"invertSelf",value:function(){var e=this._values,t=e.map((function(e){return 0}));t[0]=e[5]*e[10]*e[15]-e[5]*e[11]*e[14]-e[9]*e[6]*e[15]+e[9]*e[7]*e[14]+e[13]*e[6]*e[11]-e[13]*e[7]*e[10],t[4]=-e[4]*e[10]*e[15]+e[4]*e[11]*e[14]+e[8]*e[6]*e[15]-e[8]*e[7]*e[14]-e[12]*e[6]*e[11]+e[12]*e[7]*e[10],t[8]=e[4]*e[9]*e[15]-e[4]*e[11]*e[13]-e[8]*e[5]*e[15]+e[8]*e[7]*e[13]+e[12]*e[5]*e[11]-e[12]*e[7]*e[9],t[12]=-e[4]*e[9]*e[14]+e[4]*e[10]*e[13]+e[8]*e[5]*e[14]-e[8]*e[6]*e[13]-e[12]*e[5]*e[10]+e[12]*e[6]*e[9];var n=e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+e[3]*t[12];return 0===n?(this._values=e.map((function(e){return NaN})),this._is2D=!1,this):(t[1]=-e[1]*e[10]*e[15]+e[1]*e[11]*e[14]+e[9]*e[2]*e[15]-e[9]*e[3]*e[14]-e[13]*e[2]*e[11]+e[13]*e[3]*e[10],t[5]=e[0]*e[10]*e[15]-e[0]*e[11]*e[14]-e[8]*e[2]*e[15]+e[8]*e[3]*e[14]+e[12]*e[2]*e[11]-e[12]*e[3]*e[10],t[9]=-e[0]*e[9]*e[15]+e[0]*e[11]*e[13]+e[8]*e[1]*e[15]-e[8]*e[3]*e[13]-e[12]*e[1]*e[11]+e[12]*e[3]*e[9],t[13]=e[0]*e[9]*e[14]-e[0]*e[10]*e[13]-e[8]*e[1]*e[14]+e[8]*e[2]*e[13]+e[12]*e[1]*e[10]-e[12]*e[2]*e[9],t[2]=e[1]*e[6]*e[15]-e[1]*e[7]*e[14]-e[5]*e[2]*e[15]+e[5]*e[3]*e[14]+e[13]*e[2]*e[7]-e[13]*e[3]*e[6],t[6]=-e[0]*e[6]*e[15]+e[0]*e[7]*e[14]+e[4]*e[2]*e[15]-e[4]*e[3]*e[14]-e[12]*e[2]*e[7]+e[12]*e[3]*e[6],t[10]=e[0]*e[5]*e[15]-e[0]*e[7]*e[13]-e[4]*e[1]*e[15]+e[4]*e[3]*e[13]+e[12]*e[1]*e[7]-e[12]*e[3]*e[5],t[14]=-e[0]*e[5]*e[14]+e[0]*e[6]*e[13]+e[4]*e[1]*e[14]-e[4]*e[2]*e[13]-e[12]*e[1]*e[6]+e[12]*e[2]*e[5],t[3]=-e[1]*e[6]*e[11]+e[1]*e[7]*e[10]+e[5]*e[2]*e[11]-e[5]*e[3]*e[10]-e[9]*e[2]*e[7]+e[9]*e[3]*e[6],t[7]=e[0]*e[6]*e[11]-e[0]*e[7]*e[10]-e[4]*e[2]*e[11]+e[4]*e[3]*e[10]+e[8]*e[2]*e[7]-e[8]*e[3]*e[6],t[11]=-e[0]*e[5]*e[11]+e[0]*e[7]*e[9]+e[4]*e[1]*e[11]-e[4]*e[3]*e[9]-e[8]*e[1]*e[7]+e[8]*e[3]*e[5],t[15]=e[0]*e[5]*e[10]-e[0]*e[6]*e[9]-e[4]*e[1]*e[10]+e[4]*e[2]*e[9]+e[8]*e[1]*e[6]-e[8]*e[2]*e[5],t.forEach((function(e,r){t[r]=e/n})),this._values=t,this)}},{key:"setMatrixValue",value:function(e){var n=new t(e);return this._values=n._values,this._is2D=n._is2D,this}},{key:"transformPoint",value:function(e){var t=(e=new o(e)).x,n=e.y,r=e.z,a=e.w,i=this._values,l=i[0]*t+i[4]*n+i[8]*r+i[12]*a,s=i[1]*t+i[5]*n+i[9]*r+i[13]*a,c=i[2]*t+i[6]*n+i[10]*r+i[14]*a,u=i[3]*t+i[7]*n+i[11]*r+i[15]*a;return new o(l,s,c,u)}},{key:"toFloat32Array",value:function(){return Float32Array.from(this._values)}},{key:"toFloat64Array",value:function(){return this._values.slice(0)}},{key:e,value:function(e,t){return e<0?"[DOMMatrix]":"DOMMatrix [\n      a: ".concat(this.a,"\n      b: ").concat(this.b,"\n      c: ").concat(this.c,"\n      d: ").concat(this.d,"\n      e: ").concat(this.e,"\n      f: ").concat(this.f,"\n      m11: ").concat(this.m11,"\n      m12: ").concat(this.m12,"\n      m13: ").concat(this.m13,"\n      m14: ").concat(this.m14,"\n      m21: ").concat(this.m21,"\n      m22: ").concat(this.m22,"\n      m23: ").concat(this.m23,"\n      m23: ").concat(this.m23,"\n      m31: ").concat(this.m31,"\n      m32: ").concat(this.m32,"\n      m33: ").concat(this.m33,"\n      m34: ").concat(this.m34,"\n      m41: ").concat(this.m41,"\n      m42: ").concat(this.m42,"\n      m43: ").concat(this.m43,"\n      m44: ").concat(this.m44,"\n      is2D: ").concat(this.is2D,"\n      isIdentity: ").concat(this.isIdentity," ]")}}],[{key:"fromMatrix",value:function(e){if(!(e instanceof t))throw new TypeError("Expected DOMMatrix");return new t(e._values)}},{key:"fromFloat32Array",value:function(e){if(!(e instanceof Float32Array))throw new TypeError("Expected Float32Array");return new t(e)}},{key:"fromFloat64Array",value:function(e){if(!(e instanceof Float64Array))throw new TypeError("Expected Float64Array");return new t(e)}}]),t}(i.inspect.custom||"inspect");function v(e,t,n){if("number"!==typeof n)throw new TypeError("Expected number");return e._values[t]=n}function m(e,t,n){if("number"!==typeof n)throw new TypeError("Expected number");return t===l||t===u?1!==n&&(e._is2D=!1):0!==n&&(e._is2D=!1),e._values[t]=n}function g(e){var t=Object.create(p.prototype);return t.constructor=p,t._is2D=!0,t._values=e,t}function y(e,t){for(var n=new Float64Array(16),r=0;r<4;r++)for(var a=0;a<4;a++){for(var i=0,o=0;o<4;o++)i+=e[4*r+o]*t[4*o+a];n[4*r+a]=i}return n}Object.defineProperties(p.prototype,{m11:{get:function(){return this._values[0]},set:function(e){return v(this,0,e)}},m12:{get:function(){return this._values[1]},set:function(e){return v(this,1,e)}},m13:{get:function(){return this._values[2]},set:function(e){return m(this,2,e)}},m14:{get:function(){return this._values[3]},set:function(e){return m(this,3,e)}},m21:{get:function(){return this._values[4]},set:function(e){return v(this,4,e)}},m22:{get:function(){return this._values[5]},set:function(e){return v(this,5,e)}},m23:{get:function(){return this._values[6]},set:function(e){return m(this,6,e)}},m24:{get:function(){return this._values[7]},set:function(e){return m(this,7,e)}},m31:{get:function(){return this._values[8]},set:function(e){return m(this,8,e)}},m32:{get:function(){return this._values[9]},set:function(e){return m(this,9,e)}},m33:{get:function(){return this._values[10]},set:function(e){return m(this,l,e)}},m34:{get:function(){return this._values[11]},set:function(e){return m(this,11,e)}},m41:{get:function(){return this._values[12]},set:function(e){return v(this,s,e)}},m42:{get:function(){return this._values[13]},set:function(e){return v(this,c,e)}},m43:{get:function(){return this._values[14]},set:function(e){return m(this,14,e)}},m44:{get:function(){return this._values[15]},set:function(e){return m(this,u,e)}},a:{get:function(){return this.m11},set:function(e){return this.m11=e}},b:{get:function(){return this.m12},set:function(e){return this.m12=e}},c:{get:function(){return this.m21},set:function(e){return this.m21=e}},d:{get:function(){return this.m22},set:function(e){return this.m22=e}},e:{get:function(){return this.m41},set:function(e){return this.m41=e}},f:{get:function(){return this.m42},set:function(e){return this.m42=e}},is2D:{get:function(){return this._is2D}},isIdentity:{get:function(){var e=this._values;return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&0===e[12]&&0===e[13]&&0===e[14]&&1===e[15]}}}),e.exports={DOMMatrix:p,DOMPoint:o}},9631:(e,t,n)=>{"use strict";var r=n(5719);e.exports=r,r.ImageData.prototype.toString=function(){return"[object ImageData]"},r.CanvasGradient.prototype.toString=function(){return"[object CanvasGradient]"}},1794:(e,t,n)=>{"use strict";var r=n(9631),a=e.exports=r.Canvas,i=n(6718),o=n(5145),l=n(8267),s=n(3452),c=["image/png","image/jpeg"],u=n(3837);a.prototype[u.inspect.custom||"inspect"]=function(){return"[Canvas ".concat(this.width,"x").concat(this.height,"]")},a.prototype.getContext=function(e,t){if("2d"==e){var n=this._context2d||(this._context2d=new i(this,t));return this.context=n,n.canvas=this,n}},a.prototype.pngStream=a.prototype.createPNGStream=function(e){return new o(this,e)},a.prototype.pdfStream=a.prototype.createPDFStream=function(e){return new l(this,e)},a.prototype.jpegStream=a.prototype.createJPEGStream=function(e){return new s(this,e)},a.prototype.toDataURL=function(e,t,n){var r,a="image/png",i={};if("function"===typeof e)r=e;else if("string"===typeof e&&c.includes(e.toLowerCase())&&(a=e.toLowerCase()),"function"===typeof t)r=t;else if("object"===typeof t?i=t:"number"===typeof t&&(i={quality:Math.max(0,Math.min(1,t))}),"function"===typeof n)r=n;else if(void 0!==n)throw new TypeError("".concat(typeof n," is not a function"));if(0===this.width||0===this.height){var o="data:,";return r?void setTimeout((function(){return r(null,o)})):o}if(!r)return"data:".concat(a,";base64,").concat(this.toBuffer(a,i).toString("base64"));this.toBuffer((function(e,t){if(e)return r(e);r(null,"data:".concat(a,";base64,").concat(t.toString("base64")))}),a,i)}},6718:(e,t,n)=>{"use strict";var r=n(9631),a=n(7740),i=n(2831).DOMMatrix;r.CanvasRenderingContext2dInit(i,a),e.exports=r.CanvasRenderingContext2d},3828:(e,t,n)=>{"use strict";var r,a=n(9631),i=e.exports=a.Image,o=n(3837),l=a.GetSource,s=a.SetSource;function c(e,t,n){s.call(e,t),e._originalSource=n}Object.defineProperty(i.prototype,"src",{set:function(e){var t=this;if("string"===typeof e)if(/^\s*data:/.test(e)){var a=e.indexOf(","),i=-1!==e.lastIndexOf("base64",a),o=e.slice(a+1);c(this,Buffer.from(o,i?"base64":"utf8"),e)}else if(/^\s*https?:\/\//.test(e)){var l=function(e){if("function"!==typeof t.onerror)throw e;t.onerror(e)};r||(r=n(3998)),r.concat({url:e,headers:{"User-Agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36"}},(function(e,n,r){return e?l(e):n.statusCode<200||n.statusCode>=300?l(new Error("Server responded with ".concat(n.statusCode))):void c(t,r)}))}else c(this,e);else Buffer.isBuffer(e)&&c(this,e)},get:function(){return(e=this)._originalSource||l.call(e);var e},configurable:!0}),i.prototype[o.inspect.custom||"inspect"]=function(){return"[Image"+(this.complete?":"+this.width+"x"+this.height:"")+(this.src?" "+this.src:"")+(this.complete?" complete":"")+"]"}},3452:(e,t,n)=>{"use strict";var r=n(6690).default,a=n(9728).default,i=n(1655).default,o=n(6389).default;function l(){}var s=function(e){i(n,e);var t=o(n);function n(e,a){var i;if(r(this,n),i=t.call(this),void 0===e.streamJPEGSync)throw new Error("node-canvas was built without JPEG support.");return i.options=a,i.canvas=e,i}return a(n,[{key:"_read",value:function(){var e=this;this._read=l,this.canvas.streamJPEGSync(this.options,(function(t,n){t?e.emit("error",t):n?e.push(n):e.push(null)}))}}]),n}(n(2781).Readable);e.exports=s},7740:e=>{"use strict";var t="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",n=new RegExp("(".concat("bold|bolder|lighter|[1-9]00",") +"),"i"),r=new RegExp("(".concat("italic|oblique",") +"),"i"),a=new RegExp("(".concat("small-caps",") +"),"i"),i=new RegExp("(".concat("ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",") +"),"i"),o=new RegExp("([\\d\\.]+)(".concat("px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",") *((?:").concat(t,")( *, *(?:").concat(t,"))*)")),l={};e.exports=function(e){if(l[e])return l[e];var t=o.exec(e);if(t){var s,c,u,d,f={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")},h=e.substring(0,t.index);switch((s=n.exec(h))&&(f.weight=s[1]),(c=r.exec(h))&&(f.style=c[1]),(u=a.exec(h))&&(f.variant=u[1]),(d=i.exec(h))&&(f.stretch=d[1]),f.unit){case"pt":f.size/=.75;break;case"pc":f.size*=16;break;case"in":f.size*=96;break;case"cm":f.size*=96/2.54;break;case"mm":f.size*=96/25.4;break;case"%":break;case"em":case"rem":f.size*=16/.75;break;case"q":f.size*=96/25.4/4}return l[e]=f}}},1112:(e,t,n)=>{"use strict";var r=n(9631),a=n(2831).DOMMatrix;r.CanvasPatternInit(a),e.exports=r.CanvasPattern,r.CanvasPattern.prototype.toString=function(){return"[object CanvasPattern]"}},8267:(e,t,n)=>{"use strict";var r=n(6690).default,a=n(9728).default,i=n(1655).default,o=n(6389).default;function l(){}var s=function(e){i(n,e);var t=o(n);function n(e,a){var i;return r(this,n),(i=t.call(this)).canvas=e,i.options=a,i}return a(n,[{key:"_read",value:function(){var e=this;this._read=l,this.canvas.streamPDFSync((function(t,n,r){t?e.emit("error",t):r?e.push(n):e.push(null)}),this.options)}}]),n}(n(2781).Readable);e.exports=s},5145:(e,t,n)=>{"use strict";var r=n(6690).default,a=n(9728).default,i=n(1655).default,o=n(6389).default;function l(){}var s=function(e){i(n,e);var t=o(n);function n(e,a){var i;if(r(this,n),i=t.call(this),a&&a.palette instanceof Uint8ClampedArray&&a.palette.length%4!==0)throw new Error("Palette length must be a multiple of 4.");return i.canvas=e,i.options=a||{},i}return a(n,[{key:"_read",value:function(){var e=this;this._read=l,this.canvas.streamPNGSync((function(t,n,r){t?e.emit("error",t):r?e.push(n):e.push(null)}),this.options)}}]),n}(n(2781).Readable);e.exports=s},8182:(e,t,n)=>{"use strict";function r(e){var t,n,a="";if("string"===typeof e||"number"===typeof e)a+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.d(t,{Z:()=>a})},3685:(e,t)=>{var n;n=function(e){e.version="0.3.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}(),n="undefined"!==typeof Buffer;function r(e){for(var n=-1,r=0,a=e.length-7;r<a;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])];for(;r<a+7;)n=n>>>8^t[255&(n^e[r++])];return-1^n}e.table=t,e.bstr=function(e){if(e.length>32768&&n)return r(new Buffer(e));for(var a=-1,i=e.length-1,o=0;o<i;)a=t[255&(a^e.charCodeAt(o++))]^a>>>8,a=t[255&(a^e.charCodeAt(o++))]^a>>>8;return o===i&&(a=a>>>8^t[255&(a^e.charCodeAt(o))]),-1^a},e.buf=function(e){if(e.length>1e4)return r(e);for(var n=-1,a=0,i=e.length-3;a<i;)n=(n=(n=(n=n>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])];for(;a<i+3;)n=n>>>8^t[255&(n^e[a++])];return-1^n},e.str=function(e){for(var n,r,a=-1,i=0,o=e.length;i<o;)(n=e.charCodeAt(i++))<128?a=a>>>8^t[255&(a^n)]:n<2048?a=(a=a>>>8^t[255&(a^(192|n>>6&31))])>>>8^t[255&(a^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),r=1023&e.charCodeAt(i++),a=(a=(a=(a=a>>>8^t[255&(a^(240|n>>8&7))])>>>8^t[255&(a^(128|n>>2&63))])>>>8^t[255&(a^(128|r>>6&15|3&n))])>>>8^t[255&(a^(128|63&r))]):a=(a=(a=a>>>8^t[255&(a^(224|n>>12&15))])>>>8^t[255&(a^(128|n>>6&63))])>>>8^t[255&(a^(128|63&n))];return-1^a}},"undefined"===typeof DO_NOT_EXPORT_CRC?n(t):n({})},8013:(e,t,n)=>{"use strict";var r=n(2781).PassThrough,a=n(9796),i=n(5705),o=function(e){var t=(e.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(t))return e;var n="br"===t;if(n&&"function"!==typeof a.createBrotliDecompress)return e;var o=n?a.createBrotliDecompress():a.createUnzip(),l=new r;return i(e,l),o.on("error",(function(e){"Z_BUF_ERROR"!==e.code?l.emit("error",e):l.end()})),e.pipe(o).pipe(l),l};e.exports=o,e.exports.default=o},3881:e=>{var t="Expected a function",n=NaN,r="[object Symbol]",a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),f=Object.prototype.toString,h=Math.max,p=Math.min,v=function(){return d.Date.now()};function m(e,n,r){var a,i,o,l,s,c,u=0,d=!1,f=!1,m=!0;if("function"!=typeof e)throw new TypeError(t);function b(t){var n=a,r=i;return a=i=void 0,u=t,l=e.apply(r,n)}function x(e){var t=e-c;return void 0===c||t>=n||t<0||f&&e-u>=o}function w(){var e=v();if(x(e))return k(e);s=setTimeout(w,function(e){var t=n-(e-c);return f?p(t,o-(e-u)):t}(e))}function k(e){return s=void 0,m&&a?b(e):(a=i=void 0,l)}function E(){var e=v(),t=x(e);if(a=arguments,i=this,c=e,t){if(void 0===s)return function(e){return u=e,s=setTimeout(w,n),d?b(e):l}(c);if(f)return s=setTimeout(w,n),b(c)}return void 0===s&&(s=setTimeout(w,n)),l}return n=y(n)||0,g(r)&&(d=!!r.leading,o=(f="maxWait"in r)?h(y(r.maxWait)||0,n):o,m="trailing"in r?!!r.trailing:m),E.cancel=function(){void 0!==s&&clearTimeout(s),u=0,a=c=i=s=void 0},E.flush=function(){return void 0===s?l:k(v())},E}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==r}(e))return n;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var c=o.test(e);return c||l.test(e)?s(e.slice(2),c?2:8):i.test(e)?n:+e}e.exports=function(e,n,r){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError(t);return g(r)&&(a="leading"in r?!!r.leading:a,i="trailing"in r?!!r.trailing:i),m(e,n,{leading:a,maxWait:n,trailing:i})}},5705:(e,t,n)=>{"use strict";var r=n(4704).default,a=["aborted","complete","destroy","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];e.exports=function(e,t){var n,i=new Set(Object.keys(e).concat(a)),o=r(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;l in t||(t[l]="function"===typeof e[l]?e[l].bind(e):e[l])}}catch(s){o.e(s)}finally{o.f()}return t}},4876:(e,t,n)=>{var r=n(6418);function a(e){var t=function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function t(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(a),e.exports.strict=r(i),a.proto=a((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return a(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},9043:(e,t,n)=>{"use strict";var r={};(0,n(8661).assign)(r,n(6106),n(354),n(7500)),e.exports=r},6106:(e,t,n)=>{"use strict";var r=n(2849),a=n(8661),i=n(4590),o=n(3470),l=n(5806),s=Object.prototype.toString,c=0,u=-1,d=0,f=8;function h(e){if(!(this instanceof h))return new h(e);this.options=a.assign({level:u,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"===typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===s.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(o[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}h.prototype.push=function(e,t){var n,o,l=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"===typeof e?l.input=i.string2buf(e):"[object ArrayBuffer]"===s.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new a.Buf8(u),l.next_out=0,l.avail_out=u),1!==(n=r.deflate(l,o))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==l.avail_out&&(0!==l.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(i.buf2binstring(a.shrinkBuf(l.output,l.next_out))):this.onData(a.shrinkBuf(l.output,l.next_out)))}while((l.avail_in>0||0===l.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==o||(this.onEnd(c),l.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=h,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},354:(e,t,n)=>{"use strict";var r=n(1168),a=n(8661),i=n(4590),o=n(7500),l=n(3470),s=n(5806),c=n(5730),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(l[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(l[n])}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||l[n.err];return n.result}d.prototype.push=function(e,t){var n,l,s,c,d,f=this.strm,h=this.options.chunkSize,p=this.options.dictionary,v=!1;if(this.ended)return!1;l=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"===typeof e?f.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(h),f.next_out=0,f.avail_out=h),(n=r.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===o.Z_BUF_ERROR&&!0===v&&(n=o.Z_OK,v=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==o.Z_STREAM_END&&(0!==f.avail_in||l!==o.Z_FINISH&&l!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(s=i.utf8border(f.output,f.next_out),c=f.next_out-s,d=i.buf2string(f.output,s),f.next_out=c,f.avail_out=h-c,c&&a.arraySet(f.output,f.output,s,c,0),this.onData(d)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(v=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(l=o.Z_FINISH),l===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):l!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),f.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},8661:(e,t)=>{"use strict";var n="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var a in n)r(n,a)&&(e[a]=n[a])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,r,a){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),a);else for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){var t,n,r,a,i,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),a=0,t=0,n=e.length;t<n;t++)i=e[t],o.set(i,a),a+=i.length;return o}},i={arraySet:function(e,t,n,r,a){for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(n)},4590:(e,t,n)=>{"use strict";var r=n(8661),a=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(c){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){i=!1}for(var o=new r.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function s(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,t.string2buf=function(e){var t,n,a,i,o,l=e.length,s=0;for(i=0;i<l;i++)55296===(64512&(n=e.charCodeAt(i)))&&i+1<l&&56320===(64512&(a=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(s),o=0,i=0;o<s;i++)55296===(64512&(n=e.charCodeAt(i)))&&i+1<l&&56320===(64512&(a=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return s(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,a=t.length;n<a;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,a,i,l=t||e.length,c=new Array(2*l);for(r=0,n=0;n<l;)if((a=e[n++])<128)c[r++]=a;else if((i=o[a])>4)c[r++]=65533,n+=i-1;else{for(a&=2===i?31:3===i?15:7;i>1&&n<l;)a=a<<6|63&e[n++],i--;i>1?c[r++]=65533:a<65536?c[r++]=a:(a-=65536,c[r++]=55296|a>>10&1023,c[r++]=56320|1023&a)}return s(c,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},8409:e=>{"use strict";e.exports=function(e,t,n,r){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(a=a+t[r++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0}},7500:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},1656:e=>{"use strict";var t=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,n,r,a){var i=t,o=a+r;e^=-1;for(var l=a;l<o;l++)e=e>>>8^i[255&(e^n[l])];return-1^e}},2849:(e,t,n)=>{"use strict";var r,a=n(8661),i=n(889),o=n(8409),l=n(1656),s=n(3470),c=0,u=4,d=0,f=-2,h=-1,p=4,v=2,m=8,g=9,y=286,b=30,x=19,w=2*y+1,k=15,E=3,S=258,C=S+E+1,M=42,_=103,Z=113,I=666,T=1,j=2,P=3,L=4;function D(e,t){return e.msg=s[t],t}function O(e){return(e<<1)-(e>4?9:0)}function R(e){for(var t=e.length;--t>=0;)e[t]=0}function A(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(a.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function N(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,A(e.strm)}function z(e,t){e.pending_buf[e.pending++]=t}function B(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function F(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,a.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=o(e.adler,t,i,n):2===e.state.wrap&&(e.adler=l(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function H(e,t){var n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,l=e.nice_match,s=e.strstart>e.w_size-C?e.strstart-(e.w_size-C):0,c=e.window,u=e.w_mask,d=e.prev,f=e.strstart+S,h=c[i+o-1],p=c[i+o];e.prev_length>=e.good_match&&(a>>=2),l>e.lookahead&&(l=e.lookahead);do{if(c[(n=t)+o]===p&&c[n+o-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<f);if(r=S-(f-i),i=f-S,r>o){if(e.match_start=t,o=r,r>=l)break;h=c[i+o-1],p=c[i+o]}}}while((t=d[t&u])>s&&0!==--a);return o<=e.lookahead?o:e.lookahead}function W(e){var t,n,r,i,o,l=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=l+(l-C)){a.arraySet(e.window,e.window,l,l,0),e.match_start-=l,e.strstart-=l,e.block_start-=l,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=l?r-l:0}while(--n);t=n=l;do{r=e.prev[--t],e.prev[t]=r>=l?r-l:0}while(--n);i+=l}if(0===e.strm.avail_in)break;if(n=F(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=E)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+E-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<E)););}while(e.lookahead<C&&0!==e.strm.avail_in)}function U(e,t){for(var n,r;;){if(e.lookahead<C){if(W(e),e.lookahead<C&&t===c)return T;if(0===e.lookahead)break}if(n=0,e.lookahead>=E&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+E-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-C&&(e.match_length=H(e,n)),e.match_length>=E)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-E),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=E){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+E-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(N(e,!1),0===e.strm.avail_out))return T}return e.insert=e.strstart<E-1?e.strstart:E-1,t===u?(N(e,!0),0===e.strm.avail_out?P:L):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?T:j}function K(e,t){for(var n,r,a;;){if(e.lookahead<C){if(W(e),e.lookahead<C&&t===c)return T;if(0===e.lookahead)break}if(n=0,e.lookahead>=E&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+E-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=E-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-C&&(e.match_length=H(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===E&&e.strstart-e.match_start>4096)&&(e.match_length=E-1)),e.prev_length>=E&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-E,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-E),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+E-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=E-1,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return T}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return T}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<E-1?e.strstart:E-1,t===u?(N(e,!0),0===e.strm.avail_out?P:L):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?T:j}function V(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}function Y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*w),this.dyn_dtree=new a.Buf16(2*(2*b+1)),this.bl_tree=new a.Buf16(2*(2*x+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(k+1),this.heap=new a.Buf16(2*y+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*y+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=v,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?M:Z,e.adler=2===t.wrap?0:1,t.last_flush=c,i._tr_init(t),d):D(e,f)}function X(e){var t,n=G(e);return n===d&&((t=e.state).window_size=2*t.w_size,R(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=E-1,t.match_available=0,t.ins_h=0),n}function q(e,t,n,r,i,o){if(!e)return f;var l=1;if(t===h&&(t=6),r<0?(l=0,r=-r):r>15&&(l=2,r-=16),i<1||i>g||n!==m||r<8||r>15||t<0||t>9||o<0||o>p)return D(e,f);8===r&&(r=9);var s=new Y;return e.state=s,s.strm=e,s.wrap=l,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+E-1)/E),s.window=new a.Buf8(2*s.w_size),s.head=new a.Buf16(s.hash_size),s.prev=new a.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new a.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,X(e)}r=[new V(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(W(e),0===e.lookahead&&t===c)return T;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,N(e,!1),0===e.strm.avail_out))return T;if(e.strstart-e.block_start>=e.w_size-C&&(N(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(N(e,!0),0===e.strm.avail_out?P:L):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),T)})),new V(4,4,8,4,U),new V(4,5,16,8,U),new V(4,6,32,32,U),new V(4,4,16,16,K),new V(8,16,32,32,K),new V(8,16,128,128,K),new V(8,32,128,256,K),new V(32,128,258,1024,K),new V(32,258,258,4096,K)],t.deflateInit=function(e,t){return q(e,t,m,15,8,0)},t.deflateInit2=q,t.deflateReset=X,t.deflateResetKeep=G,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,d):f},t.deflate=function(e,t){var n,a,o,s;if(!e||!e.state||t>5||t<0)return e?D(e,f):f;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===I&&t!==u)return D(e,0===e.avail_out?-5:f);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===M)if(2===a.wrap)e.adler=0,z(a,31),z(a,139),z(a,8),a.gzhead?(z(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),z(a,255&a.gzhead.time),z(a,a.gzhead.time>>8&255),z(a,a.gzhead.time>>16&255),z(a,a.gzhead.time>>24&255),z(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),z(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(z(a,255&a.gzhead.extra.length),z(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=l(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(z(a,0),z(a,0),z(a,0),z(a,0),z(a,0),z(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),z(a,3),a.status=Z);else{var h=m+(a.w_bits-8<<4)<<8;h|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(h|=32),h+=31-h%31,a.status=Z,B(a,h),0!==a.strstart&&(B(a,e.adler>>>16),B(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(o=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>o&&(e.adler=l(e.adler,a.pending_buf,a.pending-o,o)),A(e),o=a.pending,a.pending!==a.pending_buf_size));)z(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>o&&(e.adler=l(e.adler,a.pending_buf,a.pending-o,o)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=l(e.adler,a.pending_buf,a.pending-o,o)),A(e),o=a.pending,a.pending===a.pending_buf_size)){s=1;break}s=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,z(a,s)}while(0!==s);a.gzhead.hcrc&&a.pending>o&&(e.adler=l(e.adler,a.pending_buf,a.pending-o,o)),0===s&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=l(e.adler,a.pending_buf,a.pending-o,o)),A(e),o=a.pending,a.pending===a.pending_buf_size)){s=1;break}s=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,z(a,s)}while(0!==s);a.gzhead.hcrc&&a.pending>o&&(e.adler=l(e.adler,a.pending_buf,a.pending-o,o)),0===s&&(a.status=_)}else a.status=_;if(a.status===_&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&A(e),a.pending+2<=a.pending_buf_size&&(z(a,255&e.adler),z(a,e.adler>>8&255),e.adler=0,a.status=Z)):a.status=Z),0!==a.pending){if(A(e),0===e.avail_out)return a.last_flush=-1,d}else if(0===e.avail_in&&O(t)<=O(n)&&t!==u)return D(e,-5);if(a.status===I&&0!==e.avail_in)return D(e,-5);if(0!==e.avail_in||0!==a.lookahead||t!==c&&a.status!==I){var p=2===a.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(W(e),0===e.lookahead)){if(t===c)return T;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(N(e,!0),0===e.strm.avail_out?P:L):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?T:j}(a,t):3===a.strategy?function(e,t){for(var n,r,a,o,l=e.window;;){if(e.lookahead<=S){if(W(e),e.lookahead<=S&&t===c)return T;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=E&&e.strstart>0&&(r=l[a=e.strstart-1])===l[++a]&&r===l[++a]&&r===l[++a]){o=e.strstart+S;do{}while(r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&a<o);e.match_length=S-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=E?(n=i._tr_tally(e,1,e.match_length-E),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(N(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(N(e,!0),0===e.strm.avail_out?P:L):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?T:j}(a,t):r[a.level].func(a,t);if(p!==P&&p!==L||(a.status=I),p===T||p===P)return 0===e.avail_out&&(a.last_flush=-1),d;if(p===j&&(1===t?i._tr_align(a):5!==t&&(i._tr_stored_block(a,0,0,!1),3===t&&(R(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),A(e),0===e.avail_out))return a.last_flush=-1,d}return t!==u?d:a.wrap<=0?1:(2===a.wrap?(z(a,255&e.adler),z(a,e.adler>>8&255),z(a,e.adler>>16&255),z(a,e.adler>>24&255),z(a,255&e.total_in),z(a,e.total_in>>8&255),z(a,e.total_in>>16&255),z(a,e.total_in>>24&255)):(B(a,e.adler>>>16),B(a,65535&e.adler)),A(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?d:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==M&&69!==t&&73!==t&&91!==t&&t!==_&&t!==Z&&t!==I?D(e,f):(e.state=null,t===Z?D(e,-3):d):f},t.deflateSetDictionary=function(e,t){var n,r,i,l,s,c,u,h,p=t.length;if(!e||!e.state)return f;if(2===(l=(n=e.state).wrap)||1===l&&n.status!==M||n.lookahead)return f;for(1===l&&(e.adler=o(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===l&&(R(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new a.Buf8(n.w_size),a.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),s=e.avail_in,c=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,W(n);n.lookahead>=E;){r=n.strstart,i=n.lookahead-(E-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+E-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=E-1,W(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=E-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=s,n.wrap=l,d},t.deflateInfo="pako deflate (from Nodeca project)"},5730:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},374:e=>{"use strict";e.exports=function(e,t){var n,r,a,i,o,l,s,c,u,d,f,h,p,v,m,g,y,b,x,w,k,E,S,C,M;n=e.state,r=e.next_in,C=e.input,a=r+(e.avail_in-5),i=e.next_out,M=e.output,o=i-(t-e.avail_out),l=i+(e.avail_out-257),s=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,v=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=C[r++]<<p,p+=8,h+=C[r++]<<p,p+=8),b=v[h&g];t:for(;;){if(h>>>=x=b>>>24,p-=x,0===(x=b>>>16&255))M[i++]=65535&b;else{if(!(16&x)){if(0===(64&x)){b=v[(65535&b)+(h&(1<<x)-1)];continue t}if(32&x){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(x&=15)&&(p<x&&(h+=C[r++]<<p,p+=8),w+=h&(1<<x)-1,h>>>=x,p-=x),p<15&&(h+=C[r++]<<p,p+=8,h+=C[r++]<<p,p+=8),b=m[h&y];n:for(;;){if(h>>>=x=b>>>24,p-=x,!(16&(x=b>>>16&255))){if(0===(64&x)){b=m[(65535&b)+(h&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&b,p<(x&=15)&&(h+=C[r++]<<p,(p+=8)<x&&(h+=C[r++]<<p,p+=8)),(k+=h&(1<<x)-1)>s){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=x,p-=x,k>(x=i-o)){if((x=k-x)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=0,S=f,0===d){if(E+=c-x,x<w){w-=x;do{M[i++]=f[E++]}while(--x);E=i-k,S=M}}else if(d<x){if(E+=c+d-x,(x-=d)<w){w-=x;do{M[i++]=f[E++]}while(--x);if(E=0,d<w){w-=x=d;do{M[i++]=f[E++]}while(--x);E=i-k,S=M}}}else if(E+=d-x,x<w){w-=x;do{M[i++]=f[E++]}while(--x);E=i-k,S=M}for(;w>2;)M[i++]=S[E++],M[i++]=S[E++],M[i++]=S[E++],w-=3;w&&(M[i++]=S[E++],w>1&&(M[i++]=S[E++]))}else{E=i-k;do{M[i++]=M[E++],M[i++]=M[E++],M[i++]=M[E++],w-=3}while(w>2);w&&(M[i++]=M[E++],w>1&&(M[i++]=M[E++]))}break}}break}}while(r<a&&i<l);r-=w=p>>3,h&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?a-r+5:5-(r-a),e.avail_out=i<l?l-i+257:257-(i-l),n.hold=h,n.bits=p}},1168:(e,t,n)=>{"use strict";var r=n(8661),a=n(8409),i=n(1656),o=n(374),l=n(6583),s=1,c=2,u=0,d=-2,f=1,h=12,p=30,v=852,m=592;function g(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(v),t.distcode=t.distdyn=new r.Buf32(m),t.sane=1,t.back=-1,u):d}function x(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,b(e)):d}function w(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?d:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,x(e))):d}function k(e,t){var n,r;return e?(r=new y,e.state=r,r.window=null,(n=w(e,t))!==u&&(e.state=null),n):d}var E,S,C=!0;function M(e){if(C){var t;for(E=new r.Buf32(512),S=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(l(s,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;l(c,e.lens,0,32,S,0,e.work,{bits:5}),C=!1}e.lencode=E,e.lenbits=9,e.distcode=S,e.distbits=5}function _(e,t,n,a){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),a>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>a&&(i=a),r.arraySet(o.window,t,n-a,i,o.wnext),(a-=i)?(r.arraySet(o.window,t,n-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}t.inflateReset=x,t.inflateReset2=w,t.inflateResetKeep=b,t.inflateInit=function(e){return k(e,15)},t.inflateInit2=k,t.inflate=function(e,t){var n,v,m,y,b,x,w,k,E,S,C,Z,I,T,j,P,L,D,O,R,A,N,z,B,F=0,H=new r.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;(n=e.state).mode===h&&(n.mode=13),b=e.next_out,m=e.output,w=e.avail_out,y=e.next_in,v=e.input,x=e.avail_in,k=n.hold,E=n.bits,S=x,C=w,N=u;e:for(;;)switch(n.mode){case f:if(0===n.wrap){n.mode=13;break}for(;E<16;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}if(2&n.wrap&&35615===k){n.check=0,H[0]=255&k,H[1]=k>>>8&255,n.check=i(n.check,H,2,0),k=0,E=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&k)<<8)+(k>>8))%31){e.msg="incorrect header check",n.mode=p;break}if(8!==(15&k)){e.msg="unknown compression method",n.mode=p;break}if(E-=4,A=8+(15&(k>>>=4)),0===n.wbits)n.wbits=A;else if(A>n.wbits){e.msg="invalid window size",n.mode=p;break}n.dmax=1<<A,e.adler=n.check=1,n.mode=512&k?10:h,k=0,E=0;break;case 2:for(;E<16;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}if(n.flags=k,8!==(255&n.flags)){e.msg="unknown compression method",n.mode=p;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=p;break}n.head&&(n.head.text=k>>8&1),512&n.flags&&(H[0]=255&k,H[1]=k>>>8&255,n.check=i(n.check,H,2,0)),k=0,E=0,n.mode=3;case 3:for(;E<32;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}n.head&&(n.head.time=k),512&n.flags&&(H[0]=255&k,H[1]=k>>>8&255,H[2]=k>>>16&255,H[3]=k>>>24&255,n.check=i(n.check,H,4,0)),k=0,E=0,n.mode=4;case 4:for(;E<16;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}n.head&&(n.head.xflags=255&k,n.head.os=k>>8),512&n.flags&&(H[0]=255&k,H[1]=k>>>8&255,n.check=i(n.check,H,2,0)),k=0,E=0,n.mode=5;case 5:if(1024&n.flags){for(;E<16;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}n.length=k,n.head&&(n.head.extra_len=k),512&n.flags&&(H[0]=255&k,H[1]=k>>>8&255,n.check=i(n.check,H,2,0)),k=0,E=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((Z=n.length)>x&&(Z=x),Z&&(n.head&&(A=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,v,y,Z,A)),512&n.flags&&(n.check=i(n.check,v,Z,y)),x-=Z,y+=Z,n.length-=Z),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===x)break e;Z=0;do{A=v[y+Z++],n.head&&A&&n.length<65536&&(n.head.name+=String.fromCharCode(A))}while(A&&Z<x);if(512&n.flags&&(n.check=i(n.check,v,Z,y)),x-=Z,y+=Z,A)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===x)break e;Z=0;do{A=v[y+Z++],n.head&&A&&n.length<65536&&(n.head.comment+=String.fromCharCode(A))}while(A&&Z<x);if(512&n.flags&&(n.check=i(n.check,v,Z,y)),x-=Z,y+=Z,A)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;E<16;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}if(k!==(65535&n.check)){e.msg="header crc mismatch",n.mode=p;break}k=0,E=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=h;break;case 10:for(;E<32;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}e.adler=n.check=g(k),k=0,E=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=b,e.avail_out=w,e.next_in=y,e.avail_in=x,n.hold=k,n.bits=E,2;e.adler=n.check=1,n.mode=h;case h:if(5===t||6===t)break e;case 13:if(n.last){k>>>=7&E,E-=7&E,n.mode=27;break}for(;E<3;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}switch(n.last=1&k,E-=1,3&(k>>>=1)){case 0:n.mode=14;break;case 1:if(M(n),n.mode=20,6===t){k>>>=2,E-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=p}k>>>=2,E-=2;break;case 14:for(k>>>=7&E,E-=7&E;E<32;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}if((65535&k)!==(k>>>16^65535)){e.msg="invalid stored block lengths",n.mode=p;break}if(n.length=65535&k,k=0,E=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(Z=n.length){if(Z>x&&(Z=x),Z>w&&(Z=w),0===Z)break e;r.arraySet(m,v,y,Z,b),x-=Z,y+=Z,w-=Z,b+=Z,n.length-=Z;break}n.mode=h;break;case 17:for(;E<14;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}if(n.nlen=257+(31&k),k>>>=5,E-=5,n.ndist=1+(31&k),k>>>=5,E-=5,n.ncode=4+(15&k),k>>>=4,E-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=p;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;E<3;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}n.lens[W[n.have++]]=7&k,k>>>=3,E-=3}for(;n.have<19;)n.lens[W[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,z={bits:n.lenbits},N=l(0,n.lens,0,19,n.lencode,0,n.work,z),n.lenbits=z.bits,N){e.msg="invalid code lengths set",n.mode=p;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;P=(F=n.lencode[k&(1<<n.lenbits)-1])>>>16&255,L=65535&F,!((j=F>>>24)<=E);){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}if(L<16)k>>>=j,E-=j,n.lens[n.have++]=L;else{if(16===L){for(B=j+2;E<B;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}if(k>>>=j,E-=j,0===n.have){e.msg="invalid bit length repeat",n.mode=p;break}A=n.lens[n.have-1],Z=3+(3&k),k>>>=2,E-=2}else if(17===L){for(B=j+3;E<B;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}E-=j,A=0,Z=3+(7&(k>>>=j)),k>>>=3,E-=3}else{for(B=j+7;E<B;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}E-=j,A=0,Z=11+(127&(k>>>=j)),k>>>=7,E-=7}if(n.have+Z>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=p;break}for(;Z--;)n.lens[n.have++]=A}}if(n.mode===p)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=p;break}if(n.lenbits=9,z={bits:n.lenbits},N=l(s,n.lens,0,n.nlen,n.lencode,0,n.work,z),n.lenbits=z.bits,N){e.msg="invalid literal/lengths set",n.mode=p;break}if(n.distbits=6,n.distcode=n.distdyn,z={bits:n.distbits},N=l(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,z),n.distbits=z.bits,N){e.msg="invalid distances set",n.mode=p;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(x>=6&&w>=258){e.next_out=b,e.avail_out=w,e.next_in=y,e.avail_in=x,n.hold=k,n.bits=E,o(e,C),b=e.next_out,m=e.output,w=e.avail_out,y=e.next_in,v=e.input,x=e.avail_in,k=n.hold,E=n.bits,n.mode===h&&(n.back=-1);break}for(n.back=0;P=(F=n.lencode[k&(1<<n.lenbits)-1])>>>16&255,L=65535&F,!((j=F>>>24)<=E);){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}if(P&&0===(240&P)){for(D=j,O=P,R=L;P=(F=n.lencode[R+((k&(1<<D+O)-1)>>D)])>>>16&255,L=65535&F,!(D+(j=F>>>24)<=E);){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}k>>>=D,E-=D,n.back+=D}if(k>>>=j,E-=j,n.back+=j,n.length=L,0===P){n.mode=26;break}if(32&P){n.back=-1,n.mode=h;break}if(64&P){e.msg="invalid literal/length code",n.mode=p;break}n.extra=15&P,n.mode=22;case 22:if(n.extra){for(B=n.extra;E<B;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}n.length+=k&(1<<n.extra)-1,k>>>=n.extra,E-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;P=(F=n.distcode[k&(1<<n.distbits)-1])>>>16&255,L=65535&F,!((j=F>>>24)<=E);){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}if(0===(240&P)){for(D=j,O=P,R=L;P=(F=n.distcode[R+((k&(1<<D+O)-1)>>D)])>>>16&255,L=65535&F,!(D+(j=F>>>24)<=E);){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}k>>>=D,E-=D,n.back+=D}if(k>>>=j,E-=j,n.back+=j,64&P){e.msg="invalid distance code",n.mode=p;break}n.offset=L,n.extra=15&P,n.mode=24;case 24:if(n.extra){for(B=n.extra;E<B;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}n.offset+=k&(1<<n.extra)-1,k>>>=n.extra,E-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=p;break}n.mode=25;case 25:if(0===w)break e;if(Z=C-w,n.offset>Z){if((Z=n.offset-Z)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=p;break}Z>n.wnext?(Z-=n.wnext,I=n.wsize-Z):I=n.wnext-Z,Z>n.length&&(Z=n.length),T=n.window}else T=m,I=b-n.offset,Z=n.length;Z>w&&(Z=w),w-=Z,n.length-=Z;do{m[b++]=T[I++]}while(--Z);0===n.length&&(n.mode=21);break;case 26:if(0===w)break e;m[b++]=n.length,w--,n.mode=21;break;case 27:if(n.wrap){for(;E<32;){if(0===x)break e;x--,k|=v[y++]<<E,E+=8}if(C-=w,e.total_out+=C,n.total+=C,C&&(e.adler=n.check=n.flags?i(n.check,m,C,b-C):a(n.check,m,C,b-C)),C=w,(n.flags?k:g(k))!==n.check){e.msg="incorrect data check",n.mode=p;break}k=0,E=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;E<32;){if(0===x)break e;x--,k+=v[y++]<<E,E+=8}if(k!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=p;break}k=0,E=0}n.mode=29;case 29:N=1;break e;case p:N=-3;break e;case 31:return-4;default:return d}return e.next_out=b,e.avail_out=w,e.next_in=y,e.avail_in=x,n.hold=k,n.bits=E,(n.wsize||C!==e.avail_out&&n.mode<p&&(n.mode<27||4!==t))&&_(e,e.output,e.next_out,C-e.avail_out)?(n.mode=31,-4):(S-=e.avail_in,C-=e.avail_out,e.total_in+=S,e.total_out+=C,n.total+=C,n.wrap&&C&&(e.adler=n.check=n.flags?i(n.check,m,C,e.next_out-C):a(n.check,m,C,e.next_out-C)),e.data_type=n.bits+(n.last?64:0)+(n.mode===h?128:0)+(20===n.mode||15===n.mode?256:0),(0===S&&0===C||4===t)&&N===u&&(N=-5),N)},t.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,u},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?d:(n.head=t,t.done=!1,u):d},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&a(1,t,r,0)!==n.check?-3:_(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):d},t.inflateInfo="pako inflate (from Nodeca project)"},6583:(e,t,n)=>{"use strict";var r=n(8661),a=15,i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,c,u,d,f,h){var p,v,m,g,y,b,x,w,k,E=h.bits,S=0,C=0,M=0,_=0,Z=0,I=0,T=0,j=0,P=0,L=0,D=null,O=0,R=new r.Buf16(16),A=new r.Buf16(16),N=null,z=0;for(S=0;S<=a;S++)R[S]=0;for(C=0;C<c;C++)R[t[n+C]]++;for(Z=E,_=a;_>=1&&0===R[_];_--);if(Z>_&&(Z=_),0===_)return u[d++]=20971520,u[d++]=20971520,h.bits=1,0;for(M=1;M<_&&0===R[M];M++);for(Z<M&&(Z=M),j=1,S=1;S<=a;S++)if(j<<=1,(j-=R[S])<0)return-1;if(j>0&&(0===e||1!==_))return-1;for(A[1]=0,S=1;S<a;S++)A[S+1]=A[S]+R[S];for(C=0;C<c;C++)0!==t[n+C]&&(f[A[t[n+C]]++]=C);if(0===e?(D=N=f,b=19):1===e?(D=i,O-=257,N=o,z-=257,b=256):(D=l,N=s,b=-1),L=0,C=0,S=M,y=d,I=Z,T=0,m=-1,g=(P=1<<Z)-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){x=S-T,f[C]<b?(w=0,k=f[C]):f[C]>b?(w=N[z+f[C]],k=D[O+f[C]]):(w=96,k=0),p=1<<S-T,M=v=1<<I;do{u[y+(L>>T)+(v-=p)]=x<<24|w<<16|k|0}while(0!==v);for(p=1<<S-1;L&p;)p>>=1;if(0!==p?(L&=p-1,L+=p):L=0,C++,0===--R[S]){if(S===_)break;S=t[n+f[C]]}if(S>Z&&(L&g)!==m){for(0===T&&(T=Z),y+=M,j=1<<(I=S-T);I+T<_&&!((j-=R[I+T])<=0);)I++,j<<=1;if(P+=1<<I,1===e&&P>852||2===e&&P>592)return 1;u[m=L&g]=Z<<24|I<<16|y-d|0}}return 0!==L&&(u[y+L]=S-T<<24|64<<16|0),h.bits=Z,0}},3470:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},889:(e,t,n)=>{"use strict";var r=n(8661),a=0,i=1;function o(e){for(var t=e.length;--t>=0;)e[t]=0}var l=0,s=29,c=256,u=c+1+s,d=30,f=19,h=2*u+1,p=15,v=16,m=7,g=256,y=16,b=17,x=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(2*(u+2));o(C);var M=new Array(2*d);o(M);var _=new Array(512);o(_);var Z=new Array(256);o(Z);var I=new Array(s);o(I);var T,j,P,L=new Array(d);function D(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function O(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function R(e){return e<256?_[e]:_[256+(e>>>7)]}function A(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function N(e,t,n){e.bi_valid>v-n?(e.bi_buf|=t<<e.bi_valid&65535,A(e,e.bi_buf),e.bi_buf=t>>v-e.bi_valid,e.bi_valid+=n-v):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function z(e,t,n){N(e,n[2*t],n[2*t+1])}function B(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function F(e,t,n){var r,a,i=new Array(p+1),o=0;for(r=1;r<=p;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=t;a++){var l=e[2*a+1];0!==l&&(e[2*a]=B(i[l]++,l))}}function H(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function W(e){e.bi_valid>8?A(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function U(e,t,n,r){var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]}function K(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&U(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!U(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r}function V(e,t,n){var r,a,i,o,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],a=e.pending_buf[e.l_buf+l],l++,0===r?z(e,a,t):(z(e,(i=Z[a])+c+1,t),0!==(o=w[i])&&N(e,a-=I[i],o),z(e,i=R(--r),n),0!==(o=k[i])&&N(e,r-=L[i],o))}while(l<e.last_lit);z(e,g,t)}function Y(e,t){var n,r,a,i=t.dyn_tree,o=t.stat_desc.static_tree,l=t.stat_desc.has_stree,s=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<s;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[a]=0,e.opt_len--,l&&(e.static_len-=o[2*a+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)K(e,i,n);a=s;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],K(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,K(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,i,o,l,s=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,v=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(i=0;i<=p;i++)e.bl_count[i]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)(i=s[2*s[2*(r=e.heap[n])+1]+1]+1)>m&&(i=m,g++),s[2*r+1]=i,r>c||(e.bl_count[i]++,o=0,r>=v&&(o=f[r-v]),l=s[2*r],e.opt_len+=l*(i+o),d&&(e.static_len+=l*(u[2*r+1]+o)));if(0!==g){do{for(i=m-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[m]--,g-=2}while(g>0);for(i=m;0!==i;i--)for(r=e.bl_count[i];0!==r;)(a=e.heap[--n])>c||(s[2*a+1]!==i&&(e.opt_len+=(i-s[2*a+1])*s[2*a],s[2*a+1]=i),r--)}}(e,t),F(i,c,e.bl_count)}function G(e,t,n){var r,a,i=-1,o=t[1],l=0,s=7,c=4;for(0===o&&(s=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++l<s&&a===o||(l<c?e.bl_tree[2*a]+=l:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[2*y]++):l<=10?e.bl_tree[2*b]++:e.bl_tree[2*x]++,l=0,i=a,0===o?(s=138,c=3):a===o?(s=6,c=3):(s=7,c=4))}function X(e,t,n){var r,a,i=-1,o=t[1],l=0,s=7,c=4;for(0===o&&(s=138,c=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++l<s&&a===o)){if(l<c)do{z(e,a,e.bl_tree)}while(0!==--l);else 0!==a?(a!==i&&(z(e,a,e.bl_tree),l--),z(e,y,e.bl_tree),N(e,l-3,2)):l<=10?(z(e,b,e.bl_tree),N(e,l-3,3)):(z(e,x,e.bl_tree),N(e,l-11,7));l=0,i=a,0===o?(s=138,c=3):a===o?(s=6,c=3):(s=7,c=4)}}o(L);var q=!1;function $(e,t,n,a){N(e,(l<<1)+(a?1:0),3),function(e,t,n,a){W(e),a&&(A(e,n),A(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){q||(!function(){var e,t,n,r,a,i=new Array(p+1);for(n=0,r=0;r<s-1;r++)for(I[r]=n,e=0;e<1<<w[r];e++)Z[n++]=r;for(Z[n-1]=r,a=0,r=0;r<16;r++)for(L[r]=a,e=0;e<1<<k[r];e++)_[a++]=r;for(a>>=7;r<d;r++)for(L[r]=a<<7,e=0;e<1<<k[r]-7;e++)_[256+a++]=r;for(t=0;t<=p;t++)i[t]=0;for(e=0;e<=143;)C[2*e+1]=8,e++,i[8]++;for(;e<=255;)C[2*e+1]=9,e++,i[9]++;for(;e<=279;)C[2*e+1]=7,e++,i[7]++;for(;e<=287;)C[2*e+1]=8,e++,i[8]++;for(F(C,u+1,i),e=0;e<d;e++)M[2*e+1]=5,M[2*e]=B(e,5);T=new D(C,w,c+1,u,p),j=new D(M,k,0,d,p),P=new D(new Array(0),E,0,f,m)}(),q=!0),e.l_desc=new O(e.dyn_ltree,T),e.d_desc=new O(e.dyn_dtree,j),e.bl_desc=new O(e.bl_tree,P),e.bi_buf=0,e.bi_valid=0,H(e)},t._tr_stored_block=$,t._tr_flush_block=function(e,t,n,r){var o,l,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return i;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return i;return a}(e)),Y(e,e.l_desc),Y(e,e.d_desc),s=function(e){var t;for(G(e,e.dyn_ltree,e.l_desc.max_code),G(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=f-1;t>=3&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(l=e.static_len+3+7>>>3)<=o&&(o=l)):o=l=n+5,n+4<=o&&-1!==t?$(e,t,n,r):4===e.strategy||l===o?(N(e,2+(r?1:0),3),V(e,C,M)):(N(e,4+(r?1:0),3),function(e,t,n,r){var a;for(N(e,t-257,5),N(e,n-1,5),N(e,r-4,4),a=0;a<r;a++)N(e,e.bl_tree[2*S[a]+1],3);X(e,e.dyn_ltree,t-1),X(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),V(e,e.dyn_ltree,e.dyn_dtree)),H(e),r&&W(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(Z[n]+c+1)]++,e.dyn_dtree[2*R(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){N(e,2,3),z(e,g,C),function(e){16===e.bi_valid?(A(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},5806:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},1577:e=>{e.exports=function(e){e.data&&e.name&&(e=e.data);for(var t=!0,n="",r="",a=0;a<e.length;a++){var i=e[a];if(t)i?r+=String.fromCharCode(i):t=!1;else{if(!i)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");n+=String.fromCharCode(i)}}return{keyword:r,text:n}}},6493:e=>{e.exports=function(e,t){if(e=String(e),t=String(t),!/^[\x00-\xFF]+$/.test(e)||!/^[\x00-\xFF]+$/.test(t))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(e.length>=80)throw new Error('Keyword "'+e+'" is longer than the 79-character limit imposed by the PNG specification');for(var n,r=e.length+t.length+1,a=new Uint8Array(r),i=0,o=0;o<e.length;o++){if(!(n=e.charCodeAt(o)))throw new Error("0x00 character is not permitted in tEXt keywords");a[i++]=n}a[i++]=0;for(var l=0;l<t.length;l++){if(!(n=t.charCodeAt(l)))throw new Error("0x00 character is not permitted in tEXt content");a[i++]=n}return{name:"tEXt",data:a}}},3379:(e,t,n)=>{t.encode=n(6493),t.decode=n(1577)},1543:(e,t,n)=>{var r=n(4558),a=n(3685);e.exports=function(e){var t,n=8,s=n;for(t=0;t<e.length;t++)n+=e[t].data.length,n+=12;var c=new Uint8Array(n);for(c[0]=137,c[1]=80,c[2]=78,c[3]=71,c[4]=13,c[5]=10,c[6]=26,c[7]=10,t=0;t<e.length;t++){var u=e[t],d=u.name,f=u.data,h=f.length,p=[d.charCodeAt(0),d.charCodeAt(1),d.charCodeAt(2),d.charCodeAt(3)];l[0]=h,c[s++]=i[3],c[s++]=i[2],c[s++]=i[1],c[s++]=i[0],c[s++]=p[0],c[s++]=p[1],c[s++]=p[2],c[s++]=p[3];for(var v=0;v<h;)c[s++]=f[v++];var m=p.concat(r(f)),g=a.buf(m);o[0]=g,c[s++]=i[3],c[s++]=i[2],c[s++]=i[1],c[s++]=i[0]}return c};var i=new Uint8Array(4),o=new Int32Array(i.buffer),l=new Uint32Array(i.buffer)},3752:(e,t,n)=>{var r=n(3685);e.exports=function(e){if(137!==e[0])throw new Error("Invalid .png file header");if(80!==e[1])throw new Error("Invalid .png file header");if(78!==e[2])throw new Error("Invalid .png file header");if(71!==e[3])throw new Error("Invalid .png file header");if(13!==e[4])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(10!==e[5])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(26!==e[6])throw new Error("Invalid .png file header");if(10!==e[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");var t=!1,n=[],l=8;for(;l<e.length;){a[3]=e[l++],a[2]=e[l++],a[1]=e[l++],a[0]=e[l++];var s=o[0]+4,c=new Uint8Array(s);c[0]=e[l++],c[1]=e[l++],c[2]=e[l++],c[3]=e[l++];var u=String.fromCharCode(c[0])+String.fromCharCode(c[1])+String.fromCharCode(c[2])+String.fromCharCode(c[3]);if(!n.length&&"IHDR"!==u)throw new Error("IHDR header missing");if("IEND"===u){t=!0,n.push({name:u,data:new Uint8Array(0)});break}for(var d=4;d<s;d++)c[d]=e[l++];a[3]=e[l++],a[2]=e[l++],a[1]=e[l++],a[0]=e[l++];var f=i[0];if(r.buf(c)!==f)throw new Error("CRC values for "+u+" header do not match, PNG file is likely corrupted");var h=new Uint8Array(c.buffer.slice(4));n.push({name:u,data:h})}if(!t)throw new Error(".png file ended prematurely: no IEND header was found");return n};var a=new Uint8Array(4),i=new Int32Array(a.buffer),o=new Uint32Array(a.buffer)},8631:(e,t,n)=>{"use strict";function r(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function a(e,t,n){var a=r(t,n);if(0===a)return r(e,t);var o=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/a;return r(e,i(t,n,o=Math.max(0,Math.min(1,o))))}function i(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function o(e,t,n,a){var l=a||[];if(function(e,t){var n=e[t+0],r=e[t+1],a=e[t+2],i=e[t+3],o=3*r[0]-2*n[0]-i[0];o*=o;var l=3*r[1]-2*n[1]-i[1];l*=l;var s=3*a[0]-2*i[0]-n[0];s*=s;var c=3*a[1]-2*i[1]-n[1];return o<s&&(o=s),l<(c*=c)&&(l=c),o+l}(e,t)<n){var s=e[t+0];if(l.length){var c=function(e,t){return Math.sqrt(r(e,t))}(l[l.length-1],s);c>1&&l.push(s)}else l.push(s);l.push(e[t+3])}else{var u=.5,d=e[t+0],f=e[t+1],h=e[t+2],p=e[t+3],v=i(d,f,u),m=i(f,h,u),g=i(h,p,u),y=i(v,m,u),b=i(m,g,u),x=i(y,b,u);o([d,v,y,x],0,n,l),o([x,b,g,p],0,n,l)}return l}function l(e,t){return s(e,0,e.length,t)}function s(e,t,n,r,i){for(var o=i||[],l=e[t],c=e[n-1],u=0,d=1,f=t+1;f<n-1;++f){var h=a(e[f],l,c);h>u&&(u=h,d=f)}return Math.sqrt(u)>r?(s(e,t,d+1,r,o),s(e,d,n,r,o)):(o.length||o.push(l),o.push(c)),o}function c(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],a=(e.length-1)/3,i=0;i<a;i++){o(e,3*i,t,r)}return n&&n>0?s(r,0,r.length,n):r}n.d(t,{og:()=>l,sU:()=>c})},4463:(e,t,n)=>{"use strict";var r=n(2791),a=n(5296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),_=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,A=Object.assign;function N(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(1!==o||1!==l)do{if(o--,0>--l||a[o]!==i[l]){var s="\n"+a[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=l);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function F(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case C:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case Z:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return A({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){$(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return A({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function ie(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,Se=null;function Ce(e){if(e=ba(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Me(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function _e(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ze(e,t){return e(t)}function Ie(){}var Te=!1;function je(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ze(e,t,n)}finally{Te=!1,(null!==Ee||null!==Se)&&(Ie(),_e())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Le=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Le=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Le=!1}function Oe(e,t,n,r,a,i,o,l,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Ae=null,Ne=!1,ze=null,Be={onError:function(e){Re=!0,Ae=e}};function Fe(e,t,n,r,a,i,o,l,s){Re=!1,Ae=null,Oe.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(He(e)!==e)throw Error(i(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ue(a),e;if(o===r)return Ue(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var l=!1,s=a.child;s;){if(s===n){l=!0,n=a,r=o;break}if(s===r){l=!0,r=a,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=a;break}if(s===r){l=!0,r=o,n=a;break}s=s.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,qe=a.unstable_requestPaint,$e=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var l=o&~a;0!==l?r=dt(l):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Et,St,Ct,Mt=!1,_t=[],Zt=null,It=null,Tt=null,jt=new Map,Pt=new Map,Lt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Rt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function At(e){var t=ya(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Nt(e)&&n.delete(t)}function Bt(){Mt=!1,null!==Zt&&Nt(Zt)&&(Zt=null),null!==It&&Nt(It)&&(It=null),null!==Tt&&Nt(Tt)&&(Tt=null),jt.forEach(zt),Pt.forEach(zt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return Ft(t,e)}if(0<_t.length){Ft(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Zt&&Ft(Zt,e),null!==It&&Ft(It,e),null!==Tt&&Ft(Tt,e),jt.forEach(t),Pt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)At(n),null===n.blockedOn&&Lt.shift()}var Wt=x.ReactCurrentBatchConfig,Ut=!0;function Kt(e,t,n,r){var a=bt,i=Wt.transition;Wt.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=a,Wt.transition=i}}function Vt(e,t,n,r){var a=bt,i=Wt.transition;Wt.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=a,Wt.transition=i}}function Yt(e,t,n,r){if(Ut){var a=Xt(e,t,n,r);if(null===a)Ur(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Zt=Rt(Zt,e,t,n,r,a),!0;case"dragenter":return It=Rt(It,e,t,n,r,a),!0;case"mouseover":return Tt=Rt(Tt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return jt.set(i,Rt(jt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Pt.set(i,Rt(Pt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&wt(i),null===(i=Xt(e,t,n,r))&&Ur(e,t,r,Gt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Gt=null;function Xt(e,t,n,r){if(Gt=null,null!==(e=ya(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,a="value"in $t?$t.value:$t.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,ln,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=A({},cn,{view:0,detail:0}),fn=an(dn),hn=A({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),pn=an(hn),vn=an(A({},hn,{dataTransfer:0})),mn=an(A({},dn,{relatedTarget:0})),gn=an(A({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=A({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(A({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return Sn}var Mn=A({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(Mn),Zn=an(A({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(A({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Tn=an(A({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=A({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(jn),Ln=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Rn=u&&"TextEvent"in window&&!On,An=u&&(!Dn||On&&8<On&&11>=On),Nn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){Me(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Yn=null;function Gn(e){Nr(e,0)}function Xn(e){if(Y(xa(e)))return e}function qn(e,t){if("change"===e)return t}var $n=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;$n=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Yn=Vn=null)}function nr(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];Kn(t,Yn,e,we(e)),je(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function ir(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Vr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Cr(e){if(Er[e])return Er[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Mr=Cr("animationend"),_r=Cr("animationiteration"),Zr=Cr("animationstart"),Ir=Cr("transitionend"),Tr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Tr.set(e,t),s(t,[e])}for(var Lr=0;Lr<jr.length;Lr++){var Dr=jr[Lr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Mr,"onAnimationEnd"),Pr(_r,"onAnimationIteration"),Pr(Zr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,l,s,c){if(Fe.apply(this,arguments),Re){if(!Re)throw Error(i(198));var u=Ae;Re=!1,Ae=null,Ne||(Ne=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==i&&a.isPropagationStopped())break e;Ar(a,l,c),i=s}else for(o=0;o<r.length;o++){if(s=(l=r[o]).instance,c=l.currentTarget,l=l.listener,s!==i&&a.isPropagationStopped())break e;Ar(a,l,c),i=s}}}if(Ne)throw e=ze,Ne=!1,ze=null,e}function zr(e,t){var n=t[va];void 0===n&&(n=t[va]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Fr]){e[Fr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(qt(t)){case 1:var a=Kt;break;case 4:a=Vt;break;default:a=Yt}n=a.bind(null,t,n,e),a=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;o=o.return}for(;null!==l;){if(null===(o=ya(l)))return;if(5===(s=o.tag)||6===s){r=i=o;continue e}l=l.parentNode}}r=r.return}je((function(){var r=i,a=we(n),o=[];e:{var l=Tr.get(e);if(void 0!==l){var s=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=_n;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=In;break;case Mr:case _r:case Zr:s=gn;break;case Ir:s=Tn;break;case"scroll":s=fn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Zn}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==l?l+"Capture":null:l;u=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Pe(p,f))&&u.push(Kr(p,v,h)))),d)break;p=p.return}0<u.length&&(l=new s(l,c,null,n,a),o.push({event:l,listeners:u}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[pa])&&(s||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(u=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Zn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==s?l:xa(s),h=null==c?l:xa(c),(l=new u(v,p+"leave",s,n,a)).target=d,l.relatedTarget=h,v=null,ya(a)===r&&((u=new u(f,p+"enter",c,n,a)).target=h,u.relatedTarget=d,v=u),d=v,s&&c)e:{for(f=c,p=0,h=u=s;h;h=Yr(h))p++;for(h=0,v=f;v;v=Yr(v))h++;for(;0<p-h;)u=Yr(u),p--;for(;0<h-p;)f=Yr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Yr(u),f=Yr(f)}u=null}else u=null;null!==s&&Gr(o,l,s,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(s=(l=r?xa(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var m=qn;else if(Un(l))if($n)m=or;else{m=ar;var g=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(m=ir);switch(m&&(m=m(e,r))?Kn(o,m,n,a):(g&&g(e,l,r),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=r?xa(r):window,e){case"focusin":(Un(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,a);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(o,n,a)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(An&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Qt="value"in($t=a)?$t.value:$t.textContent,Hn=!0)),0<(g=Vr(r,b)).length&&(b=new xn(b,e,null,n,a),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(zn=!0,Nn);case"textInput":return(e=t.data)===Nn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Jt=Qt=$t=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Nr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Pe(e,n))&&r.unshift(Kr(e,i,a)),null!=(i=Pe(e,t))&&r.push(Kr(e,i,a))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var l=n,s=l.alternate,c=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==c&&(l=c,a?null!=(s=Pe(n,i))&&o.unshift(Kr(n,s,l)):a||null!=(s=Pe(n,i))&&o.push(Kr(n,s,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(qr,"")}function Qr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(i(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(la)}:ra;function la(e){setTimeout((function(){throw e}))}function sa(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ht(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,ha="__reactProps$"+da,pa="__reactContainer$"+da,va="__reactEvents$"+da,ma="__reactListeners$"+da,ga="__reactHandles$"+da;function ya(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[fa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[ha]||null}var ka=[],Ea=-1;function Sa(e){return{current:e}}function Ca(e){0>Ea||(e.current=ka[Ea],ka[Ea]=null,Ea--)}function Ma(e,t){Ea++,ka[Ea]=e.current,e.current=t}var _a={},Za=Sa(_a),Ia=Sa(!1),Ta=_a;function ja(e,t){var n=e.type.contextTypes;if(!n)return _a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function La(){Ca(Ia),Ca(Za)}function Da(e,t,n){if(Za.current!==_a)throw Error(i(168));Ma(Za,t),Ma(Ia,n)}function Oa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,W(e)||"Unknown",a));return A({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Ta=Za.current,Ma(Za,e),Ma(Ia,Ia.current),!0}function Aa(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Oa(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,Ca(Ia),Ca(Za),Ma(Za,e)):Ca(Ia),Ma(Ia,n)}var Na=null,za=!1,Ba=!1;function Fa(e){null===Na?Na=[e]:Na.push(e)}function Ha(){if(!Ba&&null!==Na){Ba=!0;var e=0,t=bt;try{var n=Na;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Na=null,za=!1}catch(a){throw null!==Na&&(Na=Na.slice(e+1)),Ye(Je,Ha),a}finally{bt=t,Ba=!1}}return null}var Wa=[],Ua=0,Ka=null,Va=0,Ya=[],Ga=0,Xa=null,qa=1,$a="";function Qa(e,t){Wa[Ua++]=Va,Wa[Ua++]=Ka,Ka=e,Va=t}function Ja(e,t,n){Ya[Ga++]=qa,Ya[Ga++]=$a,Ya[Ga++]=Xa,Xa=e;var r=qa;e=$a;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,qa=1<<32-ot(t)+a|n<<a|r,$a=i+e}else qa=1<<i|n<<a|r,$a=e}function ei(e){null!==e.return&&(Qa(e,1),Ja(e,1,0))}function ti(e){for(;e===Ka;)Ka=Wa[--Ua],Wa[Ua]=null,Va=Wa[--Ua],Wa[Ua]=null;for(;e===Xa;)Xa=Ya[--Ga],Ya[Ga]=null,$a=Ya[--Ga],Ya[Ga]=null,qa=Ya[--Ga],Ya[Ga]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xa?{id:qa,overflow:$a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function si(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!li(e,t)){if(si(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&li(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(si(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(si(e))throw fi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=ri;e;)e=ca(e.nextSibling)}function hi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var vi=x.ReactCurrentBatchConfig;function mi(e,t){if(e&&e.defaultProps){for(var n in t=A({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var gi=Sa(null),yi=null,bi=null,xi=null;function wi(){xi=bi=yi=null}function ki(e){var t=gi.current;Ca(gi),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t){yi=e,xi=bi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xl=!0),e.firstContext=null)}function Ci(e){var t=e._currentValue;if(xi!==e)if(e={context:e,memoizedValue:t,next:null},null===bi){if(null===yi)throw Error(i(308));bi=e,yi.dependencies={lanes:0,firstContext:e}}else bi=bi.next=e;return t}var Mi=null;function _i(e){null===Mi?Mi=[e]:Mi.push(e)}function Zi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,_i(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ti=!1;function ji(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Di(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Is)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ii(e,n)}return null===(a=r.interleaved)?(t.next=t,_i(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ii(e,n)}function Oi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ri(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ai(e,t,n,r){var a=e.updateQueue;Ti=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var s=l,c=s.next;s.next=null,null===o?i=c:o.next=c,o=s;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=s))}if(null!==i){var d=a.baseState;for(o=0,u=c=s=null,l=i;;){var f=l.lane,h=l.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=A({},d,f);break e;case 2:Ti=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=h,s=d):u=u.next=h,o|=f;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(s=d),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);As|=o,e.lanes=o,e.memoizedState=d}}function Ni(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var zi=(new r.Component).refs;function Bi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Fi={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),i=Li(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,a))&&(rc(t,e,a,r),Oi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),i=Li(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,a))&&(rc(t,e,a,r),Oi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),a=Li(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Di(e,a,r))&&(rc(t,e,r,n),Oi(t,e,r))}};function Hi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(a,i))}function Wi(e,t,n){var r=!1,a=_a,i=t.contextType;return"object"===typeof i&&null!==i?i=Ci(i):(a=Pa(t)?Ta:Za.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?ja(e,a):_a),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ui(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fi.enqueueReplaceState(t,t.state,null)}function Ki(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=zi,ji(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ci(i):(i=Pa(t)?Ta:Za.current,a.context=ja(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Bi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Fi.enqueueReplaceState(a,a.state,null),Ai(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===zi&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gi(e){return(0,e._init)(e._payload)}function Xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Nc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&Gi(i)===t.type)?((r=a(t,n.props)).ref=Vi(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Vi(e,null,t),n.return=e,n;case k:return(t=zc(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Yi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case P:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||O(n))return null!==a?null:d(e,t,n,r,null);Yi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,a,null);Yi(t,r)}return null}function v(a,i,l,s){for(var c=null,u=null,d=i,v=i=0,m=null;null!==d&&v<l.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=h(a,d,l[v],s);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),i=o(g,i,v),null===u?c=g:u.sibling=g,u=g,d=m}if(v===l.length)return n(a,d),ai&&Qa(a,v),c;if(null===d){for(;v<l.length;v++)null!==(d=f(a,l[v],s))&&(i=o(d,i,v),null===u?c=d:u.sibling=d,u=d);return ai&&Qa(a,v),c}for(d=r(a,d);v<l.length;v++)null!==(m=p(d,a,v,l[v],s))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),i=o(m,i,v),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(a,e)})),ai&&Qa(a,v),c}function m(a,l,s,c){var u=O(s);if("function"!==typeof u)throw Error(i(150));if(null==(s=u.call(s)))throw Error(i(151));for(var d=u=null,v=l,m=l=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(a,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(a,v),l=o(b,l,m),null===d?u=b:d.sibling=b,d=b,v=g}if(y.done)return n(a,v),ai&&Qa(a,m),u;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=f(a,y.value,c))&&(l=o(y,l,m),null===d?u=y:d.sibling=y,d=y);return ai&&Qa(a,m),u}for(v=r(a,v);!y.done;m++,y=s.next())null!==(y=p(v,a,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),l=o(y,l,m),null===d?u=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(a,e)})),ai&&Qa(a,m),u}return function e(r,i,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===E){if(7===u.tag){n(r,u.sibling),(i=a(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Gi(c)===u.type){n(r,u.sibling),(i=a(u,o.props)).ref=Vi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((i=Rc(o.props.children,r.mode,s,o.key)).return=r,r=i):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=Vi(r,i,o),s.return=r,r=s)}return l(r);case k:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zc(o,r.mode,s)).return=r,r=i}return l(r);case P:return e(r,i,(u=o._init)(o._payload),s)}if(te(o))return v(r,i,o,s);if(O(o))return m(r,i,o,s);Yi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Nc(o,r.mode,s)).return=r,r=i),l(r)):n(r,i)}}var qi=Xi(!0),$i=Xi(!1),Qi={},Ji=Sa(Qi),eo=Sa(Qi),to=Sa(Qi);function no(e){if(e===Qi)throw Error(i(174));return e}function ro(e,t){switch(Ma(to,t),Ma(eo,e),Ma(Ji,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(Ji),Ma(Ji,t)}function ao(){Ca(Ji),Ca(eo),Ca(to)}function io(e){no(to.current);var t=no(Ji.current),n=se(t,e.type);t!==n&&(Ma(eo,e),Ma(Ji,n))}function oo(e){eo.current===e&&(Ca(Ji),Ca(eo))}var lo=Sa(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=x.ReactCurrentDispatcher,ho=x.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,xo=0,wo=0;function ko(){throw Error(i(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,a,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ll:sl,e=n(r,a),bo){o=0;do{if(bo=!1,xo=0,25<=o)throw Error(i(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cl,e=n(r,a)}while(bo)}if(fo.current=ol,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(i(300));return e}function Co(){var e=0!==xo;return xo=0,e}function Mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function _o(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Zo(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=_o(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=mo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var l=a.next;a.next=o.next,o.next=l}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var s=l=null,c=null,u=o;do{var d=u.lane;if((po&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(s=c=f,l=r):c=c.next=f,vo.lanes|=d,As|=d}u=u.next}while(null!==u&&u!==o);null===c?l=r:c.next=s,lr(r,t.memoizedState)||(xl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,vo.lanes|=o,As|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=_o(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{o=e(o,l.action),l=l.next}while(l!==a);lr(o,t.memoizedState)||(xl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function Po(e,t){var n=vo,r=_o(),a=t(),o=!lr(r.memoizedState,a);if(o&&(r.memoizedState=a,xl=!0),r=r.queue,Uo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,zo(9,Do.bind(null,n,r,a,t),void 0,null),null===Ts)throw Error(i(349));0!==(30&po)||Lo(n,t,a)}return a}function Lo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Ao(e)}function Oo(e,t,n){return n((function(){Ro(t)&&Ao(e)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Ao(e){var t=Ii(e,1);null!==t&&rc(t,e,1,-1)}function No(e){var t=Mo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,vo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return _o().memoizedState}function Fo(e,t,n,r){var a=Mo();vo.flags|=e,a.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Ho(e,t,n,r){var a=_o();r=void 0===r?null:r;var i=void 0;if(null!==mo){var o=mo.memoizedState;if(i=o.destroy,null!==r&&Eo(r,o.deps))return void(a.memoizedState=zo(t,n,i,r))}vo.flags|=e,a.memoizedState=zo(1|t,n,i,r)}function Wo(e,t){return Fo(8390656,8,e,t)}function Uo(e,t){return Ho(2048,8,e,t)}function Ko(e,t){return Ho(4,2,e,t)}function Vo(e,t){return Ho(4,4,e,t)}function Yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4,4,Yo.bind(null,t,e),n)}function Xo(){}function qo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,xl=!0),e.memoizedState=n):(lr(n,t)||(n=vt(),vo.lanes|=n,As|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function el(){return _o().memoizedState}function tl(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e))al(t,n);else if(null!==(n=Zi(e,t,n,r))){rc(n,e,r,tc()),il(n,t,r)}}function nl(e,t,n){var r=nc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))al(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,lr(l,o)){var s=t.interleaved;return null===s?(a.next=a,_i(t)):(a.next=s.next,s.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Zi(e,t,a,r))&&(rc(n,e,r,a=tc()),il(n,t,r))}}function rl(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function al(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function il(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ol={readContext:Ci,useCallback:ko,useContext:ko,useEffect:ko,useImperativeHandle:ko,useInsertionEffect:ko,useLayoutEffect:ko,useMemo:ko,useReducer:ko,useRef:ko,useState:ko,useDebugValue:ko,useDeferredValue:ko,useTransition:ko,useMutableSource:ko,useSyncExternalStore:ko,useId:ko,unstable_isNewReconciler:!1},ll={readContext:Ci,useCallback:function(e,t){return Mo().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:Wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4194308,4,Yo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fo(4,2,e,t)},useMemo:function(e,t){var n=Mo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tl.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Mo().memoizedState=e},useState:No,useDebugValue:Xo,useDeferredValue:function(e){return Mo().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=Jo.bind(null,e[1]),Mo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,a=Mo();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ts)throw Error(i(349));0!==(30&po)||Lo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Wo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Mo(),t=Ts.identifierPrefix;if(ai){var n=$a;t=":"+t+"R"+(n=(qa&~(1<<32-ot(qa)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sl={readContext:Ci,useCallback:qo,useContext:Ci,useEffect:Uo,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Vo,useMemo:$o,useReducer:Io,useRef:Bo,useState:function(){return Io(Zo)},useDebugValue:Xo,useDeferredValue:function(e){return Qo(_o(),mo.memoizedState,e)},useTransition:function(){return[Io(Zo)[0],_o().memoizedState]},useMutableSource:jo,useSyncExternalStore:Po,useId:el,unstable_isNewReconciler:!1},cl={readContext:Ci,useCallback:qo,useContext:Ci,useEffect:Uo,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Vo,useMemo:$o,useReducer:To,useRef:Bo,useState:function(){return To(Zo)},useDebugValue:Xo,useDeferredValue:function(e){var t=_o();return null===mo?t.memoizedState=e:Qo(t,mo.memoizedState,e)},useTransition:function(){return[To(Zo)[0],_o().memoizedState]},useMutableSource:jo,useSyncExternalStore:Po,useId:el,unstable_isNewReconciler:!1};function ul(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hl="function"===typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=Li(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Vs=r),fl(0,t)},n}function vl(e,t,n){(n=Li(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){fl(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fl(0,t),"function"!==typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ml(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hl;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Mc.bind(null,e,t,n),t.then(e,e))}function gl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yl(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Li(-1,1)).tag=2,Di(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bl=x.ReactCurrentOwner,xl=!1;function wl(e,t,n,r){t.child=null===e?$i(t,null,n,r):qi(t,e.child,n,r)}function kl(e,t,n,r,a){n=n.render;var i=t.ref;return Si(t,a),r=So(e,t,n,r,i,a),n=Co(),null===e||xl?(ai&&n&&ei(t),t.flags|=1,wl(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Kl(e,t,a))}function El(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Lc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Sl(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Kl(e,t,a)}return t.flags|=1,(e=Dc(i,r)).ref=t.ref,e.return=t,t.child=e}function Sl(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(sr(i,r)&&e.ref===t.ref){if(xl=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Kl(e,t,a);0!==(131072&e.flags)&&(xl=!0)}}return _l(e,t,n,r,a)}function Cl(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ma(Ds,Ls),Ls|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ma(Ds,Ls),Ls|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ma(Ds,Ls),Ls|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ma(Ds,Ls),Ls|=r;return wl(e,t,a,n),t.child}function Ml(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _l(e,t,n,r,a){var i=Pa(n)?Ta:Za.current;return i=ja(t,i),Si(t,a),n=So(e,t,n,r,i,a),r=Co(),null===e||xl?(ai&&r&&ei(t),t.flags|=1,wl(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Kl(e,t,a))}function Zl(e,t,n,r,a){if(Pa(n)){var i=!0;Ra(t)}else i=!1;if(Si(t,a),null===t.stateNode)Ul(e,t),Wi(t,n,r),Ki(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,l=t.memoizedProps;o.props=l;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ci(c):c=ja(t,c=Pa(n)?Ta:Za.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==r||s!==c)&&Ui(t,o,r,c),Ti=!1;var f=t.memoizedState;o.state=f,Ai(t,r,o,a),s=t.memoizedState,l!==r||f!==s||Ia.current||Ti?("function"===typeof u&&(Bi(t,n,u,r),s=t.memoizedState),(l=Ti||Hi(t,n,l,r,f,s,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pi(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:mi(t.type,l),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ci(s):s=ja(t,s=Pa(n)?Ta:Za.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==d||f!==s)&&Ui(t,o,r,s),Ti=!1,f=t.memoizedState,o.state=f,Ai(t,r,o,a);var p=t.memoizedState;l!==d||f!==p||Ia.current||Ti?("function"===typeof h&&(Bi(t,n,h,r),p=t.memoizedState),(c=Ti||Hi(t,n,c,r,f,p,s)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Il(e,t,n,r,i,a)}function Il(e,t,n,r,a,i){Ml(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Aa(t,n,!1),Kl(e,t,i);r=t.stateNode,bl.current=t;var l=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qi(t,e.child,null,i),t.child=qi(t,null,l,i)):wl(e,t,l,i),t.memoizedState=r.state,a&&Aa(t,n,!0),t.child}function Tl(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),ro(e,t.containerInfo)}function jl(e,t,n,r,a){return hi(),pi(a),t.flags|=256,wl(e,t,n,r),t.child}var Pl,Ll,Dl,Ol,Rl={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nl(e,t,n){var r,a=t.pendingProps,o=lo.current,l=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ma(lo,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=a.children,e=a.fallback,l?(a=t.mode,l=t.child,s={mode:"hidden",children:s},0===(1&a)&&null!==l?(l.childLanes=0,l.pendingProps=s):l=Ac(s,a,0,null),e=Rc(e,a,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Al(n),t.memoizedState=Rl,e):zl(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,l){if(n)return 256&t.flags?(t.flags&=-257,Bl(e,t,l,r=dl(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Ac({mode:"visible",children:r.children},a,0,null),(o=Rc(o,a,l,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&qi(t,e.child,null,l),t.child.memoizedState=Al(l),t.memoizedState=Rl,o);if(0===(1&t.mode))return Bl(e,t,l,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var s=r.dgst;return r=s,Bl(e,t,l,r=dl(o=Error(i(419)),r,void 0))}if(s=0!==(l&e.childLanes),xl||s){if(null!==(r=Ts)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|l))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ii(e,a),rc(r,e,a,-1))}return mc(),Bl(e,t,l,r=dl(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Zc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ya[Ga++]=qa,Ya[Ga++]=$a,Ya[Ga++]=Xa,qa=e.id,$a=e.overflow,Xa=t),t=zl(t,r.children),t.flags|=4096,t)}(e,t,s,a,r,o,n);if(l){l=a.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&s)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?l=Dc(r,l):(l=Rc(l,s,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,s=null===(s=e.child.memoizedState)?Al(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Rl,a}return e=(l=e.child).sibling,a=Dc(l,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zl(e,t){return(t=Ac({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bl(e,t,n,r){return null!==r&&pi(r),qi(t,e.child,null,n),(e=zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Hl(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Wl(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(wl(e,t,r.children,n),0!==(2&(r=lo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fl(e,n,t);else if(19===e.tag)Fl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ma(lo,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Hl(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===so(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Hl(t,!0,n,null,i);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),As|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gl(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yl(t),null;case 1:case 17:return Pa(t.type)&&La(),Yl(t),null;case 3:return r=t.stateNode,ao(),Ca(Ia),Ca(Za),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(lc(ii),ii=null))),Ll(e,t),Yl(t),null;case 5:oo(t);var a=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Dl(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Yl(t),null}if(e=no(Ji.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fa]=t,r[ha]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<Or.length;a++)zr(Or[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":q(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ae(r,o),zr("invalid",r)}for(var s in ye(n,o),a=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&zr("scroll",r)}switch(n){case"input":V(r),J(r,o,!0);break;case"textarea":V(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fa]=t,e[ha]=r,Pl(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)zr(Or[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":q(e,r),a=X(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=A({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(o in ye(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zr("scroll",e):null!=u&&b(e,o,u,s))}switch(n){case"input":V(e),J(e,r,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yl(t),null;case 6:if(e&&null!=t.stateNode)Ol(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=no(to.current),no(Ji.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Yl(t),null;case 13:if(Ca(lo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))fi(),hi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[fa]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),o=!1}else null!==ii&&(lc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&lo.current)?0===Os&&(Os=3):mc())),null!==t.updateQueue&&(t.flags|=4),Yl(t),null);case 4:return ao(),Ll(e,t),null===e&&Hr(t.stateNode.containerInfo),Yl(t),null;case 10:return ki(t.type._context),Yl(t),null;case 19:if(Ca(lo),null===(o=t.memoizedState))return Yl(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Vl(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Vl(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ma(lo,1&lo.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Ws&&(t.flags|=128,r=!0,Vl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ai)return Yl(t),null}else 2*$e()-o.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=128,r=!0,Vl(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=lo.current,Ma(lo,r?1&n|2:1&n),t):(Yl(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ls)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xl(e,t){switch(ti(t),t.tag){case 1:return Pa(t.type)&&La(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Ca(Ia),Ca(Za),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ca(lo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(lo),null;case 4:return ao(),null;case 10:return ki(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ll=function(){},Dl=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,no(Ji.current);var i,o=null;switch(n){case"input":a=X(e,a),r=X(e,r),o=[];break;case"select":a=A({},a,{value:void 0}),r=A({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var s=a[u];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(s=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(null!=c||null!=s))if("style"===u)if(s){for(i in s)!s.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&s[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ol=function(e,t,n,r){n!==r&&(t.flags|=4)};var ql=!1,$l=!1,Ql="function"===typeof WeakSet?WeakSet:Set,Jl=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&ts(t,n,i)}a=a.next}while(a!==r)}}function as(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[va],delete t[ma],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ls(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function us(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(us(e,t,n),e=e.sibling;null!==e;)us(e,t,n),e=e.sibling}var ds=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(l){}switch(n.tag){case 5:$l||es(n,t);case 6:var r=ds,a=fs;ds=null,hs(e,t,n),fs=a,null!==(ds=r)&&(fs?(e=ds,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ds.removeChild(n.stateNode));break;case 18:null!==ds&&(fs?(e=ds,n=n.stateNode,8===e.nodeType?sa(e.parentNode,n):1===e.nodeType&&sa(e,n),Ht(e)):sa(ds,n.stateNode));break;case 4:r=ds,a=fs,ds=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ds=r,fs=a;break;case 0:case 11:case 14:case 15:if(!$l&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&ts(n,t,o),a=a.next}while(a!==r)}hs(e,t,n);break;case 1:if(!$l&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Cc(n,t,l)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($l=(r=$l)||null!==n.memoizedState,hs(e,t,n),$l=r):hs(e,t,n);break;default:hs(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ql),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:ds=s.stateNode,fs=!1;break e;case 3:case 4:ds=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ds)throw Error(i(160));ps(o,l,a),ds=null,fs=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Cc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gs(t,e),t=t.sibling}function gs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),ys(e),4&r){try{rs(3,e,e.return),as(3,e)}catch(m){Cc(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:ms(t,e),ys(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),ys(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(m){Cc(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,l=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&$(a,o),be(s,l);var u=be(s,o);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];"style"===d?me(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,u)}switch(s){case"input":Q(a,o);break;case"textarea":ie(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[ha]=o}catch(m){Cc(e,e.return,m)}}break;case 6:if(ms(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(m){Cc(e,e.return,m)}}break;case 3:if(ms(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:ms(t,e),ys(e);break;case 13:ms(t,e),ys(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Hs=$e())),4&r&&vs(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($l=(u=$l)||d,ms(t,e),$l=u):ms(t,e),ys(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jl=e,d=e.child;null!==d;){for(f=Jl=d;null!==Jl;){switch(p=(h=Jl).child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:es(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cc(r,n,m)}}break;case 5:es(h,h.return);break;case 22:if(null!==h.memoizedState){ks(f);continue}}null!==p?(p.return=h,Jl=p):ks(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=f.stateNode,l=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",l))}catch(m){Cc(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ms(t,e),ys(e),4&r&&vs(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ls(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),us(e,ss(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(i(161))}}catch(l){Cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Jl=e,xs(e,t,n)}function xs(e,t,n){for(var r=0!==(1&e.mode);null!==Jl;){var a=Jl,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||ql;if(!o){var l=a.alternate,s=null!==l&&null!==l.memoizedState||$l;l=ql;var c=$l;if(ql=o,($l=s)&&!c)for(Jl=a;null!==Jl;)s=(o=Jl).child,22===o.tag&&null!==o.memoizedState?Es(a):null!==s?(s.return=o,Jl=s):Es(a);for(;null!==i;)Jl=i,xs(i,t,n),i=i.sibling;Jl=a,ql=l,$l=c}ws(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Jl=i):ws(e)}}function ws(e){for(;null!==Jl;){var t=Jl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$l||as(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$l)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:mi(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ni(t,o,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ni(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(i(163))}$l||512&t.flags&&is(t)}catch(h){Cc(t,t.return,h)}}if(t===e){Jl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jl=n;break}Jl=t.return}}function ks(e){for(;null!==Jl;){var t=Jl;if(t===e){Jl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jl=n;break}Jl=t.return}}function Es(e){for(;null!==Jl;){var t=Jl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{as(4,t)}catch(s){Cc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(s){Cc(t,a,s)}}var i=t.return;try{is(t)}catch(s){Cc(t,i,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Cc(t,o,s)}}}catch(s){Cc(t,t.return,s)}if(t===e){Jl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Jl=l;break}Jl=t.return}}var Ss,Cs=Math.ceil,Ms=x.ReactCurrentDispatcher,_s=x.ReactCurrentOwner,Zs=x.ReactCurrentBatchConfig,Is=0,Ts=null,js=null,Ps=0,Ls=0,Ds=Sa(0),Os=0,Rs=null,As=0,Ns=0,zs=0,Bs=null,Fs=null,Hs=0,Ws=1/0,Us=null,Ks=!1,Vs=null,Ys=null,Gs=!1,Xs=null,qs=0,$s=0,Qs=null,Js=-1,ec=0;function tc(){return 0!==(6&Is)?$e():-1!==Js?Js:Js=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==Ps?Ps&-Ps:null!==vi.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function rc(e,t,n,r){if(50<$s)throw $s=0,Qs=null,Error(i(185));gt(e,n,r),0!==(2&Is)&&e===Ts||(e===Ts&&(0===(2&Is)&&(Ns|=n),4===Os&&sc(e,Ps)),ac(e,r),1===n&&0===Is&&0===(1&t.mode)&&(Ws=$e()+500,za&&Ha()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),l=1<<o,s=a[o];-1===s?0!==(l&n)&&0===(l&r)||(a[o]=ht(l,t)):s<=t&&(e.expiredLanes|=l),i&=~l}}(e,t);var r=ft(e,e===Ts?Ps:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){za=!0,Fa(e)}(cc.bind(null,e)):Fa(cc.bind(null,e)),oa((function(){0===(6&Is)&&Ha()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,ec=0,0!==(6&Is))throw Error(i(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ft(e,e===Ts?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Is;Is|=2;var o=vc();for(Ts===e&&Ps===t||(Us=null,Ws=$e()+500,hc(e,t));;)try{bc();break}catch(s){pc(e,s)}wi(),Ms.current=o,Is=a,null!==js?t=0:(Ts=null,Ps=0,t=Os)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t)throw n=Rs,hc(e,0),sc(e,r),ac(e,$e()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!lr(i(),a))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Rs,hc(e,0),sc(e,r),ac(e,$e()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:kc(e,Fs,Us);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Hs+500-$e())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(kc.bind(null,e,Fs,Us),t);break}kc(e,Fs,Us);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-ot(r);o=1<<l,(l=t[l])>a&&(a=l),r&=~o}if(r=a,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cs(r/1960))-r)){e.timeoutHandle=ra(kc.bind(null,e,Fs,Us),r);break}kc(e,Fs,Us);break;default:throw Error(i(329))}}}return ac(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fs,Fs=n,null!==t&&lc(t)),e}function lc(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function sc(e,t){for(t&=~zs,t&=~Ns,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Is))throw Error(i(327));Ec();var t=ft(e,0);if(0===(1&t))return ac(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Rs,hc(e,0),sc(e,t),ac(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Fs,Us),ac(e,$e()),null}function uc(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Ws=$e()+500,za&&Ha())}}function dc(e){null!==Xs&&0===Xs.tag&&0===(6&Is)&&Ec();var t=Is;Is|=1;var n=Zs.transition,r=bt;try{if(Zs.transition=null,bt=1,e)return e()}finally{bt=r,Zs.transition=n,0===(6&(Is=t))&&Ha()}}function fc(){Ls=Ds.current,Ca(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==js)for(n=js.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&La();break;case 3:ao(),Ca(Ia),Ca(Za),uo();break;case 5:oo(r);break;case 4:ao();break;case 13:case 19:Ca(lo);break;case 10:ki(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ts=e,js=e=Dc(e.current,null),Ps=Ls=t,Os=0,Rs=null,zs=Ns=As=0,Fs=Bs=null,null!==Mi){for(t=0;t<Mi.length;t++)if(null!==(r=(n=Mi[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Mi=null}return e}function pc(e,t){for(;;){var n=js;try{if(wi(),fo.current=ol,yo){for(var r=vo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,xo=0,_s.current=null,null===n||null===n.return){Os=1,Rs=t,js=null;break}e:{var o=e,l=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gl(l);if(null!==p){p.flags&=-257,yl(p,l,s,0,t),1&p.mode&&ml(o,u,t),c=u;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ml(o,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&s.mode){var g=gl(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yl(g,l,s,0,t),pi(ul(c,s));break e}}o=c=ul(c,s),4!==Os&&(Os=2),null===Bs?Bs=[o]:Bs.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ri(o,pl(0,c,t));break e;case 1:s=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ys||!Ys.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ri(o,vl(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(x){t=x,js===n&&null!==n&&(js=n=n.return);continue}break}}function vc(){var e=Ms.current;return Ms.current=ol,null===e?ol:e}function mc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ts||0===(268435455&As)&&0===(268435455&Ns)||sc(Ts,Ps)}function gc(e,t){var n=Is;Is|=2;var r=vc();for(Ts===e&&Ps===t||(Us=null,hc(e,t));;)try{yc();break}catch(a){pc(e,a)}if(wi(),Is=n,Ms.current=r,null!==js)throw Error(i(261));return Ts=null,Ps=0,Os}function yc(){for(;null!==js;)xc(js)}function bc(){for(;null!==js&&!Xe();)xc(js)}function xc(e){var t=Ss(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?wc(e):js=t,_s.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gl(n,t,Ls)))return void(js=n)}else{if(null!==(n=Xl(n,t)))return n.flags&=32767,void(js=n);if(null===e)return Os=6,void(js=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(js=t);js=t=e}while(null!==t);0===Os&&(Os=5)}function kc(e,t,n){var r=bt,a=Zs.transition;try{Zs.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Xs);if(0!==(6&Is))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Ts&&(js=Ts=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Tc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Zs.transition,Zs.transition=null;var l=bt;bt=1;var s=Is;Is|=4,_s.current=null,function(e,t){if(ea=Ut,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var l=0,s=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(s=l+a),f!==o||0!==r&&3!==f.nodeType||(c=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===a&&(s=l),h===o&&++d===r&&(c=l),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ut=!1,Jl=t;null!==Jl;)if(e=(t=Jl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jl=e;else for(;null!==Jl;){t=Jl;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:mi(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jl=e;break}Jl=t.return}v=ns,ns=!1}(e,n),gs(n,e),pr(ta),Ut=!!ea,ta=ea=null,e.current=n,bs(n,e,a),qe(),Is=s,bt=l,Zs.transition=o}else e.current=n;if(Gs&&(Gs=!1,Xs=e,qs=a),o=e.pendingLanes,0===o&&(Ys=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ks)throw Ks=!1,e=Vs,Vs=null,e;0!==(1&qs)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Qs?$s++:($s=0,Qs=e):$s=0,Ha()}(e,t,n,r)}finally{Zs.transition=a,bt=r}return null}function Ec(){if(null!==Xs){var e=xt(qs),t=Zs.transition,n=bt;try{if(Zs.transition=null,bt=16>e?16:e,null===Xs)var r=!1;else{if(e=Xs,Xs=null,qs=0,0!==(6&Is))throw Error(i(331));var a=Is;for(Is|=4,Jl=e.current;null!==Jl;){var o=Jl,l=o.child;if(0!==(16&Jl.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var u=s[c];for(Jl=u;null!==Jl;){var d=Jl;switch(d.tag){case 0:case 11:case 15:rs(8,d,o)}var f=d.child;if(null!==f)f.return=d,Jl=f;else for(;null!==Jl;){var h=(d=Jl).sibling,p=d.return;if(os(d),d===u){Jl=null;break}if(null!==h){h.return=p,Jl=h;break}Jl=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Jl=o}}if(0!==(2064&o.subtreeFlags)&&null!==l)l.return=o,Jl=l;else e:for(;null!==Jl;){if(0!==(2048&(o=Jl).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Jl=y;break e}Jl=o.return}}var b=e.current;for(Jl=b;null!==Jl;){var x=(l=Jl).child;if(0!==(2064&l.subtreeFlags)&&null!==x)x.return=l,Jl=x;else e:for(l=b;null!==Jl;){if(0!==(2048&(s=Jl).flags))try{switch(s.tag){case 0:case 11:case 15:as(9,s)}}catch(k){Cc(s,s.return,k)}if(s===l){Jl=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Jl=w;break e}Jl=s.return}}if(Is=a,Ha(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{bt=n,Zs.transition=t}}return!1}function Sc(e,t,n){e=Di(e,t=pl(0,t=ul(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ac(e,t))}function Cc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){t=Di(t,e=vl(t,e=ul(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function Mc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ts===e&&(Ps&n)===n&&(4===Os||3===Os&&(130023424&Ps)===Ps&&500>$e()-Hs?hc(e,0):zs|=n),ac(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ii(e,t))&&(gt(e,t,n),ac(e,n))}function Zc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),_c(e,n)}function Tc(e,t){return Ye(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new jc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,a,o){var l=2;if(r=e,"function"===typeof e)Lc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case E:return Rc(n.children,a,o,t);case S:l=8,a|=8;break;case C:return(e=Pc(12,n,t,2|a)).elementType=C,e.lanes=o,e;case I:return(e=Pc(13,n,t,a)).elementType=I,e.lanes=o,e;case T:return(e=Pc(19,n,t,a)).elementType=T,e.lanes=o,e;case L:return Ac(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:l=10;break e;case _:l=9;break e;case Z:l=11;break e;case j:l=14;break e;case P:l=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(l,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Ac(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Nc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,a,i,o,l,s){return e=new Bc(e,t,n,l,s),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ji(i),e}function Hc(e){if(!e)return _a;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Pa(n))return Oa(e,n,t)}return t}function Wc(e,t,n,r,a,i,o,l,s){return(e=Fc(n,r,!0,e,0,i,0,l,s)).context=Hc(null),n=e.current,(i=Li(r=tc(),a=nc(n))).callback=void 0!==t&&null!==t?t:null,Di(n,i,a),e.current.lanes=a,gt(e,a,r),ac(e,r),e}function Uc(e,t,n,r){var a=t.current,i=tc(),o=nc(a);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Li(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Di(a,t,o))&&(rc(e,a,o,i),Oi(e,a,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ia.current)xl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xl=!1,function(e,t,n){switch(t.tag){case 3:Tl(t),hi();break;case 5:io(t);break;case 1:Pa(t.type)&&Ra(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ma(gi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ma(lo,1&lo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Nl(e,t,n):(Ma(lo,1&lo.current),null!==(e=Kl(e,t,n))?e.sibling:null);Ma(lo,1&lo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ma(lo,lo.current),r)break;return null;case 22:case 23:return t.lanes=0,Cl(e,t,n)}return Kl(e,t,n)}(e,t,n);xl=0!==(131072&e.flags)}else xl=!1,ai&&0!==(1048576&t.flags)&&Ja(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ul(e,t),e=t.pendingProps;var a=ja(t,Za.current);Si(t,n),a=So(null,t,r,e,a,n);var o=Co();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(o=!0,Ra(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ji(t),a.updater=Fi,t.stateNode=a,a._reactInternals=t,Ki(t,r,e,n),t=Il(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),wl(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===Z)return 11;if(e===j)return 14}return 2}(r),e=mi(r,e),a){case 0:t=_l(null,t,r,e,n);break e;case 1:t=Zl(null,t,r,e,n);break e;case 11:t=kl(null,t,r,e,n);break e;case 14:t=El(null,t,r,mi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_l(e,t,r,a=t.elementType===r?a:mi(r,a),n);case 1:return r=t.type,a=t.pendingProps,Zl(e,t,r,a=t.elementType===r?a:mi(r,a),n);case 3:e:{if(Tl(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Pi(e,t),Ai(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=jl(e,t,r,n,a=ul(Error(i(423)),t));break e}if(r!==a){t=jl(e,t,r,n,a=ul(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=$i(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===a){t=Kl(e,t,n);break e}wl(e,t,r,n)}t=t.child}return t;case 5:return io(t),null===e&&ci(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,l=a.children,na(r,a)?l=null:null!==o&&na(r,o)&&(t.flags|=32),Ml(e,t),wl(e,t,l,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Nl(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qi(t,null,r,n):wl(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,kl(e,t,r,a=t.elementType===r?a:mi(r,a),n);case 7:return wl(e,t,t.pendingProps,n),t.child;case 8:case 12:return wl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,l=a.value,Ma(gi,r._currentValue),r._currentValue=l,null!==o)if(lr(o.value,l)){if(o.children===a.children&&!Ia.current){t=Kl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){l=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Li(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ei(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)l=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(l=o.return))throw Error(i(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Ei(l,n,t),l=o.sibling}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===t){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}wl(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Si(t,n),r=r(a=Ci(a)),t.flags|=1,wl(e,t,r,n),t.child;case 14:return a=mi(r=t.type,t.pendingProps),El(e,t,r,a=mi(r.type,a),n);case 15:return Sl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mi(r,a),Ul(e,t),t.tag=1,Pa(r)?(e=!0,Ra(t)):e=!1,Si(t,n),Wi(t,r,a),Ki(t,r,a,n),Il(null,t,r,!0,e,n);case 19:return Wl(e,t,n);case 22:return Cl(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var l=a;a=function(){var e=Kc(o);l.call(e)}}Uc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Kc(o);i.call(e)}}var o=Wc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pa]=o.current,Hr(8===e.nodeType?e.parentNode:e),dc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var l=r;r=function(){var e=Kc(s);l.call(e)}}var s=Fc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pa]=s.current,Hr(8===e.nodeType?e.parentNode:e),dc((function(){Uc(t,s,n,r)})),s}(n,t,e,a,r);return Kc(o)}qc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Uc(e,t,null,null)},qc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Uc(null,e,null,null)})),t[pa]=null}},qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&At(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,$e()),0===(6&Is)&&(Ws=$e()+500,Ha()))}break;case 13:dc((function(){var t=Ii(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Yc(e,1)}},kt=function(e){if(13===e.tag){var t=Ii(e,134217728);if(null!==t)rc(t,e,134217728,tc());Yc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ii(e,t);if(null!==n)rc(n,e,t,tc());Yc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));Y(r),Q(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ze=uc,Ie=dc;var tu={usingClientEntryPoint:!1,Events:[ba,xa,wa,Me,_e,uc]},nu={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{at=au.inject(ru),it=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(i(299));var n=!1,r="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(i(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",l=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,a,0,o,l),e[pa]=t.current,Hr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new qc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(i(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:(e,t,n)=>{"use strict";var r=n(2791),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:l.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,v(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,i={},o=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,a)&&!S.hasOwnProperty(a)&&(i[a]=t[a]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===i[a]&&(i[a]=s[a]);return{$$typeof:n,type:e,key:o,ref:l,props:i,_owner:E.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function Z(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,a,i,o){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===i?"."+Z(s,0):i,w(o)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),I(o,t,a,"",(function(e){return e}))):null!=o&&(M(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(s=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+Z(l=e[c],c);s+=I(l,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)s+=I(l=l.value,t,a,u=i+Z(l,c++),o);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function T(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},L={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:L,ReactCurrentOwner:E};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=v({},e.props),i=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];a.children=s}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},2870:(e,t,n)=>{"use strict";n.d(t,{V:()=>pe});var r=n(7762),a=n(5671),i=n(3144),o=n(885),l=n(2982);function s(e,t,n){if(e&&e.length){var a,i=(0,o.Z)(t,2),l=i[0],s=i[1],c=Math.PI/180*n,u=Math.cos(c),d=Math.sin(c),f=(0,r.Z)(e);try{for(f.s();!(a=f.n()).done;){var h=a.value,p=(0,o.Z)(h,2),v=p[0],m=p[1];h[0]=(v-l)*u-(m-s)*d+l,h[1]=(v-l)*d+(m-s)*u+s}}catch(g){f.e(g)}finally{f.f()}}}function c(e,t){return e[0]===t[0]&&e[1]===t[1]}function u(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=n,o=Math.max(t,.1),u=e[0]&&e[0][0]&&"number"===typeof e[0][0]?[e]:e,d=[0,0];if(i){var f,h=(0,r.Z)(u);try{for(h.s();!(f=h.n()).done;){s(f.value,d,i)}}catch(g){h.e(g)}finally{h.f()}}var p=function(e,t,n){var a,i=[],o=(0,r.Z)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=(0,l.Z)(s);c(u[0],u[u.length-1])||u.push([u[0][0],u[0][1]]),u.length>2&&i.push(u)}}catch(g){o.e(g)}finally{o.f()}var d=[];t=Math.max(t,.1);for(var f=[],h=0,p=i;h<p.length;h++)for(var v=p[h],m=0;m<v.length-1;m++){var y=v[m],b=v[m+1];if(y[1]!==b[1]){var x=Math.min(y[1],b[1]);f.push({ymin:x,ymax:Math.max(y[1],b[1]),x:x===y[1]?y[0]:b[0],islope:(b[0]-y[0])/(b[1]-y[1])})}}if(f.sort((function(e,t){return e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)})),!f.length)return d;var w=[],k=f[0].ymin,E=0;for(;w.length||f.length;){if(f.length){for(var S=-1,C=0;C<f.length&&!(f[C].ymin>k);C++)S=C;f.splice(0,S+1).forEach((function(e){w.push({s:k,edge:e})}))}if((w=w.filter((function(e){return!(e.edge.ymax<=k)}))).sort((function(e,t){return e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)})),(1!==n||E%t===0)&&w.length>1)for(var M=0;M<w.length;M+=2){var _=M+1;if(_>=w.length)break;var Z=w[M].edge,I=w[_].edge;d.push([[Math.round(Z.x),k],[Math.round(I.x),k]])}k+=n,w.forEach((function(e){e.edge.x=e.edge.x+n*e.edge.islope})),E++}return d}(u,o,a);if(i){var v,m=(0,r.Z)(u);try{for(m.s();!(v=m.n()).done;){s(v.value,d,-i)}}catch(g){m.e(g)}finally{m.f()}!function(e,t,n){var r=[];e.forEach((function(e){return r.push.apply(r,(0,l.Z)(e))})),s(r,t,n)}(p,d,-i)}return p}function d(e,t){var n,r=t.hachureAngle+90,a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.max(a,.1);var i=1;return t.roughness>=1&&((null===(n=t.randomizer)||void 0===n?void 0:n.next())||Math.random())>.7&&(i=a),u(e,a,r,i||1)}var f=function(){function e(t){(0,a.Z)(this,e),this.helper=t}return(0,i.Z)(e,[{key:"fillPolygons",value:function(e,t){return this._fillPolygons(e,t)}},{key:"_fillPolygons",value:function(e,t){var n=d(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}},{key:"renderLines",value:function(e,t){var n,a=[],i=(0,r.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push.apply(a,(0,l.Z)(this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],t)))}}catch(s){i.e(s)}finally{i.f()}return a}}]),e}(),h=n(136),p=n(7277);function v(e){var t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}var m=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"fillPolygons",value:function(e,t){var n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);var a,i=d(e,Object.assign({},t,{hachureGap:n})),s=Math.PI/180*t.hachureAngle,c=[],u=.5*n*Math.cos(s),f=.5*n*Math.sin(s),h=(0,r.Z)(i);try{for(h.s();!(a=h.n()).done;){var p=(0,o.Z)(a.value,2),m=p[0],g=p[1];v([m,g])&&c.push([[m[0]-u,m[1]+f],(0,l.Z)(g)],[[m[0]+u,m[1]-f],(0,l.Z)(g)])}}catch(y){h.e(y)}finally{h.f()}return{type:"fillSketch",ops:this.renderLines(c,t)}}}]),n}(f),g=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"fillPolygons",value:function(e,t){var n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),a=this._fillPolygons(e,r);return n.ops=n.ops.concat(a.ops),n}}]),n}(f),y=function(){function e(t){(0,a.Z)(this,e),this.helper=t}return(0,i.Z)(e,[{key:"fillPolygons",value:function(e,t){var n=d(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}},{key:"dotsOnLines",value:function(e,t){var n=[],a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.max(a,.1);var i=t.fillWeight;i<0&&(i=t.strokeWidth/2);var o,s=a/4,c=(0,r.Z)(e);try{for(c.s();!(o=c.n()).done;)for(var u=o.value,d=v(u),f=d/a,h=Math.ceil(f)-1,p=d-h*a,m=(u[0][0]+u[1][0])/2-a/4,g=Math.min(u[0][1],u[1][1]),y=0;y<h;y++){var b=g+p+y*a,x=m-s+2*Math.random()*s,w=b-s+2*Math.random()*s,k=this.helper.ellipse(x,w,i,i,t);n.push.apply(n,(0,l.Z)(k.ops))}}catch(E){c.e(E)}finally{c.f()}return{type:"fillSketch",ops:n}}}]),e}(),b=function(){function e(t){(0,a.Z)(this,e),this.helper=t}return(0,i.Z)(e,[{key:"fillPolygons",value:function(e,t){var n=d(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}},{key:"dashedLine",value:function(e,t){var n=this,r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,a=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,i=[];return e.forEach((function(e){var o=v(e),s=Math.floor(o/(r+a)),c=(o+a-s*(r+a))/2,u=e[0],d=e[1];u[0]>d[0]&&(u=e[1],d=e[0]);for(var f=Math.atan((d[1]-u[1])/(d[0]-u[0])),h=0;h<s;h++){var p=h*(r+a),m=p+r,g=[u[0]+p*Math.cos(f)+c*Math.cos(f),u[1]+p*Math.sin(f)+c*Math.sin(f)],y=[u[0]+m*Math.cos(f)+c*Math.cos(f),u[1]+m*Math.sin(f)+c*Math.sin(f)];i.push.apply(i,(0,l.Z)(n.helper.doubleLineOps(g[0],g[1],y[0],y[1],t)))}})),i}}]),e}(),x=function(){function e(t){(0,a.Z)(this,e),this.helper=t}return(0,i.Z)(e,[{key:"fillPolygons",value:function(e,t){var n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,a=d(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(a,r,t)}}},{key:"zigzagLines",value:function(e,t,n){var r=this,a=[];return e.forEach((function(e){var i=v(e),o=Math.round(i/(2*t)),s=e[0],c=e[1];s[0]>c[0]&&(s=e[1],c=e[0]);for(var u=Math.atan((c[1]-s[1])/(c[0]-s[0])),d=0;d<o;d++){var f=2*d*t,h=2*(d+1)*t,p=Math.sqrt(2*Math.pow(t,2)),m=[s[0]+f*Math.cos(u),s[1]+f*Math.sin(u)],g=[s[0]+h*Math.cos(u),s[1]+h*Math.sin(u)],y=[m[0]+p*Math.cos(u+Math.PI/4),m[1]+p*Math.sin(u+Math.PI/4)];a.push.apply(a,(0,l.Z)(r.helper.doubleLineOps(m[0],m[1],y[0],y[1],n)).concat((0,l.Z)(r.helper.doubleLineOps(y[0],y[1],g[0],g[1],n))))}})),a}}]),e}(),w={};var k=n(6839),E=0,S=1,C=2,M={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function _(e,t){return e.type===t}function Z(e){for(var t=[],n=function(e){for(var t=new Array;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:E,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:S,text:"".concat(parseFloat(RegExp.$1))},e=e.substr(RegExp.$1.length)}return t[t.length]={type:C,text:""},t}(e),r="BOD",a=0,i=n[a];!_(i,C);){var o=0,l=[];if("BOD"===r){if("M"!==i.text&&"m"!==i.text)return Z("M0,0"+e);a++,o=M[i.text],r=i.text}else _(i,S)?o=M[r]:(a++,o=M[i.text],r=i.text);if(!(a+o<n.length))throw new Error("Path data ended short");for(var s=a;s<a+o;s++){var c=n[s];if(!_(c,S))throw new Error("Param not a number: "+r+","+c.text);l[l.length]=+c.text}if("number"!==typeof M[r])throw new Error("Bad segment: "+r);var u={key:r,data:l};t.push(u),i=n[a+=o],"M"===r&&(r="L"),"m"===r&&(r="l")}return t}function I(e){var t,n=0,a=0,i=0,s=0,c=[],u=(0,r.Z)(e);try{for(u.s();!(t=u.n()).done;){var d=t.value,f=d.key,h=d.data;switch(f){case"M":c.push({key:"M",data:(0,l.Z)(h)});var p=(0,o.Z)(h,2);n=p[0],a=p[1];var v=(0,o.Z)(h,2);i=v[0],s=v[1];break;case"m":n+=h[0],a+=h[1],c.push({key:"M",data:[n,a]}),i=n,s=a;break;case"L":c.push({key:"L",data:(0,l.Z)(h)});var m=(0,o.Z)(h,2);n=m[0],a=m[1];break;case"l":n+=h[0],a+=h[1],c.push({key:"L",data:[n,a]});break;case"C":c.push({key:"C",data:(0,l.Z)(h)}),n=h[4],a=h[5];break;case"c":var g=h.map((function(e,t){return t%2?e+a:e+n}));c.push({key:"C",data:g}),n=g[4],a=g[5];break;case"Q":c.push({key:"Q",data:(0,l.Z)(h)}),n=h[2],a=h[3];break;case"q":var y=h.map((function(e,t){return t%2?e+a:e+n}));c.push({key:"Q",data:y}),n=y[2],a=y[3];break;case"A":c.push({key:"A",data:(0,l.Z)(h)}),n=h[5],a=h[6];break;case"a":n+=h[5],a+=h[6],c.push({key:"A",data:[h[0],h[1],h[2],h[3],h[4],n,a]});break;case"H":c.push({key:"H",data:(0,l.Z)(h)}),n=h[0];break;case"h":n+=h[0],c.push({key:"H",data:[n]});break;case"V":c.push({key:"V",data:(0,l.Z)(h)}),a=h[0];break;case"v":a+=h[0],c.push({key:"V",data:[a]});break;case"S":c.push({key:"S",data:(0,l.Z)(h)}),n=h[2],a=h[3];break;case"s":var b=h.map((function(e,t){return t%2?e+a:e+n}));c.push({key:"S",data:b}),n=b[2],a=b[3];break;case"T":c.push({key:"T",data:(0,l.Z)(h)}),n=h[0],a=h[1];break;case"t":n+=h[0],a+=h[1],c.push({key:"T",data:[n,a]});break;case"Z":case"z":c.push({key:"Z",data:[]}),n=i,a=s}}}catch(x){u.e(x)}finally{u.f()}return c}function T(e){var t,n=[],a="",i=0,s=0,c=0,u=0,d=0,f=0,h=(0,r.Z)(e);try{for(h.s();!(t=h.n()).done;){var p=t.value,v=p.key,m=p.data;switch(v){case"M":n.push({key:"M",data:(0,l.Z)(m)});var g=(0,o.Z)(m,2);i=g[0],s=g[1];var y=(0,o.Z)(m,2);c=y[0],u=y[1];break;case"C":n.push({key:"C",data:(0,l.Z)(m)}),i=m[4],s=m[5],d=m[2],f=m[3];break;case"L":n.push({key:"L",data:(0,l.Z)(m)});var b=(0,o.Z)(m,2);i=b[0],s=b[1];break;case"H":i=m[0],n.push({key:"L",data:[i,s]});break;case"V":s=m[0],n.push({key:"L",data:[i,s]});break;case"S":var x=0,w=0;"C"===a||"S"===a?(x=i+(i-d),w=s+(s-f)):(x=i,w=s),n.push({key:"C",data:[x,w].concat((0,l.Z)(m))}),d=m[0],f=m[1],i=m[2],s=m[3];break;case"T":var k=(0,o.Z)(m,2),E=k[0],S=k[1],C=0,M=0;"Q"===a||"T"===a?(C=i+(i-d),M=s+(s-f)):(C=i,M=s);var _=i+2*(C-i)/3,Z=s+2*(M-s)/3,I=E+2*(C-E)/3,T=S+2*(M-S)/3;n.push({key:"C",data:[_,Z,I,T,E,S]}),d=C,f=M,i=E,s=S;break;case"Q":var j=(0,o.Z)(m,4),L=j[0],D=j[1],O=j[2],R=j[3],A=i+2*(L-i)/3,N=s+2*(D-s)/3,z=O+2*(L-O)/3,B=R+2*(D-R)/3;n.push({key:"C",data:[A,N,z,B,O,R]}),d=L,f=D,i=O,s=R;break;case"A":var F=Math.abs(m[0]),H=Math.abs(m[1]),W=m[2],U=m[3],K=m[4],V=m[5],Y=m[6];if(0===F||0===H)n.push({key:"C",data:[i,s,V,Y,V,Y]}),i=V,s=Y;else if(i!==V||s!==Y)P(i,s,V,Y,F,H,W,U,K).forEach((function(e){n.push({key:"C",data:e})})),i=V,s=Y;break;case"Z":n.push({key:"Z",data:[]}),i=c,s=u}a=v}}catch(G){h.e(G)}finally{h.f()}return n}function j(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function P(e,t,n,r,a,i,l,s,c,u){var d,f=(d=l,Math.PI*d/180),h=[],p=0,v=0,m=0,g=0;if(u){var y=(0,o.Z)(u,4);p=y[0],v=y[1],m=y[2],g=y[3]}else{var b=j(e,t,-f),x=(0,o.Z)(b,2);e=x[0],t=x[1];var w=j(n,r,-f),k=(0,o.Z)(w,2),E=(e-(n=k[0]))/2,S=(t-(r=k[1]))/2,C=E*E/(a*a)+S*S/(i*i);C>1&&(a*=C=Math.sqrt(C),i*=C);var M=a*a,_=i*i,Z=M*_-M*S*S-_*E*E,I=M*S*S+_*E*E,T=(s===c?-1:1)*Math.sqrt(Math.abs(Z/I));m=T*a*S/i+(e+n)/2,g=T*-i*E/a+(t+r)/2,p=Math.asin(parseFloat(((t-g)/i).toFixed(9))),v=Math.asin(parseFloat(((r-g)/i).toFixed(9))),e<m&&(p=Math.PI-p),n<m&&(v=Math.PI-v),p<0&&(p=2*Math.PI+p),v<0&&(v=2*Math.PI+v),c&&p>v&&(p-=2*Math.PI),!c&&v>p&&(v-=2*Math.PI)}var L=v-p;if(Math.abs(L)>120*Math.PI/180){var D=v,O=n,R=r;v=c&&v>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,h=P(n=m+a*Math.cos(v),r=g+i*Math.sin(v),O,R,a,i,l,0,c,[v,D,m,g])}L=v-p;var A=Math.cos(p),N=Math.sin(p),z=Math.cos(v),B=Math.sin(v),F=Math.tan(L/4),H=4/3*a*F,W=4/3*i*F,U=[e,t],K=[e+H*N,t-W*A],V=[n+H*B,r-W*z],Y=[n,r];if(K[0]=2*U[0]-K[0],K[1]=2*U[1]-K[1],u)return[K,V,Y].concat(h);h=[K,V,Y].concat(h);for(var G=[],X=0;X<h.length;X+=3){var q=j(h[X][0],h[X][1],f),$=j(h[X+1][0],h[X+1][1],f),Q=j(h[X+2][0],h[X+2][1],f);G.push([q[0],q[1],$[0],$[1],Q[0],Q[1]])}return G}var L={randOffset:function(e,t){return V(e,t)},randOffsetWithRange:function(e,t,n){return K(e,t,n)},ellipse:function(e,t,n,r,a){var i=N(n,r,a);return z(e,t,a,i).opset},doubleLineOps:function(e,t,n,r,a){return Y(e,t,n,r,a,!0)}};function D(e,t,n,r,a){return{type:"path",ops:Y(e,t,n,r,a)}}function O(e,t,n){var r=(e||[]).length;if(r>2){for(var a=[],i=0;i<r-1;i++)a.push.apply(a,(0,l.Z)(Y(e[i][0],e[i][1],e[i+1][0],e[i+1][1],n)));return t&&a.push.apply(a,(0,l.Z)(Y(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n))),{type:"path",ops:a}}return 2===r?D(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function R(e,t,n,r,a){return function(e,t){return O(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],a)}function A(e,t){var n=X(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){var r=X(e,1.5*(1+.22*t.roughness),function(e){var t=Object.assign({},e);t.randomizer=void 0,e.seed&&(t.seed=e.seed+1);return t}(t));n=n.concat(r)}return{type:"path",ops:n}}function N(e,t,n){var r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),i=2*Math.PI/a,o=Math.abs(e/2),l=Math.abs(t/2),s=1-n.curveFitting;return{increment:i,rx:o+=V(o*s,n),ry:l+=V(l*s,n)}}function z(e,t,n,r){var a=$(r.increment,e,t,r.rx,r.ry,1,r.increment*K(.1,K(.4,1,n),n),n),i=(0,o.Z)(a,2),l=i[0],s=i[1],c=q(l,null,n);if(!n.disableMultiStroke&&0!==n.roughness){var u=$(r.increment,e,t,r.rx,r.ry,1.5,0,n),d=q((0,o.Z)(u,1)[0],null,n);c=c.concat(d)}return{estimatedPoints:s,opset:{type:"path",ops:c}}}function B(e,t,n,r,a,i,o,s,c){var u=e,d=t,f=Math.abs(n/2),h=Math.abs(r/2);f+=V(.01*f,c),h+=V(.01*h,c);for(var p=a,v=i;p<0;)p+=2*Math.PI,v+=2*Math.PI;v-p>2*Math.PI&&(p=0,v=2*Math.PI);var m=2*Math.PI/c.curveStepCount,g=Math.min(m/2,(v-p)/2),y=Q(g,u,d,f,h,p,v,1,c);if(!c.disableMultiStroke){var b=Q(g,u,d,f,h,p,v,1.5,c);y.push.apply(y,(0,l.Z)(b))}return o&&(s?y.push.apply(y,(0,l.Z)(Y(u,d,u+f*Math.cos(p),d+h*Math.sin(p),c)).concat((0,l.Z)(Y(u,d,u+f*Math.cos(v),d+h*Math.sin(v),c)))):y.push({op:"lineTo",data:[u,d]},{op:"lineTo",data:[u+f*Math.cos(p),d+h*Math.sin(p)]})),{type:"path",ops:y}}function F(e,t){var n,a=T(I(Z(e))),i=[],s=[0,0],c=[0,0],u=(0,r.Z)(a);try{for(u.s();!(n=u.n()).done;){var d=n.value,f=d.key,h=d.data;switch(f){case"M":c=[h[0],h[1]],s=[h[0],h[1]];break;case"L":i.push.apply(i,(0,l.Z)(Y(c[0],c[1],h[0],h[1],t))),c=[h[0],h[1]];break;case"C":var p=(0,o.Z)(h,6),v=p[0],m=p[1],g=p[2],y=p[3],b=p[4],x=p[5];i.push.apply(i,(0,l.Z)(J(v,m,g,y,b,x,c,t))),c=[b,x];break;case"Z":i.push.apply(i,(0,l.Z)(Y(c[0],c[1],s[0],s[1],t))),c=[s[0],s[1]]}}}catch(w){u.e(w)}finally{u.f()}return{type:"path",ops:i}}function H(e,t){var n,a=[],i=(0,r.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.length){var l=t.maxRandomnessOffset||0,s=o.length;if(s>2){a.push({op:"move",data:[o[0][0]+V(l,t),o[0][1]+V(l,t)]});for(var c=1;c<s;c++)a.push({op:"lineTo",data:[o[c][0]+V(l,t),o[c][1]+V(l,t)]})}}}}catch(u){i.e(u)}finally{i.f()}return{type:"fillPath",ops:a}}function W(e,t){return function(e,t){var n=e.fillStyle||"hachure";if(!w[n])switch(n){case"zigzag":w[n]||(w[n]=new m(t));break;case"cross-hatch":w[n]||(w[n]=new g(t));break;case"dots":w[n]||(w[n]=new y(t));break;case"dashed":w[n]||(w[n]=new b(t));break;case"zigzag-line":w[n]||(w[n]=new x(t));break;default:w[n="hachure"]||(w[n]=new f(t))}return w[n]}(t,L).fillPolygons(e,t)}function U(e){return e.randomizer||(e.randomizer=new k.k(e.seed||0)),e.randomizer.next()}function K(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return n.roughness*r*(U(n)*(t-e)+e)}function V(e,t){return K(-e,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function Y(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?a.disableMultiStrokeFill:a.disableMultiStroke,o=G(e,t,n,r,a,!0,!1);if(i)return o;var l=G(e,t,n,r,a,!0,!0);return o.concat(l)}function G(e,t,n,r,a,i,o){var l=Math.pow(e-n,2)+Math.pow(t-r,2),s=Math.sqrt(l),c=1;c=s<200?1:s>500?.4:-.0016668*s+1.233334;var u=a.maxRandomnessOffset||0;u*u*100>l&&(u=s/10);var d=u/2,f=.2+.2*U(a),h=a.bowing*a.maxRandomnessOffset*(r-t)/200,p=a.bowing*a.maxRandomnessOffset*(e-n)/200;h=V(h,a,c),p=V(p,a,c);var v=[],m=function(){return V(d,a,c)},g=function(){return V(u,a,c)},y=a.preserveVertices;return i&&(o?v.push({op:"move",data:[e+(y?0:m()),t+(y?0:m())]}):v.push({op:"move",data:[e+(y?0:V(u,a,c)),t+(y?0:V(u,a,c))]})),o?v.push({op:"bcurveTo",data:[h+e+(n-e)*f+m(),p+t+(r-t)*f+m(),h+e+2*(n-e)*f+m(),p+t+2*(r-t)*f+m(),n+(y?0:m()),r+(y?0:m())]}):v.push({op:"bcurveTo",data:[h+e+(n-e)*f+g(),p+t+(r-t)*f+g(),h+e+2*(n-e)*f+g(),p+t+2*(r-t)*f+g(),n+(y?0:g()),r+(y?0:g())]}),v}function X(e,t,n){var r=[];r.push([e[0][0]+V(t,n),e[0][1]+V(t,n)]),r.push([e[0][0]+V(t,n),e[0][1]+V(t,n)]);for(var a=1;a<e.length;a++)r.push([e[a][0]+V(t,n),e[a][1]+V(t,n)]),a===e.length-1&&r.push([e[a][0]+V(t,n),e[a][1]+V(t,n)]);return q(r,null,n)}function q(e,t,n){var r=e.length,a=[];if(r>3){var i=[],o=1-n.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(var s=1;s+2<r;s++){var c=e[s];i[0]=[c[0],c[1]],i[1]=[c[0]+(o*e[s+1][0]-o*e[s-1][0])/6,c[1]+(o*e[s+1][1]-o*e[s-1][1])/6],i[2]=[e[s+1][0]+(o*e[s][0]-o*e[s+2][0])/6,e[s+1][1]+(o*e[s][1]-o*e[s+2][1])/6],i[3]=[e[s+1][0],e[s+1][1]],a.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}if(t&&2===t.length){var u=n.maxRandomnessOffset;a.push({op:"lineTo",data:[t[0]+V(u,n),t[1]+V(u,n)]})}}else 3===r?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&a.push.apply(a,(0,l.Z)(Y(e[0][0],e[0][1],e[1][0],e[1][1],n)));return a}function $(e,t,n,r,a,i,o,l){var s=[],c=[];if(0===l.roughness){e/=4,c.push([t+r*Math.cos(-e),n+a*Math.sin(-e)]);for(var u=0;u<=2*Math.PI;u+=e){var d=[t+r*Math.cos(u),n+a*Math.sin(u)];s.push(d),c.push(d)}c.push([t+r*Math.cos(0),n+a*Math.sin(0)]),c.push([t+r*Math.cos(e),n+a*Math.sin(e)])}else{var f=V(.5,l)-Math.PI/2;c.push([V(i,l)+t+.9*r*Math.cos(f-e),V(i,l)+n+.9*a*Math.sin(f-e)]);for(var h=2*Math.PI+f-.01,p=f;p<h;p+=e){var v=[V(i,l)+t+r*Math.cos(p),V(i,l)+n+a*Math.sin(p)];s.push(v),c.push(v)}c.push([V(i,l)+t+r*Math.cos(f+2*Math.PI+.5*o),V(i,l)+n+a*Math.sin(f+2*Math.PI+.5*o)]),c.push([V(i,l)+t+.98*r*Math.cos(f+o),V(i,l)+n+.98*a*Math.sin(f+o)]),c.push([V(i,l)+t+.9*r*Math.cos(f+.5*o),V(i,l)+n+.9*a*Math.sin(f+.5*o)])}return[c,s]}function Q(e,t,n,r,a,i,o,l,s){var c=i+V(.1,s),u=[];u.push([V(l,s)+t+.9*r*Math.cos(c-e),V(l,s)+n+.9*a*Math.sin(c-e)]);for(var d=c;d<=o;d+=e)u.push([V(l,s)+t+r*Math.cos(d),V(l,s)+n+a*Math.sin(d)]);return u.push([t+r*Math.cos(o),n+a*Math.sin(o)]),u.push([t+r*Math.cos(o),n+a*Math.sin(o)]),q(u,null,s)}function J(e,t,n,r,a,i,o,l){for(var s=[],c=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3],u=[0,0],d=l.disableMultiStroke?1:2,f=l.preserveVertices,h=0;h<d;h++)0===h?s.push({op:"move",data:[o[0],o[1]]}):s.push({op:"move",data:[o[0]+(f?0:V(c[0],l)),o[1]+(f?0:V(c[0],l))]}),u=f?[a,i]:[a+V(c[h],l),i+V(c[h],l)],s.push({op:"bcurveTo",data:[e+V(c[h],l),t+V(c[h],l),n+V(c[h],l),r+V(c[h],l),u[0],u[1]]});return s}function ee(e){return(0,l.Z)(e)}function te(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function ne(e,t,n){var r=te(t,n);if(0===r)return te(e,t);var a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return te(e,re(t,n,a=Math.max(0,Math.min(1,a))))}function re(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function ae(e,t,n,r){var a=r||[];if(function(e,t){var n=e[t+0],r=e[t+1],a=e[t+2],i=e[t+3],o=3*r[0]-2*n[0]-i[0];o*=o;var l=3*r[1]-2*n[1]-i[1];l*=l;var s=3*a[0]-2*i[0]-n[0];s*=s;var c=3*a[1]-2*i[1]-n[1];return o<s&&(o=s),l<(c*=c)&&(l=c),o+l}(e,t)<n){var i=e[t+0];if(a.length){var o=function(e,t){return Math.sqrt(te(e,t))}(a[a.length-1],i);o>1&&a.push(i)}else a.push(i);a.push(e[t+3])}else{var l=.5,s=e[t+0],c=e[t+1],u=e[t+2],d=e[t+3],f=re(s,c,l),h=re(c,u,l),p=re(u,d,l),v=re(f,h,l),m=re(h,p,l),g=re(v,m,l);ae([s,f,v,g],0,n,a),ae([g,m,p,d],0,n,a)}return a}function ie(e,t,n,r,a){for(var i=a||[],o=e[t],l=e[n-1],s=0,c=1,u=t+1;u<n-1;++u){var d=ne(e[u],o,l);d>s&&(s=d,c=u)}return Math.sqrt(s)>r?(ie(e,t,c+1,r,i),ie(e,c,n,r,i)):(i.length||i.push(o),i.push(l)),i}function oe(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function le(e,t,n){var r=oe(t,n);if(0===r)return oe(e,t);var a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return oe(e,se(t,n,a=Math.max(0,Math.min(1,a))))}function se(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function ce(e,t,n,r){var a=r||[];if(function(e,t){var n=e[t+0],r=e[t+1],a=e[t+2],i=e[t+3],o=3*r[0]-2*n[0]-i[0];o*=o;var l=3*r[1]-2*n[1]-i[1];l*=l;var s=3*a[0]-2*i[0]-n[0];s*=s;var c=3*a[1]-2*i[1]-n[1];return o<s&&(o=s),l<(c*=c)&&(l=c),o+l}(e,t)<n){var i=e[t+0];if(a.length){var o=function(e,t){return Math.sqrt(oe(e,t))}(a[a.length-1],i);o>1&&a.push(i)}else a.push(i);a.push(e[t+3])}else{var l=.5,s=e[t+0],c=e[t+1],u=e[t+2],d=e[t+3],f=se(s,c,l),h=se(c,u,l),p=se(u,d,l),v=se(f,h,l),m=se(h,p,l),g=se(v,m,l);ce([s,f,v,g],0,n,a),ce([g,m,p,d],0,n,a)}return a}function ue(e,t){return de(e,0,e.length,t)}function de(e,t,n,r,a){for(var i=a||[],o=e[t],l=e[n-1],s=0,c=1,u=t+1;u<n-1;++u){var d=le(e[u],o,l);d>s&&(s=d,c=u)}return Math.sqrt(s)>r?(de(e,t,c+1,r,i),de(e,c,n,r,i)):(i.length||i.push(o),i.push(l)),i}function fe(e,t,n){var a,i=T(I(Z(e))),o=[],s=[],c=[0,0],u=[],d=function(){var e;u.length>=4&&(e=s).push.apply(e,(0,l.Z)(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],a=(e.length-1)/3,i=0;i<a;i++)ce(e,3*i,t,r);return n&&n>0?de(r,0,r.length,n):r}(u,t)));u=[]},f=function(){d(),s.length&&(o.push(s),s=[])},h=(0,r.Z)(i);try{for(h.s();!(a=h.n()).done;){var p=a.value,v=p.key,m=p.data;switch(v){case"M":f(),c=[m[0],m[1]],s.push(c);break;case"L":d(),s.push([m[0],m[1]]);break;case"C":if(!u.length){var g=s.length?s[s.length-1]:c;u.push([g[0],g[1]])}u.push([m[0],m[1]]),u.push([m[2],m[3]]),u.push([m[4],m[5]]);break;case"Z":d(),s.push([c[0],c[1]])}}}catch(k){h.e(k)}finally{h.f()}if(f(),!n)return o;for(var y=[],b=0,x=o;b<x.length;b++){var w=ue(x[b],n);w.length&&y.push(w)}return y}var he="none",pe=function(){function e(t){(0,a.Z)(this,e),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}return(0,i.Z)(e,[{key:"_o",value:function(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}},{key:"_d",value:function(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}},{key:"line",value:function(e,t,n,r,a){var i=this._o(a);return this._d("line",[D(e,t,n,r,i)],i)}},{key:"rectangle",value:function(e,t,n,r,a){var i=this._o(a),o=[],l=R(e,t,n,r,i);if(i.fill){var s=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===i.fillStyle?o.push(H([s],i)):o.push(W([s],i))}return i.stroke!==he&&o.push(l),this._d("rectangle",o,i)}},{key:"ellipse",value:function(e,t,n,r,a){var i=this._o(a),o=[],l=N(n,r,i),s=z(e,t,i,l);if(i.fill)if("solid"===i.fillStyle){var c=z(e,t,i,l).opset;c.type="fillPath",o.push(c)}else o.push(W([s.estimatedPoints],i));return i.stroke!==he&&o.push(s.opset),this._d("ellipse",o,i)}},{key:"circle",value:function(e,t,n,r){var a=this.ellipse(e,t,n,n,r);return a.shape="circle",a}},{key:"linearPath",value:function(e,t){var n=this._o(t);return this._d("linearPath",[O(e,!1,n)],n)}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,s=this._o(l),c=[],u=B(e,t,n,r,a,i,o,!0,s);if(o&&s.fill)if("solid"===s.fillStyle){var d=Object.assign({},s);d.disableMultiStroke=!0;var f=B(e,t,n,r,a,i,!0,!1,d);f.type="fillPath",c.push(f)}else c.push(function(e,t,n,r,a,i,o){var l=e,s=t,c=Math.abs(n/2),u=Math.abs(r/2);c+=V(.01*c,o),u+=V(.01*u,o);for(var d=a,f=i;d<0;)d+=2*Math.PI,f+=2*Math.PI;f-d>2*Math.PI&&(d=0,f=2*Math.PI);for(var h=(f-d)/o.curveStepCount,p=[],v=d;v<=f;v+=h)p.push([l+c*Math.cos(v),s+u*Math.sin(v)]);return p.push([l+c*Math.cos(f),s+u*Math.sin(f)]),p.push([l,s]),W([p],o)}(e,t,n,r,a,i,s));return s.stroke!==he&&c.push(u),this._d("arc",c,s)}},{key:"curve",value:function(e,t){var n=this._o(t),r=[],a=A(e,n);if(n.fill&&n.fill!==he&&e.length>=3)if("solid"===n.fillStyle){var i=A(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(i.ops)})}else{var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.length;if(n<3)throw new Error("A curve must have at least three points.");var r=[];if(3===n)r.push(ee(e[0]),ee(e[1]),ee(e[2]),ee(e[2]));else{var a=[];a.push(e[0],e[0]);for(var i=1;i<e.length;i++)a.push(e[i]),i===e.length-1&&a.push(e[i]);var o=[],l=1-t;r.push(ee(a[0]));for(var s=1;s+2<a.length;s++){var c=a[s];o[0]=[c[0],c[1]],o[1]=[c[0]+(l*a[s+1][0]-l*a[s-1][0])/6,c[1]+(l*a[s+1][1]-l*a[s-1][1])/6],o[2]=[a[s+1][0]+(l*a[s][0]-l*a[s+2][0])/6,a[s+1][1]+(l*a[s][1]-l*a[s+2][1])/6],o[3]=[a[s+1][0],a[s+1][1]],r.push(o[1],o[2],o[3])}}return r}(e),l=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],a=(e.length-1)/3,i=0;i<a;i++)ae(e,3*i,t,r);return n&&n>0?ie(r,0,r.length,n):r}(o,10,(1+n.roughness)/2);r.push(W([l],n))}return n.stroke!==he&&r.push(a),this._d("curve",r,n)}},{key:"polygon",value:function(e,t){var n=this._o(t),r=[],a=O(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(H([e],n)):r.push(W([e],n))),n.stroke!==he&&r.push(a),this._d("polygon",r,n)}},{key:"path",value:function(e,t){var n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var a=n.fill&&"transparent"!==n.fill&&n.fill!==he,i=n.stroke!==he,o=!!(n.simplification&&n.simplification<1),l=fe(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),s=F(e,n);if(a)if("solid"===n.fillStyle)if(1===l.length){var c=F(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(c.ops)})}else r.push(H(l,n));else r.push(W(l,n));return i&&(o?l.forEach((function(e){r.push(O(e,!1,n))})):r.push(s)),this._d("path",r,n)}},{key:"opsToPath",value:function(e,t){var n,a="",i=(0,r.Z)(e.ops);try{for(i.s();!(n=i.n()).done;){var o=n.value,l="number"===typeof t&&t>=0?o.data.map((function(e){return+e.toFixed(t)})):o.data;switch(o.op){case"move":a+="M".concat(l[0]," ").concat(l[1]," ");break;case"bcurveTo":a+="C".concat(l[0]," ").concat(l[1],", ").concat(l[2]," ").concat(l[3],", ").concat(l[4]," ").concat(l[5]," ");break;case"lineTo":a+="L".concat(l[0]," ").concat(l[1]," ")}}}catch(s){i.e(s)}finally{i.f()}return a.trim()}},{key:"toPaths",value:function(e){var t,n=e.sets||[],a=e.options||this.defaultOptions,i=[],o=(0,r.Z)(n);try{for(o.s();!(t=o.n()).done;){var l=t.value,s=null;switch(l.type){case"path":s={d:this.opsToPath(l),stroke:a.stroke,strokeWidth:a.strokeWidth,fill:he};break;case"fillPath":s={d:this.opsToPath(l),stroke:he,strokeWidth:0,fill:a.fill||he};break;case"fillSketch":s=this.fillSketch(l,a)}s&&i.push(s)}}catch(c){o.e(c)}finally{o.f()}return i}},{key:"fillSketch",value:function(e,t){var n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||he,strokeWidth:n,fill:he}}},{key:"_mergedShape",value:function(e){return e.filter((function(e,t){return 0===t||"move"!==e.op}))}}],[{key:"newSeed",value:function(){return(0,k.W)()}}]),e}()},6839:(e,t,n)=>{"use strict";n.d(t,{W:()=>i,k:()=>o});var r=n(5671),a=n(3144);function i(){return Math.floor(Math.random()*Math.pow(2,31))}var o=function(){function e(t){(0,r.Z)(this,e),this.seed=t}return(0,a.Z)(e,[{key:"next",value:function(){return this.seed?(Math.pow(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/Math.pow(2,31):Math.random()}}]),e}()},7711:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(7762),a=n(5671),i=n(3144),o=n(2870),l=function(){function e(t,n){(0,a.Z)(this,e),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new o.V(n)}return(0,i.Z)(e,[{key:"draw",value:function(e){var t,n=e.sets||[],a=e.options||this.getDefaultOptions(),i=this.ctx,o=e.options.fixedDecimalPlaceDigits,l=(0,r.Z)(n);try{for(l.s();!(t=l.n()).done;){var s=t.value;switch(s.type){case"path":i.save(),i.strokeStyle="none"===a.stroke?"transparent":a.stroke,i.lineWidth=a.strokeWidth,a.strokeLineDash&&i.setLineDash(a.strokeLineDash),a.strokeLineDashOffset&&(i.lineDashOffset=a.strokeLineDashOffset),this._drawToContext(i,s,o),i.restore();break;case"fillPath":i.save(),i.fillStyle=a.fill||"";var c="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(i,s,o,c),i.restore();break;case"fillSketch":this.fillSketch(i,s,a)}}}catch(u){l.e(u)}finally{l.f()}}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()}},{key:"_drawToContext",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"nonzero";e.beginPath();var i,o=(0,r.Z)(t.ops);try{for(o.s();!(i=o.n()).done;){var l=i.value,s="number"===typeof n&&n>=0?l.data.map((function(e){return+e.toFixed(n)})):l.data;switch(l.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}}catch(c){o.e(c)}finally{o.f()}"fillPath"===t.type?e.fill(a):e.stroke()}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(e,t,n,r,a){var i=this.gen.line(e,t,n,r,a);return this.draw(i),i}},{key:"rectangle",value:function(e,t,n,r,a){var i=this.gen.rectangle(e,t,n,r,a);return this.draw(i),i}},{key:"ellipse",value:function(e,t,n,r,a){var i=this.gen.ellipse(e,t,n,r,a);return this.draw(i),i}},{key:"circle",value:function(e,t,n,r){var a=this.gen.circle(e,t,n,r);return this.draw(a),a}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n),n}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n),n}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,s=this.gen.arc(e,t,n,r,a,i,o,l);return this.draw(s),s}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n),n}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n),n}}]),e}(),s="http://www.w3.org/2000/svg",c=function(){function e(t,n){(0,a.Z)(this,e),this.svg=t,this.gen=new o.V(n)}return(0,i.Z)(e,[{key:"draw",value:function(e){var t,n=e.sets||[],a=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,o=i.createElementNS(s,"g"),l=e.options.fixedDecimalPlaceDigits,c=(0,r.Z)(n);try{for(c.s();!(t=c.n()).done;){var u=t.value,d=null;switch(u.type){case"path":(d=i.createElementNS(s,"path")).setAttribute("d",this.opsToPath(u,l)),d.setAttribute("stroke",a.stroke),d.setAttribute("stroke-width",a.strokeWidth+""),d.setAttribute("fill","none"),a.strokeLineDash&&d.setAttribute("stroke-dasharray",a.strokeLineDash.join(" ").trim()),a.strokeLineDashOffset&&d.setAttribute("stroke-dashoffset","".concat(a.strokeLineDashOffset));break;case"fillPath":(d=i.createElementNS(s,"path")).setAttribute("d",this.opsToPath(u,l)),d.setAttribute("stroke","none"),d.setAttribute("stroke-width","0"),d.setAttribute("fill",a.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||d.setAttribute("fill-rule","evenodd");break;case"fillSketch":d=this.fillSketch(i,u,a)}d&&o.appendChild(d)}}catch(f){c.e(f)}finally{c.f()}return o}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2);var a=e.createElementNS(s,"path");return a.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",r+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset","".concat(n.fillLineDashOffset)),a}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"opsToPath",value:function(e,t){return this.gen.opsToPath(e,t)}},{key:"line",value:function(e,t,n,r,a){var i=this.gen.line(e,t,n,r,a);return this.draw(i)}},{key:"rectangle",value:function(e,t,n,r,a){var i=this.gen.rectangle(e,t,n,r,a);return this.draw(i)}},{key:"ellipse",value:function(e,t,n,r,a){var i=this.gen.ellipse(e,t,n,r,a);return this.draw(i)}},{key:"circle",value:function(e,t,n,r){var a=this.gen.circle(e,t,n,r);return this.draw(a)}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n)}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n)}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,s=this.gen.arc(e,t,n,r,a,i,o,l);return this.draw(s)}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n)}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n)}}]),e}();const u={canvas:function(e,t){return new l(e,t)},svg:function(e,t){return new c(e,t)},generator:function(e){return new o.V(e)},newSeed:function(){return o.V.newSeed()}}},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var l=2*(r+1)-1,s=e[l],c=l+1,u=e[c];if(0>i(s,n))c<a&&0>i(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[l]=n,r=l);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,x(e),!v)if(null!==r(c))v=!0,L(k);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function k(e,n){v=!1,m&&(m=!1,y(M),M=-1),p=!0;var i=h;try{for(x(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!I());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var l=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?f.callback=l:f===r(c)&&a(c),x(n)}else a(c);f=r(c)}if(null!==f)var s=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),s=!1}return s}finally{f=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,C=null,M=-1,_=5,Z=-1;function I(){return!(t.unstable_now()-Z<_)}function T(){if(null!==C){var e=t.unstable_now();Z=e;var n=!0;try{n=C(!0,e)}finally{n?E():(S=!1,C=null)}}else S=!1}if("function"===typeof b)E=function(){b(T)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,P=j.port2;j.port1.onmessage=T,E=function(){P.postMessage(null)}}else E=function(){g(T,0)};function L(e){C=e,S||(S=!0,E())}function D(e,n){M=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(y(M),M=-1):m=!0,D(w,i-o))):(e.sortIndex=l,n(c,e),v||p||(v=!0,L(k))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},460:e=>{e.exports=function(e,t){var n=[];e.on("data",(function(e){n.push(e)})),e.once("end",(function(){t&&t(null,Buffer.concat(n)),t=null})),e.once("error",(function(e){t&&t(e),t=null}))}},3998:(e,t,n)=>{e.exports=d;var r=n(460),a=n(8013),i=n(2181),o=n(5687),l=n(4876),s=n(3477),c=n(7310),u=function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.pipe};function d(e,t){if(e=Object.assign({maxRedirects:10},"string"===typeof e?{url:e}:e),t=l(t),e.url){var n=c.parse(e.url),r=n.hostname,f=n.port,h=n.protocol,p=n.auth,v=n.path;delete e.url,r||f||h||p?Object.assign(e,{hostname:r,port:f,protocol:h,auth:p,path:v}):e.path=v}var m,g={"accept-encoding":"gzip, deflate"};e.headers&&Object.keys(e.headers).forEach((function(t){return g[t.toLowerCase()]=e.headers[t]})),e.headers=g,e.body?m=e.json&&!u(e.body)?JSON.stringify(e.body):e.body:e.form&&(m="string"===typeof e.form?e.form:s.stringify(e.form),e.headers["content-type"]="application/x-www-form-urlencoded"),m&&(e.method||(e.method="POST"),u(m)||(e.headers["content-length"]=Buffer.byteLength(m)),e.json&&!e.form&&(e.headers["content-type"]="application/json")),delete e.body,delete e.form,e.json&&(e.headers.accept="application/json"),e.method&&(e.method=e.method.toUpperCase());var y=e.hostname,b=("https:"===e.protocol?o:i).request(e,(function(n){if(!1!==e.followRedirects&&n.statusCode>=300&&n.statusCode<400&&n.headers.location){e.url=n.headers.location,delete e.headers.host,n.resume();var r=c.parse(e.url).hostname;return null!==r&&r!==y&&(delete e.headers.cookie,delete e.headers.authorization),"POST"===e.method&&[301,302].includes(n.statusCode)&&(e.method="GET",delete e.headers["content-length"],delete e.headers["content-type"]),0===e.maxRedirects--?t(new Error("too many redirects")):d(e,t)}var i="function"===typeof a&&"HEAD"!==e.method;t(null,i?a(n):n)}));return b.on("timeout",(function(){b.abort(),t(new Error("Request timed out"))})),b.on("error",t),u(m)?m.on("error",t).pipe(b):b.end(m),b}d.concat=function(e,t){return d(e,(function(n,a){if(n)return t(n);r(a,(function(n,r){if(n)return t(n);if(e.json)try{r=JSON.parse(r.toString())}catch(n){return t(n,a,r)}t(null,a,r)}))}))},["get","post","put","patch","head","delete"].forEach((function(e){d[e]=function(t,n){return"string"===typeof t&&(t={url:t}),d(Object.assign({method:e.toUpperCase()},t),n)}}))},4558:e=>{e.exports=function(e,t,n){var r=[],a=e.length;if(0===a)return r;var i=t<0?Math.max(0,t+a):t||0;for(void 0!==n&&(a=n<0?n+a:n);a-- >i;)r[a-i]=e[a];return r}},1561:(e,t,n)=>{"use strict";var r=n(2791);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,o=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return l((function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})}),[e,n,t]),o((function(){return c(a)&&u({inst:a}),e((function(){c(a)&&u({inst:a})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},7595:(e,t,n)=>{"use strict";var r=n(2791),a=n(7248);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,l=r.useRef,s=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==a&&f.hasValue){var t=f.value;if(a(t,e))return l=t}return l=e}if(t=l,i(o,e))return t;var n=r(e);return void 0!==a&&a(t,n)?t:(o=e,l=n)}var o,l,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,a]);var h=o(e,d[0],d[1]);return s((function(){f.hasValue=!0,f.value=h}),[h]),u(h),h}},7248:(e,t,n)=>{"use strict";e.exports=n(1561)},327:(e,t,n)=>{"use strict";e.exports=n(7595)},6418:e=>{e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!==typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),a=e[e.length-1];return"function"===typeof r&&r!==a&&Object.keys(a).forEach((function(e){r[e]=a[e]})),r}}},2916:()=>{"use strict"},5491:(e,t,n)=>{var r={"./ar-SA.json":[966,2091],"./az-AZ.json":[5249,4568],"./bg-BG.json":[5574,1628],"./bn-BD.json":[5609,7429],"./ca-ES.json":[197,5130],"./cs-CZ.json":[6974,6265],"./da-DK.json":[5587,1790],"./de-DE.json":[4048,3082],"./el-GR.json":[4020,1513],"./en.json":[790],"./es-ES.json":[3840,8759],"./eu-ES.json":[2565,8081],"./fa-IR.json":[9218,5330],"./fi-FI.json":[8584,3512],"./fr-FR.json":[4824,3682],"./gl-ES.json":[4111,2943],"./he-IL.json":[5577,2312],"./hi-IN.json":[9223,9828],"./hu-HU.json":[7972,7368],"./id-ID.json":[1122,3808],"./it-IT.json":[9064,6239],"./ja-JP.json":[2301,1204],"./kaa.json":[1394,663],"./kab-KAB.json":[1384,9551],"./kk-KZ.json":[8358,22],"./km-KH.json":[7607,6566],"./ko-KR.json":[2511,6844],"./ku-TR.json":[6612,3031],"./lt-LT.json":[2045,8340],"./lv-LV.json":[8586,6768],"./mr-IN.json":[6161,3397],"./my-MM.json":[5610,1477],"./nb-NO.json":[7288,2359],"./nl-NL.json":[4402,3024],"./nn-NO.json":[8865,3885],"./oc-FR.json":[9302,1690],"./pa-IN.json":[116,3162],"./percentages.json":[2675],"./pl-PL.json":[258,3674],"./pt-BR.json":[6837,3721],"./pt-PT.json":[2176,5395],"./ro-RO.json":[6362,5089],"./ru-RU.json":[9925,8124],"./si-LK.json":[2707,1302],"./sk-SK.json":[1094,8750],"./sl-SI.json":[6979,6071],"./sv-SE.json":[9385,8534],"./ta-IN.json":[3131,2404],"./th-TH.json":[653,537],"./tr-TR.json":[9961,4977],"./uk-UA.json":[4924,7759],"./vi-VN.json":[931,4e3],"./zh-CN.json":[9890,4680],"./zh-HK.json":[8539,7920],"./zh-TW.json":[6687,3421]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n.t(a,19)))}a.keys=()=>Object.keys(r),a.id=5491,e.exports=a},5719:e=>{"use strict";e.exports=require("../../../node_modules/canvas/build/Release/canvas.node")},7147:e=>{"use strict";e.exports=require("fs")},2181:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},3477:e=>{"use strict";e.exports=require("querystring")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:(e,t,n)=>{var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:(e,t,n)=>{var r=n(4062);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r(a.key),a)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:(e,t,n)=>{var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:(e,t,n)=>{var r=n(3808),a=n(9617),i=n(4993);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},3808:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:(e,t,n)=>{var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:e=>{e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:e=>{e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,a=u}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:(e,t,n)=>{var r=n(8698).default,a=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:(e,t,n)=>{var r=n(5372),a=n(8872),i=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:(e,t,n)=>{var r=n(3405),a=n(9498),i=n(6116),o=n(2281);e.exports=function(e){return r(e)||a(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:(e,t,n)=>{var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:(e,t,n)=>{var r=n(8698).default,a=n(5036);e.exports=function(e){var t=a(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:(e,t,n)=>{var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},907:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},7326:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},531:(e,t,n)=>{"use strict";function r(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function l(e){r(o,a,i,l,s,"next",e)}function s(e){r(o,a,i,l,s,"throw",e)}l(void 0)}))}}n.d(t,{Z:()=>a})},5671:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>r})},3144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9142);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(0,r.Z)(a.key),a)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}}},7277:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(1120),a=n(8814),i=n(1002),o=n(7326);function l(e){var t=(0,a.Z)();return function(){var n,a=(0,r.Z)(e);if(t){var l=(0,r.Z)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===(0,i.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}(this,n)}}},4942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9142);function a(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},1120:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:()=>r})},136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9611);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:(e,t,n)=>{"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:()=>r})},1413:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},4925:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,{Z:()=>r})},4165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(1002);function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),l=new _(r||[]);return i(o,"_invoke",{value:E(e,n,l)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=d;var h={};function p(){}function v(){}function m(){}var g={};u(g,l,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(Z([])));b&&b!==t&&n.call(b,l)&&(g=b);var x=m.prototype=p.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function a(i,o,l,s){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,l,s)}),(function(e){a("throw",e,l,s)})):t.resolve(d).then((function(e){u.value=e,l(u)}),(function(e){return a("throw",e,l,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return I()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=S(o,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function Z(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=m,i(x,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new k(d(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(x),u(x,c,"Generator"),u(x,l,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=Z,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;M(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:Z(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},9611:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:()=>r})},885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(181);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,a=u}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(907);var a=n(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(1002);function a(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==(0,r.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})},181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},9886:(e,t,n)=>{"use strict";n.d(t,{zt:()=>M,cn:()=>_,Vv:()=>k,KO:()=>T,Dv:()=>Z,b9:()=>I});var r=n(4942),a=n(1413),i=n(885),o=n(7762),l=n(2791),s=0;var c=Symbol(),u=function(e){return!!e[c]},d=function(e){return!e[c].c},f=function(e){var t,n=e[c],r=n.b,a=n.c;a&&(a(),null==(t=v.get(r))||t())},h=function e(t,n){var r=t[c].o,a=n[c].o;return r===a||t===a||u(r)&&e(r,n)},p=function(e,t){var n={b:e,o:t,c:null},r=new Promise((function(e){n.c=function(){n.c=null,e()},t.finally(n.c)}));return r[c]=n,r},v=new WeakMap,m=function(e){return"init"in e},g="r",y="w",b="c",x="s",w=function(e){var t,n,l=new WeakMap,s=new WeakMap,v=new Map;if(t=new Set,n=new Set,e){var w,k=(0,o.Z)(e);try{for(k.s();!(w=k.n()).done;){var E=(0,i.Z)(w.value,2),S=E[0],C={v:E[1],r:0,y:!0,d:new Map};Object.freeze(C),m(S)||console.warn("Found initial value for derived atom which can cause unexpected behavior",S),l.set(S,C)}}catch(q){k.e(q)}finally{k.f()}}var M,_=new WeakMap,Z=new WeakMap,I=function(e){var t=Z.get(e);return t||(t=new Map,Z.set(e,t)),t},T=function e(t,n){if(t){var r=I(t),a=r.get(n);return a||((a=e(t.p,n))&&"p"in a&&d(a.p)&&(a=void 0),a&&r.set(n,a)),a}return l.get(n)},j=function(e,t,n){if(Object.freeze(n),e){I(e).set(t,n)}else{var r=l.get(t);l.set(t,n),v.has(t)||v.set(t,r)}},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2?arguments[2]:void 0;if(!n)return t;var r=new Map,a=!1;return n.forEach((function(n){var i,o=(null==(i=T(e,n))?void 0:i.r)||0;r.set(n,o),t.get(n)!==o&&(a=!0)})),t.size!==r.size||a?r:t},L=function(e,t,n,r,a){var i=T(e,t);if(i){if(a&&(!("p"in i)||!h(i.p,a)))return i;"p"in i&&f(i.p)}var o={v:n,r:(null==i?void 0:i.r)||0,y:!0,d:P(e,null==i?void 0:i.d,r)},l=!(null==i?void 0:i.y);return i&&"v"in i&&Object.is(i.v,n)?o.d===i.d||o.d.size===i.d.size&&Array.from(o.d.keys()).every((function(e){return i.d.has(e)}))||(l=!0,Promise.resolve().then((function(){V(e)}))):(l=!0,++o.r,o.d.has(t)&&(o.d=new Map(o.d).set(t,o.r))),i&&!l?i:(j(e,t,o),o)},D=function(e,t,n,r,a){var i=T(e,t);if(i){if(a&&(!("p"in i)||!h(i.p,a)))return i;"p"in i&&f(i.p)}var o={e:n,r:((null==i?void 0:i.r)||0)+1,y:!0,d:P(e,null==i?void 0:i.d,r)};return j(e,t,o),o},O=function(e,t,n,r){var i=T(e,t);if(i&&"p"in i){if(h(i.p,n)&&!d(i.p))return i.y?i:(0,a.Z)((0,a.Z)({},i),{},{y:!0});f(i.p)}!function(e,t,n){var r=_.get(t);r||(r=new Map,_.set(t,r)),n.then((function(){r.get(e)===n&&(r.delete(e),r.size||_.delete(t))})),r.set(e,n)}(e,t,n);var o={p:n,r:((null==i?void 0:i.r)||0)+1,y:!0,d:P(e,null==i?void 0:i.d,r)};return j(e,t,o),o},R=function(e,t,n,r){if(n instanceof Promise){var a=p(n,n.then((function(n){L(e,t,n,r,a)})).catch((function(n){if(n instanceof Promise)return u(n)?n.then((function(){A(e,t,!0)})):n;D(e,t,n,r,a)})));return O(e,t,a,r)}return L(e,t,n,r)},A=function e(t,n,r){if(!r){var o=T(t,n);if(o){if(o.y&&"p"in o&&!d(o.p))return o;if(o.d.forEach((function(r,a){if(a!==n)if(s.has(a)){var i=T(t,a);i&&!i.y&&e(t,a)}else e(t,a)})),Array.from(o.d).every((function(e){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=T(t,r);return o&&!("p"in o)&&o.r===a})))return o.y?o:(0,a.Z)((0,a.Z)({},o),{},{y:!0})}}var l=new Set;try{var f=n.read((function(r){l.add(r);var a=r===n?T(t,r):e(t,r);if(a){if("e"in a)throw a.e;if("p"in a)throw a.p;return a.v}if(m(r))return r.init;throw new Error("no atom init")}));return R(t,n,f,l)}catch(v){if(v instanceof Promise){var h=u(v)&&d(v)?function(e){return p(e[c].b,e[c].o)}(v):p(v,v);return O(t,n,h,l)}return D(t,n,v,l)}},N=function(e,t){return A(t,e)},z=function(e,t){return!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e))},B=function e(t,n){var r=s.get(n);null==r||r.t.forEach((function(r){r!==n&&(!function(e,t){var n=T(e,t);if(n){var r=(0,a.Z)((0,a.Z)({},n),{},{y:!1});j(e,t,r)}else console.warn("[Bug] could not invalidate non existing atom",t)}(t,r),e(t,r))}))},F=function e(t,n,r){var a=!0,i=n.write((function e(n,r){var a=A(t,n);if("e"in a)throw a.e;if("p"in a){if(null==r?void 0:r.unstable_promise)return a.p.then((function(){var i=T(t,n);return i&&"p"in i&&i.p===a.p?new Promise((function(e){return setTimeout(e)})).then((function(){return e(n,r)})):e(n,r)}));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",n),a.p}if("v"in a)return a.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",n),new Error("no value found")}),(function(r,i){var o;if(r===n){if(!m(r))throw new Error("atom not writable");var l=function(e){var t=new Set,n=_.get(e);return n&&(_.delete(e),n.forEach((function(e,n){f(e),t.add(n)}))),t}(r);l.forEach((function(e){e!==t&&R(e,r,i)})),T(t,r)!==R(t,r,i)&&B(t,r)}else o=e(t,r,i);return a||V(t),o}),r);return a=!1,i},H=function(e,t,n){var r=F(n,e,t);return V(n),r},W=function e(t,r,a){var i={t:new Set(a&&[a]),l:new Set};if(s.set(r,i),n.add(r),A(void 0,r).d.forEach((function(n,a){var i=s.get(a);i?i.t.add(r):a!==r&&e(t,a,r)})),function(e){return!!e.write}(r)&&r.onMount){var o=r.onMount((function(e){return H(r,e,t)}));t=void 0,o&&(i.u=o)}return i},U=function e(t,r){var a,i=null==(a=s.get(r))?void 0:a.u;i&&i(),s.delete(r),n.delete(r);var o=T(t,r);o?("p"in o&&f(o.p),o.d.forEach((function(n,a){if(a!==r){var i=s.get(a);i&&(i.t.delete(r),z(a,i)&&e(t,a))}}))):console.warn("[Bug] could not find atom state to unmount",r)},K=function(e,t,n,r){var a=new Set(n.d.keys());null==r||r.forEach((function(n,r){if(a.has(r))a.delete(r);else{var i=s.get(r);i&&(i.t.delete(t),z(r,i)&&U(e,r))}})),a.forEach((function(n){var r=s.get(n);r?r.t.add(t):s.has(t)&&W(e,n,t)}))},V=function(e){if(e){I(e).forEach((function(t,n){if(t!==l.get(n)){var r=s.get(n);null==r||r.l.forEach((function(t){return t(e)}))}}))}else{for(;v.size;){var n=Array.from(v);v.clear(),n.forEach((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1],a=T(void 0,n);if(a&&a.d!==(null==r?void 0:r.d)&&K(void 0,n,a,null==r?void 0:r.d),!r||r.y||!(null==a?void 0:a.y)){var o=s.get(n);null==o||o.l.forEach((function(e){return e()}))}}))}t.forEach((function(e){return e()}))}},Y=function(e,t){t&&function(e){I(e).forEach((function(t,n){var r=l.get(n);(!r||t.r>r.r||t.y!==r.y||t.r===r.r&&t.d!==r.d)&&(l.set(n,t),t.d!==(null==r?void 0:r.d)&&K(e,n,t,null==r?void 0:r.d))}))}(t),V(void 0)},G=function(e,t,n){var r=function(e,t){var n=s.get(t);return n||(n=W(e,t)),n}(n,e),a=r.l;return a.add(t),function(){a.delete(t),function(e,t){var n=s.get(t);n&&z(t,n)&&U(e,t)}(n,e)}},X=function(e,t){var n,r=(0,o.Z)(e);try{for(r.s();!(n=r.n()).done;){var a=(0,i.Z)(n.value,2),l=a[0],s=a[1];m(l)&&(R(t,l,s),B(t,l))}}catch(q){r.e(q)}finally{r.f()}V(t)};return M={},(0,r.Z)(M,g,N),(0,r.Z)(M,y,H),(0,r.Z)(M,b,Y),(0,r.Z)(M,x,G),(0,r.Z)(M,"h",X),(0,r.Z)(M,"n",(function(e){return t.add(e),function(){t.delete(e)}})),(0,r.Z)(M,"l",(function(){return n.values()})),(0,r.Z)(M,"a",(function(e){return l.get(e)})),(0,r.Z)(M,"m",(function(e){return s.get(e)})),M},k=function(e){var t=w(e);return{get:function(e){var n=t[g](e);if("e"in n)throw n.e;if(!("p"in n))return n.v},asyncGet:function e(n){return new Promise((function(r,a){var i=t[g](n);"e"in i?a(i.e):r("p"in i?i.p.then((function(){return e(n)})):i.v)}))},set:function(e,n){return t[y](e,n)},sub:function(e,n){return t[x](e,n)},SECRET_INTERNAL_store:t}},E=function(e,t){return{s:t?t(e).SECRET_INTERNAL_store:w(e)}},S=new Map,C=function(e){return S.has(e)||S.set(e,(0,l.createContext)(E())),S.get(e)},M=function(e){var t=e.children,n=e.initialValues,r=e.scope,a=e.unstable_createStore,o=e.unstable_enableVersionedWrite,s=(0,l.useState)({}),c=(0,i.Z)(s,2),u=c[0],d=c[1];(0,l.useEffect)((function(){var e=f.current;e.w&&(e.s[b](null,u),delete u.p,e.v=u)}),[u]);var f=(0,l.useRef)();if(!f.current){var h=E(n,a);if(o){var p=0;h.w=function(e){d((function(t){var n=p?t:{p:t};return e(n),n}))},h.v=u,h.r=function(e){++p,e(),--p}}f.current=h}var v=C(r);return(0,l.createElement)(v.Provider,{value:f.current},t)};function _(e,t){return function(e,t){var n="atom".concat(++s),r={toString:function(){return n}};return"function"===typeof e?r.read=e:(r.init=e,r.read=function(e){return e(r)},r.write=function(e,t,n){return t(r,"function"===typeof n?n(e(r)):n)}),t&&(r.write=t),r}(e,t)}function Z(e,t){var n=C(t),r=(0,l.useContext)(n),a=r.s,o=r.v,s=function(t){var n=a[g](e,t);if(!n.y)throw new Error("should not be invalidated");if("e"in n)throw n.e;if("p"in n)throw n.p;if("v"in n)return n.v;throw new Error("no atom value")},c=(0,l.useReducer)((function(t,n){var r=s(n);return Object.is(t[1],r)&&t[2]===e?t:[n,r,e]}),o,(function(t){return[t,s(t),e]})),u=(0,i.Z)(c,2),d=(0,i.Z)(u[0],3),f=d[0],h=d[1],p=d[2],v=u[1],m=h;return p!==e&&(v(f),m=s(f)),(0,l.useEffect)((function(){var t=r.v;t&&a[b](e,t);var n=a[x](e,v,t);return v(t),n}),[a,e,r]),(0,l.useEffect)((function(){a[b](e,f)})),(0,l.useDebugValue)(m),m}function I(e,t){var n=C(t),r=(0,l.useContext)(n),a=r.s,i=r.w;return(0,l.useCallback)((function(t){if(!("write"in e))throw new Error("not writable atom");var n=function(n){return a[y](e,t,n)};return i?i(n):n()}),[a,i,e])}function T(e,t){return"scope"in e&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),t=e.scope),[Z(e,t),I(e,t)]}},4172:(e,t,n)=>{"use strict";n.d(t,{x0:()=>l});const r=require("crypto");var a,i,o=function(e){!a||a.length<e?(a=Buffer.allocUnsafe(128*e),r.randomFillSync(a),i=0):i+e>a.length&&(r.randomFillSync(a),i=0),i+=e},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;o(e-=0);for(var t="",n=i-e;n<i;n++)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&a[n]];return t}},8392:e=>{"use strict";e.exports=JSON.parse('{"name":"canvas","description":"Canvas graphics API backed by Cairo","version":"2.11.2","author":"TJ Holowaychuk <tj@learnboost.com>","main":"index.js","browser":"browser.js","contributors":["Nathan Rajlich <nathan@tootallnate.net>","Rod Vagg <r@va.gg>","Juriy Zaytsev <kangax@gmail.com>"],"keywords":["canvas","graphic","graphics","pixman","cairo","image","images","pdf"],"homepage":"https://github.com/Automattic/node-canvas","repository":"git://github.com/Automattic/node-canvas.git","scripts":{"prebenchmark":"node-gyp build","benchmark":"node benchmarks/run.js","lint":"standard examples/*.js test/server.js test/public/*.js benchmarks/run.js lib/context2d.js util/has_lib.js browser.js index.js","test":"mocha test/*.test.js","pretest-server":"node-gyp build","test-server":"node test/server.js","generate-wpt":"node ./test/wpt/generate.js","test-wpt":"mocha test/wpt/generated/*.js","install":"node-pre-gyp install --fallback-to-build --update-binary","dtslint":"dtslint types"},"binary":{"module_name":"canvas","module_path":"build/Release","host":"https://github.com/Automattic/node-canvas/releases/download/","remote_path":"v{version}","package_name":"{module_name}-v{version}-{node_abi}-{platform}-{libc}-{arch}.tar.gz"},"files":["binding.gyp","lib/","src/","util/","types/index.d.ts"],"types":"types/index.d.ts","dependencies":{"@mapbox/node-pre-gyp":"^1.0.0","nan":"^2.17.0","simple-get":"^3.0.3"},"devDependencies":{"@types/node":"^10.12.18","assert-rejects":"^1.0.0","dtslint":"^4.0.7","express":"^4.16.3","js-yaml":"^4.1.0","mocha":"^5.2.0","pixelmatch":"^4.0.2","standard":"^12.0.1","typescript":"^4.2.2"},"engines":{"node":">=6"},"license":"MIT"}')},9495:e=>{"use strict";e.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},790:e=>{"use strict";e.exports=JSON.parse('{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","noto":"Noto","notoSans":"Noto Sans","notoSerif":"Noto Serif","notoMono":"Noto Serif Mono","fontWeight":"Font weight","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library\u2026","libraries":"Browse libraries","loadingScene":"Loading scene\u2026","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","editEmbed":"Edit link & embed","create":"Create link","createEmbed":"Create link & embed","label":"Link","labelEmbed":"Link & embed","empty":"No link is set"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open","selectAllElementsInFrame":"Select all elements in frame","removeAllElementsFromFrame":"Remove all elements from frame","eyeDropper":"Pick color from canvas"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","copyToClipboard":"Copy to clipboard","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","objectsSnapMode":"Snap to objects","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","embed":"Toggle embedding","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm","embeddableInteractionButton":"Click to interact"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn\'t add item to the library","errorRemovingFromLibrary":"Couldn\'t remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn\'t insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn\'t insert SVG image. The SVG markup looks invalid.","failedToFetchImage":"Failed to fetch image.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn\'t connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn\'t load library","collabSaveFailed":"Couldn\'t save to the backend database. If problems persist, you should save your file locally to ensure you don\'t lose your work.","collabSaveFailed_sizeExceeded":"Couldn\'t save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don\'t lose your work.","brave_measure_text_error":{"line1":"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.","line2":"This could result in breaking the <bold>Text Elements</bold> in your drawings.","line3":"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.","line4":"If disabling this setting doesn\'t fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},"libraryElementTypeError":{"embeddable":"Embeddable elements cannot be added to the library.","image":"Support for adding images to the library coming soon!"},"asyncPasteFailedOnRead":"Couldn\'t paste (couldn\'t read from system clipboard).","asyncPasteFailedOnParse":"Couldn\'t paste.","copyToSystemClipboardFailed":"Couldn\'t copy to clipboard."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","frame":"Frame tool","embeddable":"Web Embed","laser":"Laser pointer","hand":"Hand (panning tool)","extraTools":"More tools"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","embeddable":"Click-drag to create a website embed","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page.","disableSnapping":"Hold CtrlOrCmd to disable snapping"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain":"Encountered an error. Try <button>reloading the page</button>.","clearCanvasMessage":"If reloading doesn\'t work, try <button>clearing the canvas</button>.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry":"The error with identifier {{eventId}} was tracked on our system.","openIssueMessage":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn\'t export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.","noteGuidelines":"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.","noteLicense":"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.","noteItems":"Each library item must have its own name so it\'s filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"imageExportDialog":{"header":"Export image","label":{"withBackground":"Background","onlySelected":"Only selected","darkMode":"Dark mode","embedScene":"Embed scene","scale":"Scale","padding":"Padding"},"tooltip":{"embedScene":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size."},"title":{"exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyPngToClipboard":"Copy PNG to clipboard"},"button":{"exportToPng":"PNG","exportToSvg":"SVG","copyPngToClipboard":"Copy to clipboard"}},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor","unableToEmbed":"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted","unrecognizedLinkFormat":"The link you embedded does not match the expected format. Please try to paste the \'embed\' string provided by the source site"},"colors":{"transparent":"Transparent","black":"Black","white":"White","red":"Red","pink":"Pink","grape":"Grape","violet":"Violet","gray":"Gray","blue":"Blue","cyan":"Cyan","teal":"Teal","green":"Green","yellow":"Yellow","orange":"Orange","bronze":"Bronze"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}},"colorPicker":{"mostUsedCustomColors":"Most used custom colors","colors":"Colors","shades":"Shades","hexCode":"Hex code","noShades":"No shades available for this color"},"overwriteConfirm":{"action":{"exportToImage":{"title":"Export as image","button":"Export as image","description":"Export the scene data as an image from which you can import later."},"saveToDisk":{"title":"Save to disk","button":"Save to disk","description":"Export the scene data to a file from which you can import later."},"excalidrawPlus":{"title":"Excalidraw+","button":"Export to Excalidraw+","description":"Save the scene to your Excalidraw+ workspace."}},"modal":{"loadFromFile":{"title":"Load from file","button":"Load from file","description":"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},"shareableLink":{"title":"Load from link","button":"Replace my content","description":"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}}}')},2675:e=>{"use strict";e.exports=JSON.parse('{"ar-SA":99,"az-AZ":18,"bg-BG":75,"bn-BD":55,"ca-ES":81,"cs-CZ":91,"da-DK":31,"de-DE":100,"el-GR":85,"en":100,"es-ES":96,"eu-ES":99,"fa-IR":87,"fi-FI":81,"fr-FR":98,"gl-ES":90,"he-IL":81,"hi-IN":75,"hu-HU":70,"id-ID":96,"it-IT":99,"ja-JP":95,"kaa":34,"kab-KAB":80,"kk-KZ":20,"km-KH":87,"ko-KR":100,"ku-TR":92,"lt-LT":51,"lv-LV":82,"mr-IN":92,"my-MM":37,"nb-NO":99,"nl-NL":79,"nn-NO":71,"oc-FR":79,"pa-IN":82,"pl-PL":100,"pt-BR":96,"pt-PT":88,"ro-RO":98,"ru-RU":94,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":100,"ta-IN":85,"th-TH":46,"tr-TR":91,"uk-UA":99,"vi-VN":51,"zh-CN":99,"zh-HK":24,"zh-TW":100}')}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+({22:"locales/kk-KZ-json",537:"locales/th-TH-json",663:"locales/kaa-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4568:"locales/az-AZ-json",4680:"locales/zh-CN-json",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6566:"locales/km-KH-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[e]||e)+"."+{22:"c0fa478f",528:"a2477e58",537:"e1a6e74c",663:"d3f7926d",1204:"7ef8ac57",1302:"e401b6da",1477:"2920873c",1513:"68148289",1628:"791e161f",1690:"394dfb2d",1790:"6f5c937d",2091:"c51572e6",2312:"aeb36e6a",2359:"e9db4c2d",2404:"f66f232e",2522:"200426b0",2943:"c9dc0ffd",3024:"d99b8c13",3031:"5629adf1",3082:"b997f874",3162:"7e00e95f",3397:"75a27e7e",3421:"f5a878df",3512:"039089b1",3674:"8394b846",3682:"71ce26c3",3721:"aa96c555",3808:"53c01465",3885:"af092027",4e3:"a29c1a13",4568:"3580e627",4680:"81ef3307",4977:"30f185b4",5089:"87214c0f",5130:"838e733a",5330:"c739cf90",5395:"45276bc0",5877:"d8e77302",6039:"154087c7",6071:"6c92f386",6239:"10defd15",6265:"2bf7bdf1",6566:"403a654f",6745:"64ad5e23",6768:"b37df236",6844:"1235c18d",7368:"4b9741b6",7429:"64718c8f",7759:"cdda7d64",7920:"f4c00b86",8081:"e74e91fa",8124:"1e1d8378",8340:"ed37ceec",8534:"16f6f8fe",8750:"9dd56c55",8759:"e102d9c4",8968:"0f92e767",9511:"8c0b475e",9551:"3f75f5e7",9828:"dfb4f815",9954:"ac2d3d1b"}[e]+".chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",n.nc=void 0,(()=>{var e={179:1};n.f.require=(t,r)=>{e[t]||(t=>{var r=t.modules,a=t.ids,i=t.runtime;for(var o in r)n.o(r,o)&&(n.m[o]=r[o]);i&&i(n);for(var l=0;l<a.length;l++)e[a[l]]=1})(require("../../"+n.u(t)))}})(),(()=>{"use strict";var e=n(1413),t=n(5972),r=n(6462),a=n(8640),i=a.registerFont,o=a.createCanvas;i("./public/Virgil.woff2",{family:"Virgil"}),i("./public/Cascadia.woff2",{family:"Cascadia"});var l=(0,t.NL)([{id:"eVzaxG3YnHhqjEmD7NdYo",type:"diamond",x:519,y:199,width:113,height:115,strokeColor:"#000000",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,roughness:1,opacity:100,seed:749612521},{id:"7W-iw5pEBPTU3eaCaLtFo",type:"ellipse",x:552,y:238,width:49,height:44,strokeColor:"#000000",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,roughness:1,opacity:100,seed:952056308},{id:"kqKI231mvTrcsYo2DkUsR",type:"text",x:557.5,y:317.5,width:43,height:31,strokeColor:"#000000",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,roughness:1,opacity:100,seed:1683771448,text:"test",font:"20px Virgil",baseline:22}],(0,e.Z)((0,e.Z)({},(0,r.im)()),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),{},{exportBackground:!0,viewBackgroundColor:"#ffffff"},o),s=n(7147).createWriteStream("test.png");l.createPNGStream().pipe(s),s.on("finish",(function(){console.info("test.png was created.")}))})()})();
//# sourceMappingURL=build-node.js.map